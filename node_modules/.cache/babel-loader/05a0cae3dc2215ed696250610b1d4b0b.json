{"ast":null,"code":"!function (t, e) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = e() : \"function\" == typeof define && define.amd ? define([], e) : \"object\" == typeof exports ? exports.rollbar = e() : t.rollbar = e();\n}(this, function () {\n  return function (t) {\n    var e = {};\n\n    function r(n) {\n      if (e[n]) return e[n].exports;\n      var o = e[n] = {\n        i: n,\n        l: !1,\n        exports: {}\n      };\n      return t[n].call(o.exports, o, o.exports, r), o.l = !0, o.exports;\n    }\n\n    return r.m = t, r.c = e, r.d = function (t, e, n) {\n      r.o(t, e) || Object.defineProperty(t, e, {\n        enumerable: !0,\n        get: n\n      });\n    }, r.r = function (t) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n    }, r.t = function (t, e) {\n      if (1 & e && (t = r(t)), 8 & e) return t;\n      if (4 & e && \"object\" == typeof t && t && t.__esModule) return t;\n      var n = Object.create(null);\n      if (r.r(n), Object.defineProperty(n, \"default\", {\n        enumerable: !0,\n        value: t\n      }), 2 & e && \"string\" != typeof t) for (var o in t) r.d(n, o, function (e) {\n        return t[e];\n      }.bind(null, o));\n      return n;\n    }, r.n = function (t) {\n      var e = t && t.__esModule ? function () {\n        return t.default;\n      } : function () {\n        return t;\n      };\n      return r.d(e, \"a\", e), e;\n    }, r.o = function (t, e) {\n      return Object.prototype.hasOwnProperty.call(t, e);\n    }, r.p = \"\", r(r.s = 6);\n  }([function (t, e, r) {\n    \"use strict\";\n\n    var n = r(12),\n        o = {};\n\n    function i(t, e) {\n      return e === s(t);\n    }\n\n    function s(t) {\n      var e = typeof t;\n      return \"object\" !== e ? e : t ? t instanceof Error ? \"error\" : {}.toString.call(t).match(/\\s([a-zA-Z]+)/)[1].toLowerCase() : \"null\";\n    }\n\n    function a(t) {\n      return i(t, \"function\");\n    }\n\n    function u(t) {\n      var e = Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\\\^$.*+?()[\\]{}|]/g, \"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, \"$1.*?\"),\n          r = RegExp(\"^\" + e + \"$\");\n      return c(t) && r.test(t);\n    }\n\n    function c(t) {\n      var e = typeof t;\n      return null != t && (\"object\" == e || \"function\" == e);\n    }\n\n    function l() {\n      var t = v();\n      return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (e) {\n        var r = (t + 16 * Math.random()) % 16 | 0;\n        return t = Math.floor(t / 16), (\"x\" === e ? r : 7 & r | 8).toString(16);\n      });\n    }\n\n    var p = {\n      strictMode: !1,\n      key: [\"source\", \"protocol\", \"authority\", \"userInfo\", \"user\", \"password\", \"host\", \"port\", \"relative\", \"path\", \"directory\", \"file\", \"query\", \"anchor\"],\n      q: {\n        name: \"queryKey\",\n        parser: /(?:^|&)([^&=]*)=?([^&]*)/g\n      },\n      parser: {\n        strict: /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,\n        loose: /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/\n      }\n    };\n\n    function f(t, e) {\n      var r, n;\n\n      try {\n        r = o.stringify(t);\n      } catch (o) {\n        if (e && a(e)) try {\n          r = e(t);\n        } catch (t) {\n          n = t;\n        } else n = o;\n      }\n\n      return {\n        error: n,\n        value: r\n      };\n    }\n\n    function h(t, e) {\n      return function (r, n) {\n        try {\n          e(r, n);\n        } catch (e) {\n          t.error(e);\n        }\n      };\n    }\n\n    var d = [\"log\", \"network\", \"dom\", \"navigation\", \"error\", \"manual\"],\n        m = [\"critical\", \"error\", \"warning\", \"info\", \"debug\"];\n\n    function g(t, e) {\n      for (var r = 0; r < t.length; ++r) if (t[r] === e) return !0;\n\n      return !1;\n    }\n\n    function v() {\n      return Date.now ? +Date.now() : +new Date();\n    }\n\n    t.exports = {\n      addParamsAndAccessTokenToPath: function (t, e, r) {\n        (r = r || {}).access_token = t;\n        var n,\n            o = [];\n\n        for (n in r) Object.prototype.hasOwnProperty.call(r, n) && o.push([n, r[n]].join(\"=\"));\n\n        var i = \"?\" + o.sort().join(\"&\");\n        (e = e || {}).path = e.path || \"\";\n        var s,\n            a = e.path.indexOf(\"?\"),\n            u = e.path.indexOf(\"#\");\n        -1 !== a && (-1 === u || u > a) ? (s = e.path, e.path = s.substring(0, a) + i + \"&\" + s.substring(a + 1)) : -1 !== u ? (s = e.path, e.path = s.substring(0, u) + i + s.substring(u)) : e.path = e.path + i;\n      },\n      createItem: function (t, e, r, o, i) {\n        for (var a, u, c, p, f, d, m = [], g = [], y = 0, b = t.length; y < b; ++y) {\n          var w = s(d = t[y]);\n\n          switch (g.push(w), w) {\n            case \"undefined\":\n              break;\n\n            case \"string\":\n              a ? m.push(d) : a = d;\n              break;\n\n            case \"function\":\n              p = h(e, d);\n              break;\n\n            case \"date\":\n              m.push(d);\n              break;\n\n            case \"error\":\n            case \"domexception\":\n            case \"exception\":\n              u ? m.push(d) : u = d;\n              break;\n\n            case \"object\":\n            case \"array\":\n              if (d instanceof Error || \"undefined\" != typeof DOMException && d instanceof DOMException) {\n                u ? m.push(d) : u = d;\n                break;\n              }\n\n              if (o && \"object\" === w && !f) {\n                for (var _ = 0, x = o.length; _ < x; ++_) if (void 0 !== d[o[_]]) {\n                  f = d;\n                  break;\n                }\n\n                if (f) break;\n              }\n\n              c ? m.push(d) : c = d;\n              break;\n\n            default:\n              if (d instanceof Error || \"undefined\" != typeof DOMException && d instanceof DOMException) {\n                u ? m.push(d) : u = d;\n                break;\n              }\n\n              m.push(d);\n          }\n        }\n\n        m.length > 0 && ((c = n(c)).extraArgs = m);\n        var k = {\n          message: a,\n          err: u,\n          custom: c,\n          timestamp: v(),\n          callback: p,\n          notifier: r,\n          diagnostic: {},\n          uuid: l()\n        };\n        return function (t, e) {\n          e && void 0 !== e.level && (t.level = e.level, delete e.level);\n          e && void 0 !== e.skipFrames && (t.skipFrames = e.skipFrames, delete e.skipFrames);\n        }(k, c), o && f && (k.request = f), i && (k.lambdaContext = i), k._originalArgs = t, k.diagnostic.original_arg_types = g, k;\n      },\n      addErrorContext: function (t, e) {\n        var r = t.data.custom || {},\n            o = !1;\n\n        try {\n          for (var i = 0; i < e.length; ++i) e[i].hasOwnProperty(\"rollbarContext\") && (r = n(r, e[i].rollbarContext), o = !0);\n\n          o && (t.data.custom = r);\n        } catch (e) {\n          t.diagnostic.error_context = \"Failed: \" + e.message;\n        }\n      },\n      createTelemetryEvent: function (t) {\n        for (var e, r, n, o, i = 0, a = t.length; i < a; ++i) {\n          switch (s(o = t[i])) {\n            case \"string\":\n              !e && g(d, o) ? e = o : !n && g(m, o) && (n = o);\n              break;\n\n            case \"object\":\n              r = o;\n          }\n        }\n\n        return {\n          type: e || \"manual\",\n          metadata: r || {},\n          level: n\n        };\n      },\n      filterIp: function (t, e) {\n        if (t && t.user_ip && !0 !== e) {\n          var r = t.user_ip;\n          if (e) try {\n            var n;\n            if (-1 !== r.indexOf(\".\")) (n = r.split(\".\")).pop(), n.push(\"0\"), r = n.join(\".\");else if (-1 !== r.indexOf(\":\")) {\n              if ((n = r.split(\":\")).length > 2) {\n                var o = n.slice(0, 3),\n                    i = o[2].indexOf(\"/\");\n                -1 !== i && (o[2] = o[2].substring(0, i));\n                r = o.concat(\"0000:0000:0000:0000:0000\").join(\":\");\n              }\n            } else r = null;\n          } catch (t) {\n            r = null;\n          } else r = null;\n          t.user_ip = r;\n        }\n      },\n      formatArgsAsString: function (t) {\n        var e,\n            r,\n            n,\n            o = [];\n\n        for (e = 0, r = t.length; e < r; ++e) {\n          switch (s(n = t[e])) {\n            case \"object\":\n              (n = (n = f(n)).error || n.value).length > 500 && (n = n.substr(0, 497) + \"...\");\n              break;\n\n            case \"null\":\n              n = \"null\";\n              break;\n\n            case \"undefined\":\n              n = \"undefined\";\n              break;\n\n            case \"symbol\":\n              n = n.toString();\n          }\n\n          o.push(n);\n        }\n\n        return o.join(\" \");\n      },\n      formatUrl: function (t, e) {\n        if (!(e = e || t.protocol) && t.port && (80 === t.port ? e = \"http:\" : 443 === t.port && (e = \"https:\")), e = e || \"https:\", !t.hostname) return null;\n        var r = e + \"//\" + t.hostname;\n        return t.port && (r = r + \":\" + t.port), t.path && (r += t.path), r;\n      },\n      get: function (t, e) {\n        if (t) {\n          var r = e.split(\".\"),\n              n = t;\n\n          try {\n            for (var o = 0, i = r.length; o < i; ++o) n = n[r[o]];\n          } catch (t) {\n            n = void 0;\n          }\n\n          return n;\n        }\n      },\n      handleOptions: function (t, e, r, o) {\n        var i = n(t, e, r);\n        return i = function (t, e) {\n          t.hostWhiteList && !t.hostSafeList && (t.hostSafeList = t.hostWhiteList, t.hostWhiteList = void 0, e && e.log(\"hostWhiteList is deprecated. Use hostSafeList.\"));\n          t.hostBlackList && !t.hostBlockList && (t.hostBlockList = t.hostBlackList, t.hostBlackList = void 0, e && e.log(\"hostBlackList is deprecated. Use hostBlockList.\"));\n          return t;\n        }(i, o), !e || e.overwriteScrubFields || e.scrubFields && (i.scrubFields = (t.scrubFields || []).concat(e.scrubFields)), i;\n      },\n      isError: function (t) {\n        return i(t, \"error\") || i(t, \"exception\");\n      },\n      isFunction: a,\n      isIterable: function (t) {\n        var e = s(t);\n        return \"object\" === e || \"array\" === e;\n      },\n      isNativeFunction: u,\n      isType: i,\n      isObject: c,\n      isString: function (t) {\n        return \"string\" == typeof t || t instanceof String;\n      },\n      jsonParse: function (t) {\n        var e, r;\n\n        try {\n          e = o.parse(t);\n        } catch (t) {\n          r = t;\n        }\n\n        return {\n          error: r,\n          value: e\n        };\n      },\n      LEVELS: {\n        debug: 0,\n        info: 1,\n        warning: 2,\n        error: 3,\n        critical: 4\n      },\n      makeUnhandledStackInfo: function (t, e, r, n, o, i, s, a) {\n        var u = {\n          url: e || \"\",\n          line: r,\n          column: n\n        };\n        u.func = a.guessFunctionName(u.url, u.line), u.context = a.gatherContext(u.url, u.line);\n        var c = document && document.location && document.location.href,\n            l = window && window.navigator && window.navigator.userAgent;\n        return {\n          mode: i,\n          message: o ? String(o) : t || s,\n          url: c,\n          stack: [u],\n          useragent: l\n        };\n      },\n      merge: n,\n      now: v,\n      redact: function () {\n        return \"********\";\n      },\n      RollbarJSON: o,\n      sanitizeUrl: function (t) {\n        var e = function (t) {\n          if (!i(t, \"string\")) return;\n\n          for (var e = p, r = e.parser[e.strictMode ? \"strict\" : \"loose\"].exec(t), n = {}, o = 0, s = e.key.length; o < s; ++o) n[e.key[o]] = r[o] || \"\";\n\n          return n[e.q.name] = {}, n[e.key[12]].replace(e.q.parser, function (t, r, o) {\n            r && (n[e.q.name][r] = o);\n          }), n;\n        }(t);\n\n        return e ? (\"\" === e.anchor && (e.source = e.source.replace(\"#\", \"\")), t = e.source.replace(\"?\" + e.query, \"\")) : \"(unknown)\";\n      },\n      set: function (t, e, r) {\n        if (t) {\n          var n = e.split(\".\"),\n              o = n.length;\n          if (!(o < 1)) if (1 !== o) try {\n            for (var i = t[n[0]] || {}, s = i, a = 1; a < o - 1; ++a) i[n[a]] = i[n[a]] || {}, i = i[n[a]];\n\n            i[n[o - 1]] = r, t[n[0]] = s;\n          } catch (t) {\n            return;\n          } else t[n[0]] = r;\n        }\n      },\n      setupJSON: function (t) {\n        a(o.stringify) && a(o.parse) || (i(JSON, \"undefined\") || (t ? (u(JSON.stringify) && (o.stringify = JSON.stringify), u(JSON.parse) && (o.parse = JSON.parse)) : (a(JSON.stringify) && (o.stringify = JSON.stringify), a(JSON.parse) && (o.parse = JSON.parse))), a(o.stringify) && a(o.parse) || t && t(o));\n      },\n      stringify: f,\n      maxByteSize: function (t) {\n        for (var e = 0, r = t.length, n = 0; n < r; n++) {\n          var o = t.charCodeAt(n);\n          o < 128 ? e += 1 : o < 2048 ? e += 2 : o < 65536 && (e += 3);\n        }\n\n        return e;\n      },\n      typeName: s,\n      uuid4: l\n    };\n  }, function (t, e, r) {\n    \"use strict\";\n\n    r(17);\n    var n = r(18),\n        o = r(0);\n    t.exports = {\n      error: function () {\n        var t = Array.prototype.slice.call(arguments, 0);\n        t.unshift(\"Rollbar:\"), n.ieVersion() <= 8 ? console.error(o.formatArgsAsString(t)) : console.error.apply(console, t);\n      },\n      info: function () {\n        var t = Array.prototype.slice.call(arguments, 0);\n        t.unshift(\"Rollbar:\"), n.ieVersion() <= 8 ? console.info(o.formatArgsAsString(t)) : console.info.apply(console, t);\n      },\n      log: function () {\n        var t = Array.prototype.slice.call(arguments, 0);\n        t.unshift(\"Rollbar:\"), n.ieVersion() <= 8 ? console.log(o.formatArgsAsString(t)) : console.log.apply(console, t);\n      }\n    };\n  }, function (t, e, r) {\n    \"use strict\";\n\n    t.exports = {\n      parse: function (t) {\n        var e,\n            r,\n            n = {\n          protocol: null,\n          auth: null,\n          host: null,\n          path: null,\n          hash: null,\n          href: t,\n          hostname: null,\n          port: null,\n          pathname: null,\n          search: null,\n          query: null\n        };\n\n        if (-1 !== (e = t.indexOf(\"//\")) ? (n.protocol = t.substring(0, e), r = e + 2) : r = 0, -1 !== (e = t.indexOf(\"@\", r)) && (n.auth = t.substring(r, e), r = e + 1), -1 === (e = t.indexOf(\"/\", r))) {\n          if (-1 === (e = t.indexOf(\"?\", r))) return -1 === (e = t.indexOf(\"#\", r)) ? n.host = t.substring(r) : (n.host = t.substring(r, e), n.hash = t.substring(e)), n.hostname = n.host.split(\":\")[0], n.port = n.host.split(\":\")[1], n.port && (n.port = parseInt(n.port, 10)), n;\n          n.host = t.substring(r, e), n.hostname = n.host.split(\":\")[0], n.port = n.host.split(\":\")[1], n.port && (n.port = parseInt(n.port, 10)), r = e;\n        } else n.host = t.substring(r, e), n.hostname = n.host.split(\":\")[0], n.port = n.host.split(\":\")[1], n.port && (n.port = parseInt(n.port, 10)), r = e;\n\n        if (-1 === (e = t.indexOf(\"#\", r)) ? n.path = t.substring(r) : (n.path = t.substring(r, e), n.hash = t.substring(e)), n.path) {\n          var o = n.path.split(\"?\");\n          n.pathname = o[0], n.query = o[1], n.search = n.query ? \"?\" + n.query : null;\n        }\n\n        return n;\n      }\n    };\n  }, function (t, e, r) {\n    \"use strict\";\n\n    var n = r(22),\n        o = new RegExp(\"^(([a-zA-Z0-9-_$ ]*): *)?(Uncaught )?([a-zA-Z0-9-_$ ]*): \");\n\n    function i() {\n      return null;\n    }\n\n    function s(t) {\n      var e = {};\n      return e._stackFrame = t, e.url = t.fileName, e.line = t.lineNumber, e.func = t.functionName, e.column = t.columnNumber, e.args = t.args, e.context = null, e;\n    }\n\n    function a(t, e) {\n      return {\n        stack: function () {\n          var r = [];\n          e = e || 0;\n\n          try {\n            r = n.parse(t);\n          } catch (t) {\n            r = [];\n          }\n\n          for (var o = [], i = e; i < r.length; i++) o.push(new s(r[i]));\n\n          return o;\n        }(),\n        message: t.message,\n        name: u(t),\n        rawStack: t.stack,\n        rawException: t\n      };\n    }\n\n    function u(t) {\n      var e = t.name && t.name.length && t.name,\n          r = t.constructor.name && t.constructor.name.length && t.constructor.name;\n      return e && r ? \"Error\" === e ? r : e : e || r;\n    }\n\n    t.exports = {\n      guessFunctionName: function () {\n        return \"?\";\n      },\n      guessErrorClass: function (t) {\n        if (!t || !t.match) return [\"Unknown error. There was no error message to display.\", \"\"];\n        var e = t.match(o),\n            r = \"(unknown)\";\n        return e && (r = e[e.length - 1], t = (t = t.replace((e[e.length - 2] || \"\") + r + \":\", \"\")).replace(/(^[\\s]+|[\\s]+$)/g, \"\")), [r, t];\n      },\n      gatherContext: i,\n      parse: function (t, e) {\n        var r = t;\n\n        if (r.nested) {\n          for (var n = []; r;) n.push(new a(r, e)), r = r.nested, e = 0;\n\n          return n[0].traceChain = n, n[0];\n        }\n\n        return new a(r, e);\n      },\n      Stack: a,\n      Frame: s\n    };\n  }, function (t, e, r) {\n    \"use strict\";\n\n    var n = r(0),\n        o = r(5);\n\n    function i(t, e) {\n      var r = e.split(\".\"),\n          o = r.length - 1;\n\n      try {\n        for (var i = 0; i <= o; ++i) i < o ? t = t[r[i]] : t[r[i]] = n.redact();\n      } catch (t) {}\n    }\n\n    t.exports = function (t, e, r) {\n      if (e = e || [], r) for (var s = 0; s < r.length; ++s) i(t, r[s]);\n\n      var a = function (t) {\n        for (var e, r = [], n = 0; n < t.length; ++n) e = \"^\\\\[?(%5[bB])?\" + t[n] + \"\\\\[?(%5[bB])?\\\\]?(%5[dD])?$\", r.push(new RegExp(e, \"i\"));\n\n        return r;\n      }(e),\n          u = function (t) {\n        for (var e, r = [], n = 0; n < t.length; ++n) e = \"\\\\[?(%5[bB])?\" + t[n] + \"\\\\[?(%5[bB])?\\\\]?(%5[dD])?\", r.push(new RegExp(\"(\" + e + \"=)([^&\\\\n]+)\", \"igm\"));\n\n        return r;\n      }(e);\n\n      function c(t, e) {\n        return e + n.redact();\n      }\n\n      return o(t, function t(e, r, i) {\n        var s = function (t, e) {\n          var r;\n\n          for (r = 0; r < a.length; ++r) if (a[r].test(t)) {\n            e = n.redact();\n            break;\n          }\n\n          return e;\n        }(e, r);\n\n        return s === r ? n.isType(r, \"object\") || n.isType(r, \"array\") ? o(r, t, i) : function (t) {\n          var e;\n          if (n.isType(t, \"string\")) for (e = 0; e < u.length; ++e) t = t.replace(u[e], c);\n          return t;\n        }(s) : s;\n      });\n    };\n  }, function (t, e, r) {\n    \"use strict\";\n\n    var n = r(0);\n\n    t.exports = function (t, e, r) {\n      var o,\n          i,\n          s,\n          a,\n          u = n.isType(t, \"object\"),\n          c = n.isType(t, \"array\"),\n          l = [];\n\n      if (r = r || {\n        obj: [],\n        mapped: []\n      }, u) {\n        if (a = r.obj.indexOf(t), u && -1 !== a) return r.mapped[a] || r.obj[a];\n        r.obj.push(t), a = r.obj.length - 1;\n      }\n\n      if (u) for (o in t) Object.prototype.hasOwnProperty.call(t, o) && l.push(o);else if (c) for (s = 0; s < t.length; ++s) l.push(s);\n      var p = u ? {} : [],\n          f = !0;\n\n      for (s = 0; s < l.length; ++s) i = t[o = l[s]], p[o] = e(o, i, r), f = f && p[o] === t[o];\n\n      return u && !f && (r.mapped[a] = p), f ? t : p;\n    };\n  }, function (t, e, r) {\n    t.exports = r(7);\n  }, function (t, e, r) {\n    \"use strict\";\n\n    var n = r(8),\n        o = \"undefined\" != typeof window && window._rollbarConfig,\n        i = o && o.globalAlias || \"Rollbar\",\n        s = \"undefined\" != typeof window && window[i] && \"function\" == typeof window[i].shimId && void 0 !== window[i].shimId();\n\n    if (\"undefined\" == typeof window || window._rollbarStartTime || (window._rollbarStartTime = new Date().getTime()), !s && o) {\n      var a = new n(o);\n      window[i] = a;\n    } else \"undefined\" != typeof window ? (window.rollbar = n, window._rollbarDidLoad = !0) : \"undefined\" != typeof self && (self.rollbar = n, self._rollbarDidLoad = !0);\n\n    t.exports = n;\n  }, function (t, e, r) {\n    \"use strict\";\n\n    var n = r(9),\n        o = r(29),\n        i = r(30),\n        s = r(32),\n        a = r(34),\n        u = r(4),\n        c = r(35);\n    n.setComponents({\n      telemeter: o,\n      instrumenter: i,\n      polyfillJSON: s,\n      wrapGlobals: a,\n      scrub: u,\n      truncation: c\n    }), t.exports = n;\n  }, function (t, e, r) {\n    \"use strict\";\n\n    var n = r(10),\n        o = r(0),\n        i = r(15),\n        s = r(1),\n        a = r(19),\n        u = r(20),\n        c = r(2),\n        l = r(21),\n        p = r(24),\n        f = r(25),\n        h = r(26),\n        d = r(3);\n\n    function m(t, e) {\n      this.options = o.handleOptions(x, t, null, s), this.options._configuredOptions = t;\n      var r = this.components.telemeter,\n          a = this.components.instrumenter,\n          d = this.components.polyfillJSON;\n      this.wrapGlobals = this.components.wrapGlobals, this.scrub = this.components.scrub;\n      var m = this.components.truncation,\n          g = new u(m),\n          v = new i(this.options, g, c, m);\n      r && (this.telemeter = new r(this.options)), this.client = e || new n(this.options, v, s, this.telemeter, \"browser\");\n      var y = b(),\n          w = \"undefined\" != typeof document && document;\n      this.isChrome = y.chrome && y.chrome.runtime, this.anonymousErrorsPending = 0, function (t, e, r) {\n        t.addTransform(l.handleDomException).addTransform(l.handleItemWithError).addTransform(l.ensureItemHasSomethingToSay).addTransform(l.addBaseInfo).addTransform(l.addRequestInfo(r)).addTransform(l.addClientInfo(r)).addTransform(l.addPluginInfo(r)).addTransform(l.addBody).addTransform(p.addMessageWithError).addTransform(p.addTelemetryData).addTransform(p.addConfigToPayload).addTransform(l.addScrubber(e.scrub)).addTransform(p.userTransform(s)).addTransform(p.addConfiguredOptions).addTransform(p.addDiagnosticKeys).addTransform(p.itemToPayload);\n      }(this.client.notifier, this, y), this.client.queue.addPredicate(h.checkLevel).addPredicate(f.checkIgnore).addPredicate(h.userCheckIgnore(s)).addPredicate(h.urlIsNotBlockListed(s)).addPredicate(h.urlIsSafeListed(s)).addPredicate(h.messageIsIgnored(s)), this.setupUnhandledCapture(), a && (this.instrumenter = new a(this.options, this.client.telemeter, this, y, w), this.instrumenter.instrument()), o.setupJSON(d);\n    }\n\n    var g = null;\n\n    function v(t) {\n      var e = \"Rollbar is not initialized\";\n      s.error(e), t && t(new Error(e));\n    }\n\n    function y(t) {\n      for (var e = 0, r = t.length; e < r; ++e) if (o.isFunction(t[e])) return t[e];\n    }\n\n    function b() {\n      return \"undefined\" != typeof window && window || \"undefined\" != typeof self && self;\n    }\n\n    m.init = function (t, e) {\n      return g ? g.global(t).configure(t) : g = new m(t, e);\n    }, m.prototype.components = {}, m.setComponents = function (t) {\n      m.prototype.components = t;\n    }, m.prototype.global = function (t) {\n      return this.client.global(t), this;\n    }, m.global = function (t) {\n      if (g) return g.global(t);\n      v();\n    }, m.prototype.configure = function (t, e) {\n      var r = this.options,\n          n = {};\n      return e && (n = {\n        payload: e\n      }), this.options = o.handleOptions(r, t, n, s), this.options._configuredOptions = o.handleOptions(r._configuredOptions, t, n), this.client.configure(this.options, e), this.instrumenter && this.instrumenter.configure(this.options), this.setupUnhandledCapture(), this;\n    }, m.configure = function (t, e) {\n      if (g) return g.configure(t, e);\n      v();\n    }, m.prototype.lastError = function () {\n      return this.client.lastError;\n    }, m.lastError = function () {\n      if (g) return g.lastError();\n      v();\n    }, m.prototype.log = function () {\n      var t = this._createItem(arguments),\n          e = t.uuid;\n\n      return this.client.log(t), {\n        uuid: e\n      };\n    }, m.log = function () {\n      if (g) return g.log.apply(g, arguments);\n      var t = y(arguments);\n      v(t);\n    }, m.prototype.debug = function () {\n      var t = this._createItem(arguments),\n          e = t.uuid;\n\n      return this.client.debug(t), {\n        uuid: e\n      };\n    }, m.debug = function () {\n      if (g) return g.debug.apply(g, arguments);\n      var t = y(arguments);\n      v(t);\n    }, m.prototype.info = function () {\n      var t = this._createItem(arguments),\n          e = t.uuid;\n\n      return this.client.info(t), {\n        uuid: e\n      };\n    }, m.info = function () {\n      if (g) return g.info.apply(g, arguments);\n      var t = y(arguments);\n      v(t);\n    }, m.prototype.warn = function () {\n      var t = this._createItem(arguments),\n          e = t.uuid;\n\n      return this.client.warn(t), {\n        uuid: e\n      };\n    }, m.warn = function () {\n      if (g) return g.warn.apply(g, arguments);\n      var t = y(arguments);\n      v(t);\n    }, m.prototype.warning = function () {\n      var t = this._createItem(arguments),\n          e = t.uuid;\n\n      return this.client.warning(t), {\n        uuid: e\n      };\n    }, m.warning = function () {\n      if (g) return g.warning.apply(g, arguments);\n      var t = y(arguments);\n      v(t);\n    }, m.prototype.error = function () {\n      var t = this._createItem(arguments),\n          e = t.uuid;\n\n      return this.client.error(t), {\n        uuid: e\n      };\n    }, m.error = function () {\n      if (g) return g.error.apply(g, arguments);\n      var t = y(arguments);\n      v(t);\n    }, m.prototype.critical = function () {\n      var t = this._createItem(arguments),\n          e = t.uuid;\n\n      return this.client.critical(t), {\n        uuid: e\n      };\n    }, m.critical = function () {\n      if (g) return g.critical.apply(g, arguments);\n      var t = y(arguments);\n      v(t);\n    }, m.prototype.buildJsonPayload = function (t) {\n      return this.client.buildJsonPayload(t);\n    }, m.buildJsonPayload = function () {\n      if (g) return g.buildJsonPayload.apply(g, arguments);\n      v();\n    }, m.prototype.sendJsonPayload = function (t) {\n      return this.client.sendJsonPayload(t);\n    }, m.sendJsonPayload = function () {\n      if (g) return g.sendJsonPayload.apply(g, arguments);\n      v();\n    }, m.prototype.setupUnhandledCapture = function () {\n      var t = b();\n      this.unhandledExceptionsInitialized || (this.options.captureUncaught || this.options.handleUncaughtExceptions) && (a.captureUncaughtExceptions(t, this), this.wrapGlobals && this.options.wrapGlobalEventHandlers && this.wrapGlobals(t, this), this.unhandledExceptionsInitialized = !0), this.unhandledRejectionsInitialized || (this.options.captureUnhandledRejections || this.options.handleUnhandledRejections) && (a.captureUnhandledRejections(t, this), this.unhandledRejectionsInitialized = !0);\n    }, m.prototype.handleUncaughtException = function (t, e, r, n, i, s) {\n      if (this.options.captureUncaught || this.options.handleUncaughtExceptions) {\n        if (this.options.inspectAnonymousErrors && this.isChrome && null === i) return \"anonymous\";\n        var a,\n            u = o.makeUnhandledStackInfo(t, e, r, n, i, \"onerror\", \"uncaught exception\", d);\n        o.isError(i) ? (a = this._createItem([t, i, s]))._unhandledStackInfo = u : o.isError(e) ? (a = this._createItem([t, e, s]))._unhandledStackInfo = u : (a = this._createItem([t, s])).stackInfo = u, a.level = this.options.uncaughtErrorLevel, a._isUncaught = !0, this.client.log(a);\n      }\n    }, m.prototype.handleAnonymousErrors = function () {\n      if (this.options.inspectAnonymousErrors && this.isChrome) {\n        var t = this;\n\n        try {\n          Error.prepareStackTrace = function (e, r) {\n            if (t.options.inspectAnonymousErrors && t.anonymousErrorsPending) {\n              if (t.anonymousErrorsPending -= 1, !e) return;\n              e._isAnonymous = !0, t.handleUncaughtException(e.message, null, null, null, e);\n            }\n\n            return e.stack;\n          };\n        } catch (t) {\n          this.options.inspectAnonymousErrors = !1, this.error(\"anonymous error handler failed\", t);\n        }\n      }\n    }, m.prototype.handleUnhandledRejection = function (t, e) {\n      if (this.options.captureUnhandledRejections || this.options.handleUnhandledRejections) {\n        var r = \"unhandled rejection was null or undefined!\";\n        if (t) if (t.message) r = t.message;else {\n          var n = o.stringify(t);\n          n.value && (r = n.value);\n        }\n        var i,\n            s = t && t._rollbarContext || e && e._rollbarContext;\n        o.isError(t) ? i = this._createItem([r, t, s]) : (i = this._createItem([r, t, s])).stackInfo = o.makeUnhandledStackInfo(r, \"\", 0, 0, null, \"unhandledrejection\", \"\", d), i.level = this.options.uncaughtErrorLevel, i._isUncaught = !0, i._originalArgs = i._originalArgs || [], i._originalArgs.push(e), this.client.log(i);\n      }\n    }, m.prototype.wrap = function (t, e, r) {\n      try {\n        var n;\n        if (n = o.isFunction(e) ? e : function () {\n          return e || {};\n        }, !o.isFunction(t)) return t;\n        if (t._isWrap) return t;\n        if (!t._rollbar_wrapped && (t._rollbar_wrapped = function () {\n          r && o.isFunction(r) && r.apply(this, arguments);\n\n          try {\n            return t.apply(this, arguments);\n          } catch (r) {\n            var e = r;\n            throw e && window._rollbarWrappedError !== e && (o.isType(e, \"string\") && (e = new String(e)), e._rollbarContext = n() || {}, e._rollbarContext._wrappedSource = t.toString(), window._rollbarWrappedError = e), e;\n          }\n        }, t._rollbar_wrapped._isWrap = !0, t.hasOwnProperty)) for (var i in t) t.hasOwnProperty(i) && \"_rollbar_wrapped\" !== i && (t._rollbar_wrapped[i] = t[i]);\n        return t._rollbar_wrapped;\n      } catch (e) {\n        return t;\n      }\n    }, m.wrap = function (t, e) {\n      if (g) return g.wrap(t, e);\n      v();\n    }, m.prototype.captureEvent = function () {\n      var t = o.createTelemetryEvent(arguments);\n      return this.client.captureEvent(t.type, t.metadata, t.level);\n    }, m.captureEvent = function () {\n      if (g) return g.captureEvent.apply(g, arguments);\n      v();\n    }, m.prototype.captureDomContentLoaded = function (t, e) {\n      return e || (e = new Date()), this.client.captureDomContentLoaded(e);\n    }, m.prototype.captureLoad = function (t, e) {\n      return e || (e = new Date()), this.client.captureLoad(e);\n    }, m.prototype.loadFull = function () {\n      s.info(\"Unexpected Rollbar.loadFull() called on a Notifier instance. This can happen when Rollbar is loaded multiple times.\");\n    }, m.prototype._createItem = function (t) {\n      return o.createItem(t, s, this);\n    };\n\n    var w = r(27),\n        _ = r(28),\n        x = {\n      version: w.version,\n      scrubFields: _.scrubFields,\n      logLevel: w.logLevel,\n      reportLevel: w.reportLevel,\n      uncaughtErrorLevel: w.uncaughtErrorLevel,\n      endpoint: w.endpoint,\n      verbose: !1,\n      enabled: !0,\n      transmit: !0,\n      sendConfig: !1,\n      includeItemsInTelemetry: !0,\n      captureIp: !0,\n      inspectAnonymousErrors: !0,\n      ignoreDuplicateErrors: !0,\n      wrapGlobalEventHandlers: !1\n    };\n\n    t.exports = m;\n  }, function (t, e, r) {\n    \"use strict\";\n\n    var n = r(11),\n        o = r(13),\n        i = r(14),\n        s = r(0);\n\n    function a(t, e, r, n, l) {\n      this.options = s.merge(t), this.logger = r, a.rateLimiter.configureGlobal(this.options), a.rateLimiter.setPlatformOptions(l, this.options), this.api = e, this.queue = new o(a.rateLimiter, e, r, this.options);\n      var p = this.options.tracer || null;\n      c(p) ? (this.tracer = p, this.options.tracer = \"opentracing-tracer-enabled\", this.options._configuredOptions.tracer = \"opentracing-tracer-enabled\") : this.tracer = null, this.notifier = new i(this.queue, this.options), this.telemeter = n, u(t), this.lastError = null, this.lastErrorHash = \"none\";\n    }\n\n    function u(t) {\n      t.stackTraceLimit && (Error.stackTraceLimit = t.stackTraceLimit);\n    }\n\n    function c(t) {\n      if (!t) return !1;\n      if (!t.scope || \"function\" != typeof t.scope) return !1;\n      var e = t.scope();\n      return !(!e || !e.active || \"function\" != typeof e.active);\n    }\n\n    a.rateLimiter = new n({\n      maxItems: 0,\n      itemsPerMinute: 60\n    }), a.prototype.global = function (t) {\n      return a.rateLimiter.configureGlobal(t), this;\n    }, a.prototype.configure = function (t, e) {\n      var r = this.options,\n          n = {};\n      e && (n = {\n        payload: e\n      }), this.options = s.merge(r, t, n);\n      var o = this.options.tracer || null;\n      return c(o) ? (this.tracer = o, this.options.tracer = \"opentracing-tracer-enabled\", this.options._configuredOptions.tracer = \"opentracing-tracer-enabled\") : this.tracer = null, this.notifier && this.notifier.configure(this.options), this.telemeter && this.telemeter.configure(this.options), u(t), this.global(this.options), c(t.tracer) && (this.tracer = t.tracer), this;\n    }, a.prototype.log = function (t) {\n      var e = this._defaultLogLevel();\n\n      return this._log(e, t);\n    }, a.prototype.debug = function (t) {\n      this._log(\"debug\", t);\n    }, a.prototype.info = function (t) {\n      this._log(\"info\", t);\n    }, a.prototype.warn = function (t) {\n      this._log(\"warning\", t);\n    }, a.prototype.warning = function (t) {\n      this._log(\"warning\", t);\n    }, a.prototype.error = function (t) {\n      this._log(\"error\", t);\n    }, a.prototype.critical = function (t) {\n      this._log(\"critical\", t);\n    }, a.prototype.wait = function (t) {\n      this.queue.wait(t);\n    }, a.prototype.captureEvent = function (t, e, r) {\n      return this.telemeter && this.telemeter.captureEvent(t, e, r);\n    }, a.prototype.captureDomContentLoaded = function (t) {\n      return this.telemeter && this.telemeter.captureDomContentLoaded(t);\n    }, a.prototype.captureLoad = function (t) {\n      return this.telemeter && this.telemeter.captureLoad(t);\n    }, a.prototype.buildJsonPayload = function (t) {\n      return this.api.buildJsonPayload(t);\n    }, a.prototype.sendJsonPayload = function (t) {\n      this.api.postJsonPayload(t);\n    }, a.prototype._log = function (t, e) {\n      var r;\n\n      if (e.callback && (r = e.callback, delete e.callback), this.options.ignoreDuplicateErrors && this._sameAsLastError(e)) {\n        if (r) {\n          var n = new Error(\"ignored identical item\");\n          n.item = e, r(n);\n        }\n      } else try {\n        this._addTracingInfo(e), e.level = e.level || t, this.telemeter && this.telemeter._captureRollbarItem(e), e.telemetryEvents = this.telemeter && this.telemeter.copyEvents() || [], this.notifier.log(e, r);\n      } catch (t) {\n        r && r(t), this.logger.error(t);\n      }\n    }, a.prototype._defaultLogLevel = function () {\n      return this.options.logLevel || \"debug\";\n    }, a.prototype._sameAsLastError = function (t) {\n      if (!t._isUncaught) return !1;\n\n      var e = function (t) {\n        var e = t.message || \"\",\n            r = (t.err || {}).stack || String(t.err);\n        return e + \"::\" + r;\n      }(t);\n\n      return this.lastErrorHash === e || (this.lastError = t.err, this.lastErrorHash = e, !1);\n    }, a.prototype._addTracingInfo = function (t) {\n      if (this.tracer) {\n        var e = this.tracer.scope().active();\n\n        if (function (t) {\n          if (!t || !t.context || \"function\" != typeof t.context) return !1;\n          var e = t.context();\n          if (!e || !e.toSpanId || !e.toTraceId || \"function\" != typeof e.toSpanId || \"function\" != typeof e.toTraceId) return !1;\n          return !0;\n        }(e)) {\n          e.setTag(\"rollbar.error_uuid\", t.uuid), e.setTag(\"rollbar.has_error\", !0), e.setTag(\"error\", !0), e.setTag(\"rollbar.item_url\", \"https://rollbar.com/item/uuid/?uuid=\" + t.uuid), e.setTag(\"rollbar.occurrence_url\", \"https://rollbar.com/occurrence/uuid/?uuid=\" + t.uuid);\n          var r = e.context().toSpanId(),\n              n = e.context().toTraceId();\n          t.custom ? (t.custom.opentracing_span_id = r, t.custom.opentracing_trace_id = n) : t.custom = {\n            opentracing_span_id: r,\n            opentracing_trace_id: n\n          };\n        }\n      }\n    }, t.exports = a;\n  }, function (t, e, r) {\n    \"use strict\";\n\n    var n = r(0);\n\n    function o(t) {\n      this.startTime = n.now(), this.counter = 0, this.perMinCounter = 0, this.platform = null, this.platformOptions = {}, this.configureGlobal(t);\n    }\n\n    function i(t, e, r) {\n      return !t.ignoreRateLimit && e >= 1 && r > e;\n    }\n\n    function s(t, e, r, n, o, i, s) {\n      var a = null;\n      return r && (r = new Error(r)), r || n || (a = function (t, e, r, n, o) {\n        var i,\n            s = e.environment || e.payload && e.payload.environment;\n        i = o ? \"item per minute limit reached, ignoring errors until timeout\" : \"maxItems has been hit, ignoring errors until reset.\";\n        var a = {\n          body: {\n            message: {\n              body: i,\n              extra: {\n                maxItems: r,\n                itemsPerMinute: n\n              }\n            }\n          },\n          language: \"javascript\",\n          environment: s,\n          notifier: {\n            version: e.notifier && e.notifier.version || e.version\n          }\n        };\n        \"browser\" === t ? (a.platform = \"browser\", a.framework = \"browser-js\", a.notifier.name = \"rollbar-browser-js\") : \"server\" === t ? (a.framework = e.framework || \"node-js\", a.notifier.name = e.notifier.name) : \"react-native\" === t && (a.framework = e.framework || \"react-native\", a.notifier.name = e.notifier.name);\n        return a;\n      }(t, e, o, i, s)), {\n        error: r,\n        shouldSend: n,\n        payload: a\n      };\n    }\n\n    o.globalSettings = {\n      startTime: n.now(),\n      maxItems: void 0,\n      itemsPerMinute: void 0\n    }, o.prototype.configureGlobal = function (t) {\n      void 0 !== t.startTime && (o.globalSettings.startTime = t.startTime), void 0 !== t.maxItems && (o.globalSettings.maxItems = t.maxItems), void 0 !== t.itemsPerMinute && (o.globalSettings.itemsPerMinute = t.itemsPerMinute);\n    }, o.prototype.shouldSend = function (t, e) {\n      var r = (e = e || n.now()) - this.startTime;\n      (r < 0 || r >= 6e4) && (this.startTime = e, this.perMinCounter = 0);\n      var a = o.globalSettings.maxItems,\n          u = o.globalSettings.itemsPerMinute;\n      if (i(t, a, this.counter)) return s(this.platform, this.platformOptions, a + \" max items reached\", !1);\n      if (i(t, u, this.perMinCounter)) return s(this.platform, this.platformOptions, u + \" items per minute reached\", !1);\n      this.counter++, this.perMinCounter++;\n      var c = !i(t, a, this.counter),\n          l = c;\n      return c = c && !i(t, u, this.perMinCounter), s(this.platform, this.platformOptions, null, c, a, u, l);\n    }, o.prototype.setPlatformOptions = function (t, e) {\n      this.platform = t, this.platformOptions = e;\n    }, t.exports = o;\n  }, function (t, e, r) {\n    \"use strict\";\n\n    var n = Object.prototype.hasOwnProperty,\n        o = Object.prototype.toString,\n        i = function (t) {\n      if (!t || \"[object Object]\" !== o.call(t)) return !1;\n      var e,\n          r = n.call(t, \"constructor\"),\n          i = t.constructor && t.constructor.prototype && n.call(t.constructor.prototype, \"isPrototypeOf\");\n      if (t.constructor && !r && !i) return !1;\n\n      for (e in t);\n\n      return void 0 === e || n.call(t, e);\n    };\n\n    t.exports = function t() {\n      var e,\n          r,\n          n,\n          o,\n          s,\n          a = {},\n          u = null,\n          c = arguments.length;\n\n      for (e = 0; e < c; e++) if (null != (u = arguments[e])) for (s in u) r = a[s], a !== (n = u[s]) && (n && i(n) ? (o = r && i(r) ? r : {}, a[s] = t(o, n)) : void 0 !== n && (a[s] = n));\n\n      return a;\n    };\n  }, function (t, e, r) {\n    \"use strict\";\n\n    var n = r(0);\n\n    function o(t, e, r, n) {\n      this.rateLimiter = t, this.api = e, this.logger = r, this.options = n, this.predicates = [], this.pendingItems = [], this.pendingRequests = [], this.retryQueue = [], this.retryHandle = null, this.waitCallback = null, this.waitIntervalID = null;\n    }\n\n    o.prototype.configure = function (t) {\n      this.api && this.api.configure(t);\n      var e = this.options;\n      return this.options = n.merge(e, t), this;\n    }, o.prototype.addPredicate = function (t) {\n      return n.isFunction(t) && this.predicates.push(t), this;\n    }, o.prototype.addPendingItem = function (t) {\n      this.pendingItems.push(t);\n    }, o.prototype.removePendingItem = function (t) {\n      var e = this.pendingItems.indexOf(t);\n      -1 !== e && this.pendingItems.splice(e, 1);\n    }, o.prototype.addItem = function (t, e, r, o) {\n      e && n.isFunction(e) || (e = function () {});\n\n      var i = this._applyPredicates(t);\n\n      if (i.stop) return this.removePendingItem(o), void e(i.err);\n\n      if (this._maybeLog(t, r), this.removePendingItem(o), this.options.transmit) {\n        this.pendingRequests.push(t);\n\n        try {\n          this._makeApiRequest(t, function (r, n) {\n            this._dequeuePendingRequest(t), e(r, n);\n          }.bind(this));\n        } catch (r) {\n          this._dequeuePendingRequest(t), e(r);\n        }\n      } else e(new Error(\"Transmit disabled\"));\n    }, o.prototype.wait = function (t) {\n      n.isFunction(t) && (this.waitCallback = t, this._maybeCallWait() || (this.waitIntervalID && (this.waitIntervalID = clearInterval(this.waitIntervalID)), this.waitIntervalID = setInterval(function () {\n        this._maybeCallWait();\n      }.bind(this), 500)));\n    }, o.prototype._applyPredicates = function (t) {\n      for (var e = null, r = 0, n = this.predicates.length; r < n; r++) if (!(e = this.predicates[r](t, this.options)) || void 0 !== e.err) return {\n        stop: !0,\n        err: e.err\n      };\n\n      return {\n        stop: !1,\n        err: null\n      };\n    }, o.prototype._makeApiRequest = function (t, e) {\n      var r = this.rateLimiter.shouldSend(t);\n      r.shouldSend ? this.api.postItem(t, function (r, n) {\n        r ? this._maybeRetry(r, t, e) : e(r, n);\n      }.bind(this)) : r.error ? e(r.error) : this.api.postItem(r.payload, e);\n    };\n    var i = [\"ECONNRESET\", \"ENOTFOUND\", \"ESOCKETTIMEDOUT\", \"ETIMEDOUT\", \"ECONNREFUSED\", \"EHOSTUNREACH\", \"EPIPE\", \"EAI_AGAIN\"];\n    o.prototype._maybeRetry = function (t, e, r) {\n      var n = !1;\n      if (this.options.retryInterval) for (var o = 0, s = i.length; o < s; o++) if (t.code === i[o]) {\n        n = !0;\n        break;\n      }\n      n ? this._retryApiRequest(e, r) : r(t);\n    }, o.prototype._retryApiRequest = function (t, e) {\n      this.retryQueue.push({\n        item: t,\n        callback: e\n      }), this.retryHandle || (this.retryHandle = setInterval(function () {\n        for (; this.retryQueue.length;) {\n          var t = this.retryQueue.shift();\n\n          this._makeApiRequest(t.item, t.callback);\n        }\n      }.bind(this), this.options.retryInterval));\n    }, o.prototype._dequeuePendingRequest = function (t) {\n      var e = this.pendingRequests.indexOf(t);\n      -1 !== e && (this.pendingRequests.splice(e, 1), this._maybeCallWait());\n    }, o.prototype._maybeLog = function (t, e) {\n      if (this.logger && this.options.verbose) {\n        var r = e;\n        if (r = (r = r || n.get(t, \"body.trace.exception.message\")) || n.get(t, \"body.trace_chain.0.exception.message\")) return void this.logger.error(r);\n        (r = n.get(t, \"body.message.body\")) && this.logger.log(r);\n      }\n    }, o.prototype._maybeCallWait = function () {\n      return !(!n.isFunction(this.waitCallback) || 0 !== this.pendingItems.length || 0 !== this.pendingRequests.length) && (this.waitIntervalID && (this.waitIntervalID = clearInterval(this.waitIntervalID)), this.waitCallback(), !0);\n    }, t.exports = o;\n  }, function (t, e, r) {\n    \"use strict\";\n\n    var n = r(0);\n\n    function o(t, e) {\n      this.queue = t, this.options = e, this.transforms = [], this.diagnostic = {};\n    }\n\n    o.prototype.configure = function (t) {\n      this.queue && this.queue.configure(t);\n      var e = this.options;\n      return this.options = n.merge(e, t), this;\n    }, o.prototype.addTransform = function (t) {\n      return n.isFunction(t) && this.transforms.push(t), this;\n    }, o.prototype.log = function (t, e) {\n      if (e && n.isFunction(e) || (e = function () {}), !this.options.enabled) return e(new Error(\"Rollbar is not enabled\"));\n      this.queue.addPendingItem(t);\n      var r = t.err;\n\n      this._applyTransforms(t, function (n, o) {\n        if (n) return this.queue.removePendingItem(t), e(n, null);\n        this.queue.addItem(o, e, r, t);\n      }.bind(this));\n    }, o.prototype._applyTransforms = function (t, e) {\n      var r = -1,\n          n = this.transforms.length,\n          o = this.transforms,\n          i = this.options,\n          s = function (t, a) {\n        t ? e(t, null) : ++r !== n ? o[r](a, i, s) : e(null, a);\n      };\n\n      s(null, t);\n    }, t.exports = o;\n  }, function (t, e, r) {\n    \"use strict\";\n\n    var n = r(0),\n        o = r(16),\n        i = {\n      hostname: \"api.rollbar.com\",\n      path: \"/api/1/item/\",\n      search: null,\n      version: \"1\",\n      protocol: \"https:\",\n      port: 443\n    };\n\n    function s(t, e, r, n, o) {\n      this.options = t, this.transport = e, this.url = r, this.truncation = n, this.jsonBackup = o, this.accessToken = t.accessToken, this.transportOptions = a(t, r);\n    }\n\n    function a(t, e) {\n      return o.getTransportFromOptions(t, i, e);\n    }\n\n    s.prototype.postItem = function (t, e) {\n      var r = o.transportOptions(this.transportOptions, \"POST\"),\n          n = o.buildPayload(this.accessToken, t, this.jsonBackup);\n      this.transport.post(this.accessToken, r, n, e);\n    }, s.prototype.buildJsonPayload = function (t, e) {\n      var r,\n          i = o.buildPayload(this.accessToken, t, this.jsonBackup);\n      return (r = this.truncation ? this.truncation.truncate(i) : n.stringify(i)).error ? (e && e(r.error), null) : r.value;\n    }, s.prototype.postJsonPayload = function (t, e) {\n      var r = o.transportOptions(this.transportOptions, \"POST\");\n      this.transport.postJsonPayload(this.accessToken, r, t, e);\n    }, s.prototype.configure = function (t) {\n      var e = this.oldOptions;\n      return this.options = n.merge(e, t), this.transportOptions = a(this.options, this.url), void 0 !== this.options.accessToken && (this.accessToken = this.options.accessToken), this;\n    }, t.exports = s;\n  }, function (t, e, r) {\n    \"use strict\";\n\n    var n = r(0);\n    t.exports = {\n      buildPayload: function (t, e, r) {\n        if (!n.isType(e.context, \"string\")) {\n          var o = n.stringify(e.context, r);\n          o.error ? e.context = \"Error: could not serialize 'context'\" : e.context = o.value || \"\", e.context.length > 255 && (e.context = e.context.substr(0, 255));\n        }\n\n        return {\n          access_token: t,\n          data: e\n        };\n      },\n      getTransportFromOptions: function (t, e, r) {\n        var n = e.hostname,\n            o = e.protocol,\n            i = e.port,\n            s = e.path,\n            a = e.search,\n            u = t.proxy;\n\n        if (t.endpoint) {\n          var c = r.parse(t.endpoint);\n          n = c.hostname, o = c.protocol, i = c.port, s = c.pathname, a = c.search;\n        }\n\n        return {\n          hostname: n,\n          protocol: o,\n          port: i,\n          path: s,\n          search: a,\n          proxy: u\n        };\n      },\n      transportOptions: function (t, e) {\n        var r = t.protocol || \"https:\",\n            n = t.port || (\"http:\" === r ? 80 : \"https:\" === r ? 443 : void 0),\n            o = t.hostname,\n            i = t.path;\n        return t.search && (i += t.search), t.proxy && (i = r + \"//\" + o + i, o = t.proxy.host || t.proxy.hostname, n = t.proxy.port, r = t.proxy.protocol || r), {\n          protocol: r,\n          hostname: o,\n          path: i,\n          port: n,\n          method: e\n        };\n      },\n      appendPathToPath: function (t, e) {\n        var r = /\\/$/.test(t),\n            n = /^\\//.test(e);\n        return r && n ? e = e.substring(1) : r || n || (e = \"/\" + e), t + e;\n      }\n    };\n  }, function (t, e) {\n    !function (t) {\n      \"use strict\";\n\n      t.console || (t.console = {});\n\n      for (var e, r, n = t.console, o = function () {}, i = [\"memory\"], s = \"assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn\".split(\",\"); e = i.pop();) n[e] || (n[e] = {});\n\n      for (; r = s.pop();) n[r] || (n[r] = o);\n    }(\"undefined\" == typeof window ? this : window);\n  }, function (t, e, r) {\n    \"use strict\";\n\n    var n = {\n      ieVersion: function () {\n        if (\"undefined\" != typeof document) {\n          for (var t = 3, e = document.createElement(\"div\"), r = e.getElementsByTagName(\"i\"); e.innerHTML = \"\\x3c!--[if gt IE \" + ++t + \"]><i></i><![endif]--\\x3e\", r[0];);\n\n          return t > 4 ? t : void 0;\n        }\n      }\n    };\n    t.exports = n;\n  }, function (t, e, r) {\n    \"use strict\";\n\n    function n(t, e, r, n) {\n      t._rollbarWrappedError && (n[4] || (n[4] = t._rollbarWrappedError), n[5] || (n[5] = t._rollbarWrappedError._rollbarContext), t._rollbarWrappedError = null);\n      var o = e.handleUncaughtException.apply(e, n);\n      r && r.apply(t, n), \"anonymous\" === o && (e.anonymousErrorsPending += 1);\n    }\n\n    t.exports = {\n      captureUncaughtExceptions: function (t, e, r) {\n        if (t) {\n          var o;\n          if (\"function\" == typeof e._rollbarOldOnError) o = e._rollbarOldOnError;else if (t.onerror) {\n            for (o = t.onerror; o._rollbarOldOnError;) o = o._rollbarOldOnError;\n\n            e._rollbarOldOnError = o;\n          }\n          e.handleAnonymousErrors();\n\n          var i = function () {\n            var r = Array.prototype.slice.call(arguments, 0);\n            n(t, e, o, r);\n          };\n\n          r && (i._rollbarOldOnError = o), t.onerror = i;\n        }\n      },\n      captureUnhandledRejections: function (t, e, r) {\n        if (t) {\n          \"function\" == typeof t._rollbarURH && t._rollbarURH.belongsToShim && t.removeEventListener(\"unhandledrejection\", t._rollbarURH);\n\n          var n = function (t) {\n            var r, n, o;\n\n            try {\n              r = t.reason;\n            } catch (t) {\n              r = void 0;\n            }\n\n            try {\n              n = t.promise;\n            } catch (t) {\n              n = \"[unhandledrejection] error getting `promise` from event\";\n            }\n\n            try {\n              o = t.detail, !r && o && (r = o.reason, n = o.promise);\n            } catch (t) {}\n\n            r || (r = \"[unhandledrejection] error getting `reason` from event\"), e && e.handleUnhandledRejection && e.handleUnhandledRejection(r, n);\n          };\n\n          n.belongsToShim = r, t._rollbarURH = n, t.addEventListener(\"unhandledrejection\", n);\n        }\n      }\n    };\n  }, function (t, e, r) {\n    \"use strict\";\n\n    var n = r(0),\n        o = r(1);\n\n    function i(t) {\n      this.truncation = t;\n    }\n\n    function s(t, e, r, n, o, i) {\n      var s = \"undefined\" != typeof window && window || \"undefined\" != typeof self && self,\n          u = s && s.Zone && s.Zone.current;\n      u && \"angular\" === u._name ? u._parent.run(function () {\n        a(t, e, r, n, o, i);\n      }) : a(t, e, r, n, o, i);\n    }\n\n    function a(t, e, r, i, s, a) {\n      if (\"undefined\" != typeof RollbarProxy) return function (t, e) {\n        new RollbarProxy().sendJsonPayload(t, function (t) {}, function (t) {\n          e(new Error(t));\n        });\n      }(i, s);\n      var c;\n      if (!(c = a ? a() : function () {\n        var t,\n            e,\n            r = [function () {\n          return new XMLHttpRequest();\n        }, function () {\n          return new ActiveXObject(\"Msxml2.XMLHTTP\");\n        }, function () {\n          return new ActiveXObject(\"Msxml3.XMLHTTP\");\n        }, function () {\n          return new ActiveXObject(\"Microsoft.XMLHTTP\");\n        }],\n            n = r.length;\n\n        for (e = 0; e < n; e++) try {\n          t = r[e]();\n          break;\n        } catch (t) {}\n\n        return t;\n      }())) return s(new Error(\"No way to send a request\"));\n\n      try {\n        try {\n          var l = function () {\n            try {\n              if (l && 4 === c.readyState) {\n                l = void 0;\n                var t = n.jsonParse(c.responseText);\n                if ((i = c) && i.status && 200 === i.status) return void s(t.error, t.value);\n\n                if (function (t) {\n                  return t && n.isType(t.status, \"number\") && t.status >= 400 && t.status < 600;\n                }(c)) {\n                  if (403 === c.status) {\n                    var e = t.value && t.value.message;\n                    o.error(e);\n                  }\n\n                  s(new Error(String(c.status)));\n                } else {\n                  s(u(\"XHR response had no status code (likely connection failure)\"));\n                }\n              }\n            } catch (t) {\n              var r;\n              r = t && t.stack ? t : new Error(t), s(r);\n            }\n\n            var i;\n          };\n\n          c.open(r, e, !0), c.setRequestHeader && (c.setRequestHeader(\"Content-Type\", \"application/json\"), c.setRequestHeader(\"X-Rollbar-Access-Token\", t)), c.onreadystatechange = l, c.send(i);\n        } catch (t) {\n          if (\"undefined\" != typeof XDomainRequest) {\n            if (!window || !window.location) return s(new Error(\"No window available during request, unknown environment\"));\n            \"http:\" === window.location.href.substring(0, 5) && \"https\" === e.substring(0, 5) && (e = \"http\" + e.substring(5));\n            var p = new XDomainRequest();\n            p.onprogress = function () {}, p.ontimeout = function () {\n              s(u(\"Request timed out\", \"ETIMEDOUT\"));\n            }, p.onerror = function () {\n              s(new Error(\"Error during request\"));\n            }, p.onload = function () {\n              var t = n.jsonParse(p.responseText);\n              s(t.error, t.value);\n            }, p.open(r, e, !0), p.send(i);\n          } else s(new Error(\"Cannot find a method to transport a request\"));\n        }\n      } catch (t) {\n        s(t);\n      }\n    }\n\n    function u(t, e) {\n      var r = new Error(t);\n      return r.code = e || \"ENOTFOUND\", r;\n    }\n\n    i.prototype.get = function (t, e, r, o, i) {\n      o && n.isFunction(o) || (o = function () {}), n.addParamsAndAccessTokenToPath(t, e, r);\n      s(t, n.formatUrl(e), \"GET\", null, o, i);\n    }, i.prototype.post = function (t, e, r, o, i) {\n      if (o && n.isFunction(o) || (o = function () {}), !r) return o(new Error(\"Cannot send empty request\"));\n      var a;\n      if ((a = this.truncation ? this.truncation.truncate(r) : n.stringify(r)).error) return o(a.error);\n      var u = a.value;\n      s(t, n.formatUrl(e), \"POST\", u, o, i);\n    }, i.prototype.postJsonPayload = function (t, e, r, o, i) {\n      o && n.isFunction(o) || (o = function () {});\n      s(t, n.formatUrl(e), \"POST\", r, o, i);\n    }, t.exports = i;\n  }, function (t, e, r) {\n    \"use strict\";\n\n    var n = r(0),\n        o = r(3),\n        i = r(1);\n\n    function s(t, e, r) {\n      var o = t.message,\n          i = t.custom;\n      o || (o = \"Item sent with null or missing arguments.\");\n      var s = {\n        body: o\n      };\n      i && (s.extra = n.merge(i)), n.set(t, \"data.body\", {\n        message: s\n      }), r(null, t);\n    }\n\n    function a(t) {\n      var e = t.stackInfo.stack;\n      return e && 0 === e.length && t._unhandledStackInfo && t._unhandledStackInfo.stack && (e = t._unhandledStackInfo.stack), e;\n    }\n\n    function u(t, e, r) {\n      var i = t && t.data.description,\n          s = t && t.custom,\n          u = a(t),\n          l = o.guessErrorClass(e.message),\n          p = {\n        exception: {\n          class: c(e, l[0], r),\n          message: l[1]\n        }\n      };\n\n      if (i && (p.exception.description = i), u) {\n        var f, h, d, m, g, v, y, b;\n\n        for (0 === u.length && (p.exception.stack = e.rawStack, p.exception.raw = String(e.rawException)), p.frames = [], y = 0; y < u.length; ++y) h = {\n          filename: (f = u[y]).url ? n.sanitizeUrl(f.url) : \"(unknown)\",\n          lineno: f.line || null,\n          method: f.func && \"?\" !== f.func ? f.func : \"[anonymous]\",\n          colno: f.column\n        }, r.sendFrameUrl && (h.url = f.url), h.method && h.method.endsWith && h.method.endsWith(\"_rollbar_wrapped\") || (d = m = g = null, (v = f.context ? f.context.length : 0) && (b = Math.floor(v / 2), m = f.context.slice(0, b), d = f.context[b], g = f.context.slice(b)), d && (h.code = d), (m || g) && (h.context = {}, m && m.length && (h.context.pre = m), g && g.length && (h.context.post = g)), f.args && (h.args = f.args), p.frames.push(h));\n\n        p.frames.reverse(), s && (p.extra = n.merge(s));\n      }\n\n      return p;\n    }\n\n    function c(t, e, r) {\n      return t.name ? t.name : r.guessErrorClass ? e : \"(unknown)\";\n    }\n\n    t.exports = {\n      handleDomException: function (t, e, r) {\n        if (t.err && \"DOMException\" === o.Stack(t.err).name) {\n          var n = new Error();\n          n.name = t.err.name, n.message = t.err.message, n.stack = t.err.stack, n.nested = t.err, t.err = n;\n        }\n\n        r(null, t);\n      },\n      handleItemWithError: function (t, e, r) {\n        if (t.data = t.data || {}, t.err) try {\n          t.stackInfo = t.err._savedStackTrace || o.parse(t.err, t.skipFrames), e.addErrorContext && function (t) {\n            var e = [],\n                r = t.err;\n            e.push(r);\n\n            for (; r.nested;) r = r.nested, e.push(r);\n\n            n.addErrorContext(t, e);\n          }(t);\n        } catch (e) {\n          i.error(\"Error while parsing the error object.\", e);\n\n          try {\n            t.message = t.err.message || t.err.description || t.message || String(t.err);\n          } catch (e) {\n            t.message = String(t.err) || String(e);\n          }\n\n          delete t.err;\n        }\n        r(null, t);\n      },\n      ensureItemHasSomethingToSay: function (t, e, r) {\n        t.message || t.stackInfo || t.custom || r(new Error(\"No message, stack info, or custom data\"), null), r(null, t);\n      },\n      addBaseInfo: function (t, e, r) {\n        var o = e.payload && e.payload.environment || e.environment;\n        t.data = n.merge(t.data, {\n          environment: o,\n          level: t.level,\n          endpoint: e.endpoint,\n          platform: \"browser\",\n          framework: \"browser-js\",\n          language: \"javascript\",\n          server: {},\n          uuid: t.uuid,\n          notifier: {\n            name: \"rollbar-browser-js\",\n            version: e.version\n          },\n          custom: t.custom\n        }), r(null, t);\n      },\n      addRequestInfo: function (t) {\n        return function (e, r, o) {\n          if (!t || !t.location) return o(null, e);\n          var i = \"$remote_ip\";\n          r.captureIp ? !0 !== r.captureIp && (i += \"_anonymize\") : i = null, n.set(e, \"data.request\", {\n            url: t.location.href,\n            query_string: t.location.search,\n            user_ip: i\n          }), o(null, e);\n        };\n      },\n      addClientInfo: function (t) {\n        return function (e, r, o) {\n          if (!t) return o(null, e);\n          var i = t.navigator || {},\n              s = t.screen || {};\n          n.set(e, \"data.client\", {\n            runtime_ms: e.timestamp - t._rollbarStartTime,\n            timestamp: Math.round(e.timestamp / 1e3),\n            javascript: {\n              browser: i.userAgent,\n              language: i.language,\n              cookie_enabled: i.cookieEnabled,\n              screen: {\n                width: s.width,\n                height: s.height\n              }\n            }\n          }), o(null, e);\n        };\n      },\n      addPluginInfo: function (t) {\n        return function (e, r, o) {\n          if (!t || !t.navigator) return o(null, e);\n\n          for (var i, s = [], a = t.navigator.plugins || [], u = 0, c = a.length; u < c; ++u) i = a[u], s.push({\n            name: i.name,\n            description: i.description\n          });\n\n          n.set(e, \"data.client.javascript.plugins\", s), o(null, e);\n        };\n      },\n      addBody: function (t, e, r) {\n        t.stackInfo ? t.stackInfo.traceChain ? function (t, e, r) {\n          for (var o = t.stackInfo.traceChain, i = [], s = o.length, a = 0; a < s; a++) {\n            var c = u(t, o[a], e);\n            i.push(c);\n          }\n\n          n.set(t, \"data.body\", {\n            trace_chain: i\n          }), r(null, t);\n        }(t, e, r) : function (t, e, r) {\n          if (a(t)) {\n            var i = u(t, t.stackInfo, e);\n            n.set(t, \"data.body\", {\n              trace: i\n            }), r(null, t);\n          } else {\n            var l = t.stackInfo,\n                p = o.guessErrorClass(l.message),\n                f = c(l, p[0], e),\n                h = p[1];\n            t.message = f + \": \" + h, s(t, e, r);\n          }\n        }(t, e, r) : s(t, e, r);\n      },\n      addScrubber: function (t) {\n        return function (e, r, n) {\n          if (t) {\n            var o = r.scrubFields || [],\n                i = r.scrubPaths || [];\n            e.data = t(e.data, o, i);\n          }\n\n          n(null, e);\n        };\n      }\n    };\n  }, function (t, e, r) {\n    var n, o, i;\n    !function (s, a) {\n      \"use strict\";\n\n      o = [r(23)], void 0 === (i = \"function\" == typeof (n = function (t) {\n        var e = /(^|@)\\S+:\\d+/,\n            r = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m,\n            n = /^(eval@)?(\\[native code])?$/;\n        return {\n          parse: function (t) {\n            if (void 0 !== t.stacktrace || void 0 !== t[\"opera#sourceloc\"]) return this.parseOpera(t);\n            if (t.stack && t.stack.match(r)) return this.parseV8OrIE(t);\n            if (t.stack) return this.parseFFOrSafari(t);\n            throw new Error(\"Cannot parse given Error object\");\n          },\n          extractLocation: function (t) {\n            if (-1 === t.indexOf(\":\")) return [t];\n            var e = /(.+?)(?::(\\d+))?(?::(\\d+))?$/.exec(t.replace(/[()]/g, \"\"));\n            return [e[1], e[2] || void 0, e[3] || void 0];\n          },\n          parseV8OrIE: function (e) {\n            return e.stack.split(\"\\n\").filter(function (t) {\n              return !!t.match(r);\n            }, this).map(function (e) {\n              e.indexOf(\"(eval \") > -1 && (e = e.replace(/eval code/g, \"eval\").replace(/(\\(eval at [^()]*)|(\\),.*$)/g, \"\"));\n              var r = e.replace(/^\\s+/, \"\").replace(/\\(eval code/g, \"(\"),\n                  n = r.match(/ (\\((.+):(\\d+):(\\d+)\\)$)/),\n                  o = (r = n ? r.replace(n[0], \"\") : r).split(/\\s+/).slice(1),\n                  i = this.extractLocation(n ? n[1] : o.pop()),\n                  s = o.join(\" \") || void 0,\n                  a = [\"eval\", \"<anonymous>\"].indexOf(i[0]) > -1 ? void 0 : i[0];\n              return new t({\n                functionName: s,\n                fileName: a,\n                lineNumber: i[1],\n                columnNumber: i[2],\n                source: e\n              });\n            }, this);\n          },\n          parseFFOrSafari: function (e) {\n            return e.stack.split(\"\\n\").filter(function (t) {\n              return !t.match(n);\n            }, this).map(function (e) {\n              if (e.indexOf(\" > eval\") > -1 && (e = e.replace(/ line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g, \":$1\")), -1 === e.indexOf(\"@\") && -1 === e.indexOf(\":\")) return new t({\n                functionName: e\n              });\n              var r = /((.*\".+\"[^@]*)?[^@]*)(?:@)/,\n                  n = e.match(r),\n                  o = n && n[1] ? n[1] : void 0,\n                  i = this.extractLocation(e.replace(r, \"\"));\n              return new t({\n                functionName: o,\n                fileName: i[0],\n                lineNumber: i[1],\n                columnNumber: i[2],\n                source: e\n              });\n            }, this);\n          },\n          parseOpera: function (t) {\n            return !t.stacktrace || t.message.indexOf(\"\\n\") > -1 && t.message.split(\"\\n\").length > t.stacktrace.split(\"\\n\").length ? this.parseOpera9(t) : t.stack ? this.parseOpera11(t) : this.parseOpera10(t);\n          },\n          parseOpera9: function (e) {\n            for (var r = /Line (\\d+).*script (?:in )?(\\S+)/i, n = e.message.split(\"\\n\"), o = [], i = 2, s = n.length; i < s; i += 2) {\n              var a = r.exec(n[i]);\n              a && o.push(new t({\n                fileName: a[2],\n                lineNumber: a[1],\n                source: n[i]\n              }));\n            }\n\n            return o;\n          },\n          parseOpera10: function (e) {\n            for (var r = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i, n = e.stacktrace.split(\"\\n\"), o = [], i = 0, s = n.length; i < s; i += 2) {\n              var a = r.exec(n[i]);\n              a && o.push(new t({\n                functionName: a[3] || void 0,\n                fileName: a[2],\n                lineNumber: a[1],\n                source: n[i]\n              }));\n            }\n\n            return o;\n          },\n          parseOpera11: function (r) {\n            return r.stack.split(\"\\n\").filter(function (t) {\n              return !!t.match(e) && !t.match(/^Error created at/);\n            }, this).map(function (e) {\n              var r,\n                  n = e.split(\"@\"),\n                  o = this.extractLocation(n.pop()),\n                  i = n.shift() || \"\",\n                  s = i.replace(/<anonymous function(: (\\w+))?>/, \"$2\").replace(/\\([^)]*\\)/g, \"\") || void 0;\n              i.match(/\\(([^)]*)\\)/) && (r = i.replace(/^[^(]+\\(([^)]*)\\)$/, \"$1\"));\n              var a = void 0 === r || \"[arguments not available]\" === r ? void 0 : r.split(\",\");\n              return new t({\n                functionName: s,\n                args: a,\n                fileName: o[0],\n                lineNumber: o[1],\n                columnNumber: o[2],\n                source: e\n              });\n            }, this);\n          }\n        };\n      }) ? n.apply(e, o) : n) || (t.exports = i);\n    }();\n  }, function (t, e, r) {\n    var n, o, i;\n    !function (r, s) {\n      \"use strict\";\n\n      o = [], void 0 === (i = \"function\" == typeof (n = function () {\n        function t(t) {\n          return t.charAt(0).toUpperCase() + t.substring(1);\n        }\n\n        function e(t) {\n          return function () {\n            return this[t];\n          };\n        }\n\n        var r = [\"isConstructor\", \"isEval\", \"isNative\", \"isToplevel\"],\n            n = [\"columnNumber\", \"lineNumber\"],\n            o = [\"fileName\", \"functionName\", \"source\"],\n            i = r.concat(n, o, [\"args\"]);\n\n        function s(e) {\n          if (e) for (var r = 0; r < i.length; r++) void 0 !== e[i[r]] && this[\"set\" + t(i[r])](e[i[r]]);\n        }\n\n        s.prototype = {\n          getArgs: function () {\n            return this.args;\n          },\n          setArgs: function (t) {\n            if (\"[object Array]\" !== Object.prototype.toString.call(t)) throw new TypeError(\"Args must be an Array\");\n            this.args = t;\n          },\n          getEvalOrigin: function () {\n            return this.evalOrigin;\n          },\n          setEvalOrigin: function (t) {\n            if (t instanceof s) this.evalOrigin = t;else {\n              if (!(t instanceof Object)) throw new TypeError(\"Eval Origin must be an Object or StackFrame\");\n              this.evalOrigin = new s(t);\n            }\n          },\n          toString: function () {\n            var t = this.getFileName() || \"\",\n                e = this.getLineNumber() || \"\",\n                r = this.getColumnNumber() || \"\",\n                n = this.getFunctionName() || \"\";\n            return this.getIsEval() ? t ? \"[eval] (\" + t + \":\" + e + \":\" + r + \")\" : \"[eval]:\" + e + \":\" + r : n ? n + \" (\" + t + \":\" + e + \":\" + r + \")\" : t + \":\" + e + \":\" + r;\n          }\n        }, s.fromString = function (t) {\n          var e = t.indexOf(\"(\"),\n              r = t.lastIndexOf(\")\"),\n              n = t.substring(0, e),\n              o = t.substring(e + 1, r).split(\",\"),\n              i = t.substring(r + 1);\n          if (0 === i.indexOf(\"@\")) var a = /@(.+?)(?::(\\d+))?(?::(\\d+))?$/.exec(i, \"\"),\n              u = a[1],\n              c = a[2],\n              l = a[3];\n          return new s({\n            functionName: n,\n            args: o || void 0,\n            fileName: u,\n            lineNumber: c || void 0,\n            columnNumber: l || void 0\n          });\n        };\n\n        for (var a = 0; a < r.length; a++) s.prototype[\"get\" + t(r[a])] = e(r[a]), s.prototype[\"set\" + t(r[a])] = function (t) {\n          return function (e) {\n            this[t] = Boolean(e);\n          };\n        }(r[a]);\n\n        for (var u = 0; u < n.length; u++) s.prototype[\"get\" + t(n[u])] = e(n[u]), s.prototype[\"set\" + t(n[u])] = function (t) {\n          return function (e) {\n            if (r = e, isNaN(parseFloat(r)) || !isFinite(r)) throw new TypeError(t + \" must be a Number\");\n            var r;\n            this[t] = Number(e);\n          };\n        }(n[u]);\n\n        for (var c = 0; c < o.length; c++) s.prototype[\"get\" + t(o[c])] = e(o[c]), s.prototype[\"set\" + t(o[c])] = function (t) {\n          return function (e) {\n            this[t] = String(e);\n          };\n        }(o[c]);\n\n        return s;\n      }) ? n.apply(e, o) : n) || (t.exports = i);\n    }();\n  }, function (t, e, r) {\n    \"use strict\";\n\n    var n = r(0);\n\n    function o(t, e) {\n      n.isFunction(t[e]) && (t[e] = t[e].toString());\n    }\n\n    t.exports = {\n      itemToPayload: function (t, e, r) {\n        var o = e.payload || {};\n        o.body && delete o.body;\n        var i = n.merge(t.data, o);\n        t._isUncaught && (i._isUncaught = !0), t._originalArgs && (i._originalArgs = t._originalArgs), r(null, i);\n      },\n      addTelemetryData: function (t, e, r) {\n        t.telemetryEvents && n.set(t, \"data.body.telemetry\", t.telemetryEvents), r(null, t);\n      },\n      addMessageWithError: function (t, e, r) {\n        if (t.message) {\n          var o = \"data.body.trace_chain.0\",\n              i = n.get(t, o);\n\n          if (i || (o = \"data.body.trace\", i = n.get(t, o)), i) {\n            if (!i.exception || !i.exception.description) return n.set(t, o + \".exception.description\", t.message), void r(null, t);\n            var s = n.get(t, o + \".extra\") || {},\n                a = n.merge(s, {\n              message: t.message\n            });\n            n.set(t, o + \".extra\", a);\n          }\n\n          r(null, t);\n        } else r(null, t);\n      },\n      userTransform: function (t) {\n        return function (e, r, o) {\n          var i = n.merge(e);\n\n          try {\n            n.isFunction(r.transform) && r.transform(i.data, e);\n          } catch (n) {\n            return r.transform = null, t.error(\"Error while calling custom transform() function. Removing custom transform().\", n), void o(null, e);\n          }\n\n          o(null, i);\n        };\n      },\n      addConfigToPayload: function (t, e, r) {\n        if (!e.sendConfig) return r(null, t);\n        var o = n.get(t, \"data.custom\") || {};\n        o._rollbarConfig = e, t.data.custom = o, r(null, t);\n      },\n      addConfiguredOptions: function (t, e, r) {\n        var n = e._configuredOptions;\n        o(n, \"transform\"), o(n, \"checkIgnore\"), o(n, \"onSendCallback\"), delete n.accessToken, t.data.notifier.configured_options = n, r(null, t);\n      },\n      addDiagnosticKeys: function (t, e, r) {\n        var o = n.merge(t.notifier.client.notifier.diagnostic, t.diagnostic);\n        if (n.get(t, \"err._isAnonymous\") && (o.is_anonymous = !0), t._isUncaught && (o.is_uncaught = t._isUncaught), t.err) try {\n          o.raw_error = {\n            message: t.err.message,\n            name: t.err.name,\n            constructor_name: t.err.constructor && t.err.constructor.name,\n            filename: t.err.fileName,\n            line: t.err.lineNumber,\n            column: t.err.columnNumber,\n            stack: t.err.stack\n          };\n        } catch (t) {\n          o.raw_error = {\n            failed: String(t)\n          };\n        }\n        t.data.notifier.diagnostic = n.merge(t.data.notifier.diagnostic, o), r(null, t);\n      }\n    };\n  }, function (t, e, r) {\n    \"use strict\";\n\n    var n = r(0);\n    t.exports = {\n      checkIgnore: function (t, e) {\n        return !n.get(e, \"plugins.jquery.ignoreAjaxErrors\") || !n.get(t, \"body.message.extra.isAjax\");\n      }\n    };\n  }, function (t, e, r) {\n    \"use strict\";\n\n    var n = r(0);\n\n    function o(t, e, r) {\n      if (!t) return !r;\n      var o,\n          i,\n          s = t.frames;\n      if (!s || 0 === s.length) return !r;\n\n      for (var a = e.length, u = s.length, c = 0; c < u; c++) {\n        if (o = s[c].filename, !n.isType(o, \"string\")) return !r;\n\n        for (var l = 0; l < a; l++) if (i = e[l], new RegExp(i).test(o)) return !0;\n      }\n\n      return !1;\n    }\n\n    function i(t, e, r, i) {\n      var s,\n          a,\n          u = !1;\n      \"blocklist\" === r && (u = !0);\n\n      try {\n        if (s = u ? e.hostBlockList : e.hostSafeList, a = n.get(t, \"body.trace_chain\") || [n.get(t, \"body.trace\")], !s || 0 === s.length) return !u;\n        if (0 === a.length || !a[0]) return !u;\n\n        for (var c = a.length, l = 0; l < c; l++) if (o(a[l], s, u)) return !0;\n      } catch (t) {\n        u ? e.hostBlockList = null : e.hostSafeList = null;\n        var p = u ? \"hostBlockList\" : \"hostSafeList\";\n        return i.error(\"Error while reading your configuration's \" + p + \" option. Removing custom \" + p + \".\", t), !u;\n      }\n\n      return !1;\n    }\n\n    t.exports = {\n      checkLevel: function (t, e) {\n        var r = t.level,\n            o = n.LEVELS[r] || 0,\n            i = e.reportLevel;\n        return !(o < (n.LEVELS[i] || 0));\n      },\n      userCheckIgnore: function (t) {\n        return function (e, r) {\n          var o = !!e._isUncaught;\n          delete e._isUncaught;\n          var i = e._originalArgs;\n          delete e._originalArgs;\n\n          try {\n            n.isFunction(r.onSendCallback) && r.onSendCallback(o, i, e);\n          } catch (e) {\n            r.onSendCallback = null, t.error(\"Error while calling onSendCallback, removing\", e);\n          }\n\n          try {\n            if (n.isFunction(r.checkIgnore) && r.checkIgnore(o, i, e)) return !1;\n          } catch (e) {\n            r.checkIgnore = null, t.error(\"Error while calling custom checkIgnore(), removing\", e);\n          }\n\n          return !0;\n        };\n      },\n      urlIsNotBlockListed: function (t) {\n        return function (e, r) {\n          return !i(e, r, \"blocklist\", t);\n        };\n      },\n      urlIsSafeListed: function (t) {\n        return function (e, r) {\n          return i(e, r, \"safelist\", t);\n        };\n      },\n      messageIsIgnored: function (t) {\n        return function (e, r) {\n          var o, i, s, a, u, c, l, p;\n\n          try {\n            if (u = !1, !(s = r.ignoredMessages) || 0 === s.length) return !0;\n            if (c = e.body, l = n.get(c, \"trace.exception.message\"), p = n.get(c, \"message.body\"), !(o = l || p)) return !0;\n\n            for (a = s.length, i = 0; i < a && !(u = new RegExp(s[i], \"gi\").test(o)); i++);\n          } catch (e) {\n            r.ignoredMessages = null, t.error(\"Error while reading your configuration's ignoredMessages option. Removing custom ignoredMessages.\");\n          }\n\n          return !u;\n        };\n      }\n    };\n  }, function (t, e, r) {\n    \"use strict\";\n\n    t.exports = {\n      version: \"2.21.0\",\n      endpoint: \"api.rollbar.com/api/1/item/\",\n      logLevel: \"debug\",\n      reportLevel: \"debug\",\n      uncaughtErrorLevel: \"error\",\n      maxItems: 0,\n      itemsPerMin: 60\n    };\n  }, function (t, e, r) {\n    \"use strict\";\n\n    t.exports = {\n      scrubFields: [\"pw\", \"pass\", \"passwd\", \"password\", \"secret\", \"confirm_password\", \"confirmPassword\", \"password_confirmation\", \"passwordConfirmation\", \"access_token\", \"accessToken\", \"X-Rollbar-Access-Token\", \"secret_key\", \"secretKey\", \"secretToken\", \"cc-number\", \"card number\", \"cardnumber\", \"cardnum\", \"ccnum\", \"ccnumber\", \"cc num\", \"creditcardnumber\", \"credit card number\", \"newcreditcardnumber\", \"new credit card\", \"creditcardno\", \"credit card no\", \"card#\", \"card #\", \"cc-csc\", \"cvc\", \"cvc2\", \"cvv2\", \"ccv2\", \"security code\", \"card verification\", \"name on credit card\", \"name on card\", \"nameoncard\", \"cardholder\", \"card holder\", \"name des karteninhabers\", \"ccname\", \"card type\", \"cardtype\", \"cc type\", \"cctype\", \"payment type\", \"expiration date\", \"expirationdate\", \"expdate\", \"cc-exp\", \"ccmonth\", \"ccyear\"]\n    };\n  }, function (t, e, r) {\n    \"use strict\";\n\n    var n = r(0);\n\n    function o(t) {\n      this.queue = [], this.options = n.merge(t);\n      var e = this.options.maxTelemetryEvents || 100;\n      this.maxQueueSize = Math.max(0, Math.min(e, 100));\n    }\n\n    function i(t, e) {\n      if (e) return e;\n      return {\n        error: \"error\",\n        manual: \"info\"\n      }[t] || \"info\";\n    }\n\n    o.prototype.configure = function (t) {\n      var e = this.options;\n      this.options = n.merge(e, t);\n      var r = this.options.maxTelemetryEvents || 100,\n          o = Math.max(0, Math.min(r, 100)),\n          i = 0;\n      this.maxQueueSize > o && (i = this.maxQueueSize - o), this.maxQueueSize = o, this.queue.splice(0, i);\n    }, o.prototype.copyEvents = function () {\n      var t = Array.prototype.slice.call(this.queue, 0);\n      if (n.isFunction(this.options.filterTelemetry)) try {\n        for (var e = t.length; e--;) this.options.filterTelemetry(t[e]) && t.splice(e, 1);\n      } catch (t) {\n        this.options.filterTelemetry = null;\n      }\n      return t;\n    }, o.prototype.capture = function (t, e, r, o, s) {\n      var a = {\n        level: i(t, r),\n        type: t,\n        timestamp_ms: s || n.now(),\n        body: e,\n        source: \"client\"\n      };\n      o && (a.uuid = o);\n\n      try {\n        if (n.isFunction(this.options.filterTelemetry) && this.options.filterTelemetry(a)) return !1;\n      } catch (t) {\n        this.options.filterTelemetry = null;\n      }\n\n      return this.push(a), a;\n    }, o.prototype.captureEvent = function (t, e, r, n) {\n      return this.capture(t, e, r, n);\n    }, o.prototype.captureError = function (t, e, r, n) {\n      var o = {\n        message: t.message || String(t)\n      };\n      return t.stack && (o.stack = t.stack), this.capture(\"error\", o, e, r, n);\n    }, o.prototype.captureLog = function (t, e, r, n) {\n      return this.capture(\"log\", {\n        message: t\n      }, e, r, n);\n    }, o.prototype.captureNetwork = function (t, e, r, n) {\n      e = e || \"xhr\", t.subtype = t.subtype || e, n && (t.request = n);\n      var o = this.levelFromStatus(t.status_code);\n      return this.capture(\"network\", t, o, r);\n    }, o.prototype.levelFromStatus = function (t) {\n      return t >= 200 && t < 400 ? \"info\" : 0 === t || t >= 400 ? \"error\" : \"info\";\n    }, o.prototype.captureDom = function (t, e, r, n, o) {\n      var i = {\n        subtype: t,\n        element: e\n      };\n      return void 0 !== r && (i.value = r), void 0 !== n && (i.checked = n), this.capture(\"dom\", i, \"info\", o);\n    }, o.prototype.captureNavigation = function (t, e, r) {\n      return this.capture(\"navigation\", {\n        from: t,\n        to: e\n      }, \"info\", r);\n    }, o.prototype.captureDomContentLoaded = function (t) {\n      return this.capture(\"navigation\", {\n        subtype: \"DOMContentLoaded\"\n      }, \"info\", void 0, t && t.getTime());\n    }, o.prototype.captureLoad = function (t) {\n      return this.capture(\"navigation\", {\n        subtype: \"load\"\n      }, \"info\", void 0, t && t.getTime());\n    }, o.prototype.captureConnectivityChange = function (t, e) {\n      return this.captureNetwork({\n        change: t\n      }, \"connectivity\", e);\n    }, o.prototype._captureRollbarItem = function (t) {\n      if (this.options.includeItemsInTelemetry) return t.err ? this.captureError(t.err, t.level, t.uuid, t.timestamp) : t.message ? this.captureLog(t.message, t.level, t.uuid, t.timestamp) : t.custom ? this.capture(\"log\", t.custom, t.level, t.uuid, t.timestamp) : void 0;\n    }, o.prototype.push = function (t) {\n      this.queue.push(t), this.queue.length > this.maxQueueSize && this.queue.shift();\n    }, t.exports = o;\n  }, function (t, e, r) {\n    \"use strict\";\n\n    var n = r(0),\n        o = r(4),\n        i = r(2),\n        s = r(31),\n        a = {\n      network: !0,\n      networkResponseHeaders: !1,\n      networkResponseBody: !1,\n      networkRequestHeaders: !1,\n      networkRequestBody: !1,\n      networkErrorOnHttp5xx: !1,\n      networkErrorOnHttp4xx: !1,\n      networkErrorOnHttp0: !1,\n      log: !0,\n      dom: !0,\n      navigation: !0,\n      connectivity: !0,\n      contentSecurityPolicy: !0,\n      errorOnContentSecurityPolicy: !1\n    };\n\n    function u(t, e, r, n, o) {\n      var i = t[e];\n      t[e] = r(i), n && n[o].push([t, e, i]);\n    }\n\n    function c(t, e) {\n      for (var r; t[e].length;) (r = t[e].shift())[0][r[1]] = r[2];\n    }\n\n    function l(t, e, r, o, i) {\n      this.options = t;\n      var s = t.autoInstrument;\n      !1 === t.enabled || !1 === s ? this.autoInstrument = {} : (n.isType(s, \"object\") || (s = a), this.autoInstrument = n.merge(a, s)), this.scrubTelemetryInputs = !!t.scrubTelemetryInputs, this.telemetryScrubber = t.telemetryScrubber, this.defaultValueScrubber = function (t) {\n        for (var e = [], r = 0; r < t.length; ++r) e.push(new RegExp(t[r], \"i\"));\n\n        return function (t) {\n          var r = function (t) {\n            if (!t || !t.attributes) return null;\n\n            for (var e = t.attributes, r = 0; r < e.length; ++r) if (\"name\" === e[r].key) return e[r].value;\n\n            return null;\n          }(t);\n\n          if (!r) return !1;\n\n          for (var n = 0; n < e.length; ++n) if (e[n].test(r)) return !0;\n\n          return !1;\n        };\n      }(t.scrubFields), this.telemeter = e, this.rollbar = r, this.diagnostic = r.client.notifier.diagnostic, this._window = o || {}, this._document = i || {}, this.replacements = {\n        network: [],\n        log: [],\n        navigation: [],\n        connectivity: []\n      }, this.eventRemovers = {\n        dom: [],\n        connectivity: [],\n        contentsecuritypolicy: []\n      }, this._location = this._window.location, this._lastHref = this._location && this._location.href;\n    }\n\n    l.prototype.configure = function (t) {\n      this.options = n.merge(this.options, t);\n      var e = t.autoInstrument,\n          r = n.merge(this.autoInstrument);\n      !1 === t.enabled || !1 === e ? this.autoInstrument = {} : (n.isType(e, \"object\") || (e = a), this.autoInstrument = n.merge(a, e)), this.instrument(r), void 0 !== t.scrubTelemetryInputs && (this.scrubTelemetryInputs = !!t.scrubTelemetryInputs), void 0 !== t.telemetryScrubber && (this.telemetryScrubber = t.telemetryScrubber);\n    }, l.prototype.instrument = function (t) {\n      !this.autoInstrument.network || t && t.network ? !this.autoInstrument.network && t && t.network && this.deinstrumentNetwork() : this.instrumentNetwork(), !this.autoInstrument.log || t && t.log ? !this.autoInstrument.log && t && t.log && this.deinstrumentConsole() : this.instrumentConsole(), !this.autoInstrument.dom || t && t.dom ? !this.autoInstrument.dom && t && t.dom && this.deinstrumentDom() : this.instrumentDom(), !this.autoInstrument.navigation || t && t.navigation ? !this.autoInstrument.navigation && t && t.navigation && this.deinstrumentNavigation() : this.instrumentNavigation(), !this.autoInstrument.connectivity || t && t.connectivity ? !this.autoInstrument.connectivity && t && t.connectivity && this.deinstrumentConnectivity() : this.instrumentConnectivity(), !this.autoInstrument.contentSecurityPolicy || t && t.contentSecurityPolicy ? !this.autoInstrument.contentSecurityPolicy && t && t.contentSecurityPolicy && this.deinstrumentContentSecurityPolicy() : this.instrumentContentSecurityPolicy();\n    }, l.prototype.deinstrumentNetwork = function () {\n      c(this.replacements, \"network\");\n    }, l.prototype.instrumentNetwork = function () {\n      var t = this;\n\n      function e(e, r) {\n        e in r && n.isFunction(r[e]) && u(r, e, function (e) {\n          return t.rollbar.wrap(e);\n        });\n      }\n\n      if (\"XMLHttpRequest\" in this._window) {\n        var r = this._window.XMLHttpRequest.prototype;\n        u(r, \"open\", function (t) {\n          return function (e, r) {\n            return n.isType(r, \"string\") && (this.__rollbar_xhr ? (this.__rollbar_xhr.method = e, this.__rollbar_xhr.url = r, this.__rollbar_xhr.status_code = null, this.__rollbar_xhr.start_time_ms = n.now(), this.__rollbar_xhr.end_time_ms = null) : this.__rollbar_xhr = {\n              method: e,\n              url: r,\n              status_code: null,\n              start_time_ms: n.now(),\n              end_time_ms: null\n            }), t.apply(this, arguments);\n          };\n        }, this.replacements, \"network\"), u(r, \"setRequestHeader\", function (e) {\n          return function (r, o) {\n            return this.__rollbar_xhr || (this.__rollbar_xhr = {}), n.isType(r, \"string\") && n.isType(o, \"string\") && (t.autoInstrument.networkRequestHeaders && (this.__rollbar_xhr.request_headers || (this.__rollbar_xhr.request_headers = {}), this.__rollbar_xhr.request_headers[r] = o), \"content-type\" === r.toLowerCase() && (this.__rollbar_xhr.request_content_type = o)), e.apply(this, arguments);\n          };\n        }, this.replacements, \"network\"), u(r, \"send\", function (r) {\n          return function (o) {\n            var i = this;\n\n            function s() {\n              if (i.__rollbar_xhr && (null === i.__rollbar_xhr.status_code && (i.__rollbar_xhr.status_code = 0, t.autoInstrument.networkRequestBody && (i.__rollbar_xhr.request = o), i.__rollbar_event = t.captureNetwork(i.__rollbar_xhr, \"xhr\", void 0)), i.readyState < 2 && (i.__rollbar_xhr.start_time_ms = n.now()), i.readyState > 3)) {\n                i.__rollbar_xhr.end_time_ms = n.now();\n                var e = null;\n\n                if (i.__rollbar_xhr.response_content_type = i.getResponseHeader(\"Content-Type\"), t.autoInstrument.networkResponseHeaders) {\n                  var r = t.autoInstrument.networkResponseHeaders;\n                  e = {};\n\n                  try {\n                    var s, a;\n\n                    if (!0 === r) {\n                      var u = i.getAllResponseHeaders();\n\n                      if (u) {\n                        var c,\n                            l,\n                            p = u.trim().split(/[\\r\\n]+/);\n\n                        for (a = 0; a < p.length; a++) s = (c = p[a].split(\": \")).shift(), l = c.join(\": \"), e[s] = l;\n                      }\n                    } else for (a = 0; a < r.length; a++) e[s = r[a]] = i.getResponseHeader(s);\n                  } catch (t) {}\n                }\n\n                var f = null;\n                if (t.autoInstrument.networkResponseBody) try {\n                  f = i.responseText;\n                } catch (t) {}\n                var h = null;\n                (f || e) && (h = {}, f && (t.isJsonContentType(i.__rollbar_xhr.response_content_type) ? h.body = t.scrubJson(f) : h.body = f), e && (h.headers = e)), h && (i.__rollbar_xhr.response = h);\n\n                try {\n                  var d = i.status;\n                  d = 1223 === d ? 204 : d, i.__rollbar_xhr.status_code = d, i.__rollbar_event.level = t.telemeter.levelFromStatus(d), t.errorOnHttpStatus(i.__rollbar_xhr);\n                } catch (t) {}\n              }\n            }\n\n            return e(\"onload\", i), e(\"onerror\", i), e(\"onprogress\", i), \"onreadystatechange\" in i && n.isFunction(i.onreadystatechange) ? u(i, \"onreadystatechange\", function (e) {\n              return t.rollbar.wrap(e, void 0, s);\n            }) : i.onreadystatechange = s, i.__rollbar_xhr && t.trackHttpErrors() && (i.__rollbar_xhr.stack = new Error().stack), r.apply(this, arguments);\n          };\n        }, this.replacements, \"network\");\n      }\n\n      \"fetch\" in this._window && u(this._window, \"fetch\", function (e) {\n        return function (r, o) {\n          for (var i = new Array(arguments.length), s = 0, a = i.length; s < a; s++) i[s] = arguments[s];\n\n          var u,\n              c = i[0],\n              l = \"GET\";\n          n.isType(c, \"string\") ? u = c : c && (u = c.url, c.method && (l = c.method)), i[1] && i[1].method && (l = i[1].method);\n          var p = {\n            method: l,\n            url: u,\n            status_code: null,\n            start_time_ms: n.now(),\n            end_time_ms: null\n          };\n\n          if (i[1] && i[1].headers) {\n            var f = new Headers(i[1].headers);\n            p.request_content_type = f.get(\"Content-Type\"), t.autoInstrument.networkRequestHeaders && (p.request_headers = t.fetchHeaders(f, t.autoInstrument.networkRequestHeaders));\n          }\n\n          return t.autoInstrument.networkRequestBody && (i[1] && i[1].body ? p.request = i[1].body : i[0] && !n.isType(i[0], \"string\") && i[0].body && (p.request = i[0].body)), t.captureNetwork(p, \"fetch\", void 0), t.trackHttpErrors() && (p.stack = new Error().stack), e.apply(this, i).then(function (e) {\n            p.end_time_ms = n.now(), p.status_code = e.status, p.response_content_type = e.headers.get(\"Content-Type\");\n            var r = null;\n            t.autoInstrument.networkResponseHeaders && (r = t.fetchHeaders(e.headers, t.autoInstrument.networkResponseHeaders));\n            var o = null;\n            return t.autoInstrument.networkResponseBody && \"function\" == typeof e.text && (o = e.clone().text()), (r || o) && (p.response = {}, o && (\"function\" == typeof o.then ? o.then(function (e) {\n              t.isJsonContentType(p.response_content_type) && (p.response.body = t.scrubJson(e));\n            }) : p.response.body = o), r && (p.response.headers = r)), t.errorOnHttpStatus(p), e;\n          });\n        };\n      }, this.replacements, \"network\");\n    }, l.prototype.captureNetwork = function (t, e, r) {\n      return t.request && this.isJsonContentType(t.request_content_type) && (t.request = this.scrubJson(t.request)), this.telemeter.captureNetwork(t, e, r);\n    }, l.prototype.isJsonContentType = function (t) {\n      return !!(t && n.isType(t, \"string\") && t.toLowerCase().includes(\"json\"));\n    }, l.prototype.scrubJson = function (t) {\n      return JSON.stringify(o(JSON.parse(t), this.options.scrubFields));\n    }, l.prototype.fetchHeaders = function (t, e) {\n      var r = {};\n\n      try {\n        var n;\n\n        if (!0 === e) {\n          if (\"function\" == typeof t.entries) for (var o = t.entries(), i = o.next(); !i.done;) r[i.value[0]] = i.value[1], i = o.next();\n        } else for (n = 0; n < e.length; n++) {\n          var s = e[n];\n          r[s] = t.get(s);\n        }\n      } catch (t) {}\n\n      return r;\n    }, l.prototype.trackHttpErrors = function () {\n      return this.autoInstrument.networkErrorOnHttp5xx || this.autoInstrument.networkErrorOnHttp4xx || this.autoInstrument.networkErrorOnHttp0;\n    }, l.prototype.errorOnHttpStatus = function (t) {\n      var e = t.status_code;\n\n      if (e >= 500 && this.autoInstrument.networkErrorOnHttp5xx || e >= 400 && this.autoInstrument.networkErrorOnHttp4xx || 0 === e && this.autoInstrument.networkErrorOnHttp0) {\n        var r = new Error(\"HTTP request failed with Status \" + e);\n        r.stack = t.stack, this.rollbar.error(r, {\n          skipFrames: 1\n        });\n      }\n    }, l.prototype.deinstrumentConsole = function () {\n      if (\"console\" in this._window && this._window.console.log) for (var t; this.replacements.log.length;) t = this.replacements.log.shift(), this._window.console[t[0]] = t[1];\n    }, l.prototype.instrumentConsole = function () {\n      if (\"console\" in this._window && this._window.console.log) {\n        var t = this,\n            e = this._window.console,\n            r = [\"debug\", \"info\", \"warn\", \"error\", \"log\"];\n\n        try {\n          for (var o = 0, i = r.length; o < i; o++) s(r[o]);\n        } catch (t) {\n          this.diagnostic.instrumentConsole = {\n            error: t.message\n          };\n        }\n      }\n\n      function s(r) {\n        var o = e[r],\n            i = e,\n            s = \"warn\" === r ? \"warning\" : r;\n        e[r] = function () {\n          var e = Array.prototype.slice.call(arguments),\n              r = n.formatArgsAsString(e);\n          t.telemeter.captureLog(r, s), o && Function.prototype.apply.call(o, i, e);\n        }, t.replacements.log.push([r, o]);\n      }\n    }, l.prototype.deinstrumentDom = function () {\n      (\"addEventListener\" in this._window || \"attachEvent\" in this._window) && this.removeListeners(\"dom\");\n    }, l.prototype.instrumentDom = function () {\n      if (\"addEventListener\" in this._window || \"attachEvent\" in this._window) {\n        var t = this.handleClick.bind(this),\n            e = this.handleBlur.bind(this);\n        this.addListener(\"dom\", this._window, \"click\", \"onclick\", t, !0), this.addListener(\"dom\", this._window, \"blur\", \"onfocusout\", e, !0);\n      }\n    }, l.prototype.handleClick = function (t) {\n      try {\n        var e = s.getElementFromEvent(t, this._document),\n            r = e && e.tagName,\n            n = s.isDescribedElement(e, \"a\") || s.isDescribedElement(e, \"button\");\n        r && (n || s.isDescribedElement(e, \"input\", [\"button\", \"submit\"])) ? this.captureDomEvent(\"click\", e) : s.isDescribedElement(e, \"input\", [\"checkbox\", \"radio\"]) && this.captureDomEvent(\"input\", e, e.value, e.checked);\n      } catch (t) {}\n    }, l.prototype.handleBlur = function (t) {\n      try {\n        var e = s.getElementFromEvent(t, this._document);\n        e && e.tagName && (s.isDescribedElement(e, \"textarea\") ? this.captureDomEvent(\"input\", e, e.value) : s.isDescribedElement(e, \"select\") && e.options && e.options.length ? this.handleSelectInputChanged(e) : s.isDescribedElement(e, \"input\") && !s.isDescribedElement(e, \"input\", [\"button\", \"submit\", \"hidden\", \"checkbox\", \"radio\"]) && this.captureDomEvent(\"input\", e, e.value));\n      } catch (t) {}\n    }, l.prototype.handleSelectInputChanged = function (t) {\n      if (t.multiple) for (var e = 0; e < t.options.length; e++) t.options[e].selected && this.captureDomEvent(\"input\", t, t.options[e].value);else t.selectedIndex >= 0 && t.options[t.selectedIndex] && this.captureDomEvent(\"input\", t, t.options[t.selectedIndex].value);\n    }, l.prototype.captureDomEvent = function (t, e, r, n) {\n      if (void 0 !== r) if (this.scrubTelemetryInputs || \"password\" === s.getElementType(e)) r = \"[scrubbed]\";else {\n        var o = s.describeElement(e);\n        this.telemetryScrubber ? this.telemetryScrubber(o) && (r = \"[scrubbed]\") : this.defaultValueScrubber(o) && (r = \"[scrubbed]\");\n      }\n      var i = s.elementArrayToString(s.treeToArray(e));\n      this.telemeter.captureDom(t, i, r, n);\n    }, l.prototype.deinstrumentNavigation = function () {\n      var t = this._window.chrome;\n      !(t && t.app && t.app.runtime) && this._window.history && this._window.history.pushState && c(this.replacements, \"navigation\");\n    }, l.prototype.instrumentNavigation = function () {\n      var t = this._window.chrome;\n\n      if (!(t && t.app && t.app.runtime) && this._window.history && this._window.history.pushState) {\n        var e = this;\n        u(this._window, \"onpopstate\", function (t) {\n          return function () {\n            var r = e._location.href;\n            e.handleUrlChange(e._lastHref, r), t && t.apply(this, arguments);\n          };\n        }, this.replacements, \"navigation\"), u(this._window.history, \"pushState\", function (t) {\n          return function () {\n            var r = arguments.length > 2 ? arguments[2] : void 0;\n            return r && e.handleUrlChange(e._lastHref, r + \"\"), t.apply(this, arguments);\n          };\n        }, this.replacements, \"navigation\");\n      }\n    }, l.prototype.handleUrlChange = function (t, e) {\n      var r = i.parse(this._location.href),\n          n = i.parse(e),\n          o = i.parse(t);\n      this._lastHref = e, r.protocol === n.protocol && r.host === n.host && (e = n.path + (n.hash || \"\")), r.protocol === o.protocol && r.host === o.host && (t = o.path + (o.hash || \"\")), this.telemeter.captureNavigation(t, e);\n    }, l.prototype.deinstrumentConnectivity = function () {\n      (\"addEventListener\" in this._window || \"body\" in this._document) && (this._window.addEventListener ? this.removeListeners(\"connectivity\") : c(this.replacements, \"connectivity\"));\n    }, l.prototype.instrumentConnectivity = function () {\n      if (\"addEventListener\" in this._window || \"body\" in this._document) if (this._window.addEventListener) this.addListener(\"connectivity\", this._window, \"online\", void 0, function () {\n        this.telemeter.captureConnectivityChange(\"online\");\n      }.bind(this), !0), this.addListener(\"connectivity\", this._window, \"offline\", void 0, function () {\n        this.telemeter.captureConnectivityChange(\"offline\");\n      }.bind(this), !0);else {\n        var t = this;\n        u(this._document.body, \"ononline\", function (e) {\n          return function () {\n            t.telemeter.captureConnectivityChange(\"online\"), e && e.apply(this, arguments);\n          };\n        }, this.replacements, \"connectivity\"), u(this._document.body, \"onoffline\", function (e) {\n          return function () {\n            t.telemeter.captureConnectivityChange(\"offline\"), e && e.apply(this, arguments);\n          };\n        }, this.replacements, \"connectivity\");\n      }\n    }, l.prototype.handleCspEvent = function (t) {\n      var e = \"Security Policy Violation: blockedURI: \" + t.blockedURI + \", violatedDirective: \" + t.violatedDirective + \", effectiveDirective: \" + t.effectiveDirective + \", \";\n      t.sourceFile && (e += \"location: \" + t.sourceFile + \", line: \" + t.lineNumber + \", col: \" + t.columnNumber + \", \"), e += \"originalPolicy: \" + t.originalPolicy, this.telemeter.captureLog(e, \"error\"), this.handleCspError(e);\n    }, l.prototype.handleCspError = function (t) {\n      this.autoInstrument.errorOnContentSecurityPolicy && this.rollbar.error(t);\n    }, l.prototype.deinstrumentContentSecurityPolicy = function () {\n      \"addEventListener\" in this._window && this.removeListeners(\"contentsecuritypolicy\");\n    }, l.prototype.instrumentContentSecurityPolicy = function () {\n      if (\"addEventListener\" in this._window) {\n        var t = this.handleCspEvent.bind(this);\n        this.addListener(\"contentsecuritypolicy\", this._window, \"securitypolicyviolation\", null, t, !1);\n      }\n    }, l.prototype.addListener = function (t, e, r, n, o, i) {\n      e.addEventListener ? (e.addEventListener(r, o, i), this.eventRemovers[t].push(function () {\n        e.removeEventListener(r, o, i);\n      })) : n && (e.attachEvent(n, o), this.eventRemovers[t].push(function () {\n        e.detachEvent(n, o);\n      }));\n    }, l.prototype.removeListeners = function (t) {\n      for (; this.eventRemovers[t].length;) this.eventRemovers[t].shift()();\n    }, t.exports = l;\n  }, function (t, e, r) {\n    \"use strict\";\n\n    function n(t) {\n      return (t.getAttribute(\"type\") || \"\").toLowerCase();\n    }\n\n    function o(t) {\n      if (!t || !t.tagName) return \"\";\n      var e = [t.tagName];\n      t.id && e.push(\"#\" + t.id), t.classes && e.push(\".\" + t.classes.join(\".\"));\n\n      for (var r = 0; r < t.attributes.length; r++) e.push(\"[\" + t.attributes[r].key + '=\"' + t.attributes[r].value + '\"]');\n\n      return e.join(\"\");\n    }\n\n    function i(t) {\n      if (!t || !t.tagName) return null;\n      var e,\n          r,\n          n,\n          o,\n          i = {};\n      i.tagName = t.tagName.toLowerCase(), t.id && (i.id = t.id), (e = t.className) && \"string\" == typeof e && (i.classes = e.split(/\\s+/));\n      var s = [\"type\", \"name\", \"title\", \"alt\"];\n\n      for (i.attributes = [], o = 0; o < s.length; o++) r = s[o], (n = t.getAttribute(r)) && i.attributes.push({\n        key: r,\n        value: n\n      });\n\n      return i;\n    }\n\n    t.exports = {\n      describeElement: i,\n      descriptionToString: o,\n      elementArrayToString: function (t) {\n        for (var e, r, n = \" > \".length, i = [], s = 0, a = t.length - 1; a >= 0; a--) {\n          if (e = o(t[a]), r = s + i.length * n + e.length, a < t.length - 1 && r >= 83) {\n            i.unshift(\"...\");\n            break;\n          }\n\n          i.unshift(e), s += e.length;\n        }\n\n        return i.join(\" > \");\n      },\n      treeToArray: function (t) {\n        for (var e, r = [], n = 0; t && n < 5 && \"html\" !== (e = i(t)).tagName; n++) r.unshift(e), t = t.parentNode;\n\n        return r;\n      },\n      getElementFromEvent: function (t, e) {\n        return t.target ? t.target : e && e.elementFromPoint ? e.elementFromPoint(t.clientX, t.clientY) : void 0;\n      },\n      isDescribedElement: function (t, e, r) {\n        if (t.tagName.toLowerCase() !== e.toLowerCase()) return !1;\n        if (!r) return !0;\n        t = n(t);\n\n        for (var o = 0; o < r.length; o++) if (r[o] === t) return !0;\n\n        return !1;\n      },\n      getElementType: n\n    };\n  }, function (t, e, r) {\n    \"use strict\";\n\n    var n = r(33);\n    t.exports = n;\n  }, function (t, e) {\n    t.exports = function (t) {\n      var e,\n          r,\n          n,\n          o,\n          i,\n          s,\n          a,\n          u,\n          c,\n          l,\n          p,\n          f,\n          h,\n          d = /[\\\\\"\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;\n\n      function m(t) {\n        return t < 10 ? \"0\" + t : t;\n      }\n\n      function g() {\n        return this.valueOf();\n      }\n\n      function v(t) {\n        return d.lastIndex = 0, d.test(t) ? '\"' + t.replace(d, function (t) {\n          var e = n[t];\n          return \"string\" == typeof e ? e : \"\\\\u\" + (\"0000\" + t.charCodeAt(0).toString(16)).slice(-4);\n        }) + '\"' : '\"' + t + '\"';\n      }\n\n      \"function\" != typeof Date.prototype.toJSON && (Date.prototype.toJSON = function () {\n        return isFinite(this.valueOf()) ? this.getUTCFullYear() + \"-\" + m(this.getUTCMonth() + 1) + \"-\" + m(this.getUTCDate()) + \"T\" + m(this.getUTCHours()) + \":\" + m(this.getUTCMinutes()) + \":\" + m(this.getUTCSeconds()) + \"Z\" : null;\n      }, Boolean.prototype.toJSON = g, Number.prototype.toJSON = g, String.prototype.toJSON = g), \"function\" != typeof t.stringify && (n = {\n        \"\\b\": \"\\\\b\",\n        \"\\t\": \"\\\\t\",\n        \"\\n\": \"\\\\n\",\n        \"\\f\": \"\\\\f\",\n        \"\\r\": \"\\\\r\",\n        '\"': '\\\\\"',\n        \"\\\\\": \"\\\\\\\\\"\n      }, t.stringify = function (t, n, i) {\n        var s;\n        if (e = \"\", r = \"\", \"number\" == typeof i) for (s = 0; s < i; s += 1) r += \" \";else \"string\" == typeof i && (r = i);\n        if (o = n, n && \"function\" != typeof n && (\"object\" != typeof n || \"number\" != typeof n.length)) throw new Error(\"JSON.stringify\");\n        return function t(n, i) {\n          var s,\n              a,\n              u,\n              c,\n              l,\n              p = e,\n              f = i[n];\n\n          switch (f && \"object\" == typeof f && \"function\" == typeof f.toJSON && (f = f.toJSON(n)), \"function\" == typeof o && (f = o.call(i, n, f)), typeof f) {\n            case \"string\":\n              return v(f);\n\n            case \"number\":\n              return isFinite(f) ? String(f) : \"null\";\n\n            case \"boolean\":\n            case \"null\":\n              return String(f);\n\n            case \"object\":\n              if (!f) return \"null\";\n\n              if (e += r, l = [], \"[object Array]\" === Object.prototype.toString.apply(f)) {\n                for (c = f.length, s = 0; s < c; s += 1) l[s] = t(s, f) || \"null\";\n\n                return u = 0 === l.length ? \"[]\" : e ? \"[\\n\" + e + l.join(\",\\n\" + e) + \"\\n\" + p + \"]\" : \"[\" + l.join(\",\") + \"]\", e = p, u;\n              }\n\n              if (o && \"object\" == typeof o) for (c = o.length, s = 0; s < c; s += 1) \"string\" == typeof o[s] && (u = t(a = o[s], f)) && l.push(v(a) + (e ? \": \" : \":\") + u);else for (a in f) Object.prototype.hasOwnProperty.call(f, a) && (u = t(a, f)) && l.push(v(a) + (e ? \": \" : \":\") + u);\n              return u = 0 === l.length ? \"{}\" : e ? \"{\\n\" + e + l.join(\",\\n\" + e) + \"\\n\" + p + \"}\" : \"{\" + l.join(\",\") + \"}\", e = p, u;\n          }\n        }(\"\", {\n          \"\": t\n        });\n      }), \"function\" != typeof t.parse && (t.parse = (l = {\n        \"\\\\\": \"\\\\\",\n        '\"': '\"',\n        \"/\": \"/\",\n        t: \"\\t\",\n        n: \"\\n\",\n        r: \"\\r\",\n        f: \"\\f\",\n        b: \"\\b\"\n      }, p = {\n        go: function () {\n          i = \"ok\";\n        },\n        firstokey: function () {\n          u = c, i = \"colon\";\n        },\n        okey: function () {\n          u = c, i = \"colon\";\n        },\n        ovalue: function () {\n          i = \"ocomma\";\n        },\n        firstavalue: function () {\n          i = \"acomma\";\n        },\n        avalue: function () {\n          i = \"acomma\";\n        }\n      }, f = {\n        go: function () {\n          i = \"ok\";\n        },\n        ovalue: function () {\n          i = \"ocomma\";\n        },\n        firstavalue: function () {\n          i = \"acomma\";\n        },\n        avalue: function () {\n          i = \"acomma\";\n        }\n      }, h = {\n        \"{\": {\n          go: function () {\n            s.push({\n              state: \"ok\"\n            }), a = {}, i = \"firstokey\";\n          },\n          ovalue: function () {\n            s.push({\n              container: a,\n              state: \"ocomma\",\n              key: u\n            }), a = {}, i = \"firstokey\";\n          },\n          firstavalue: function () {\n            s.push({\n              container: a,\n              state: \"acomma\"\n            }), a = {}, i = \"firstokey\";\n          },\n          avalue: function () {\n            s.push({\n              container: a,\n              state: \"acomma\"\n            }), a = {}, i = \"firstokey\";\n          }\n        },\n        \"}\": {\n          firstokey: function () {\n            var t = s.pop();\n            c = a, a = t.container, u = t.key, i = t.state;\n          },\n          ocomma: function () {\n            var t = s.pop();\n            a[u] = c, c = a, a = t.container, u = t.key, i = t.state;\n          }\n        },\n        \"[\": {\n          go: function () {\n            s.push({\n              state: \"ok\"\n            }), a = [], i = \"firstavalue\";\n          },\n          ovalue: function () {\n            s.push({\n              container: a,\n              state: \"ocomma\",\n              key: u\n            }), a = [], i = \"firstavalue\";\n          },\n          firstavalue: function () {\n            s.push({\n              container: a,\n              state: \"acomma\"\n            }), a = [], i = \"firstavalue\";\n          },\n          avalue: function () {\n            s.push({\n              container: a,\n              state: \"acomma\"\n            }), a = [], i = \"firstavalue\";\n          }\n        },\n        \"]\": {\n          firstavalue: function () {\n            var t = s.pop();\n            c = a, a = t.container, u = t.key, i = t.state;\n          },\n          acomma: function () {\n            var t = s.pop();\n            a.push(c), c = a, a = t.container, u = t.key, i = t.state;\n          }\n        },\n        \":\": {\n          colon: function () {\n            if (Object.hasOwnProperty.call(a, u)) throw new SyntaxError(\"Duplicate key '\" + u + '\"');\n            i = \"ovalue\";\n          }\n        },\n        \",\": {\n          ocomma: function () {\n            a[u] = c, i = \"okey\";\n          },\n          acomma: function () {\n            a.push(c), i = \"avalue\";\n          }\n        },\n        true: {\n          go: function () {\n            c = !0, i = \"ok\";\n          },\n          ovalue: function () {\n            c = !0, i = \"ocomma\";\n          },\n          firstavalue: function () {\n            c = !0, i = \"acomma\";\n          },\n          avalue: function () {\n            c = !0, i = \"acomma\";\n          }\n        },\n        false: {\n          go: function () {\n            c = !1, i = \"ok\";\n          },\n          ovalue: function () {\n            c = !1, i = \"ocomma\";\n          },\n          firstavalue: function () {\n            c = !1, i = \"acomma\";\n          },\n          avalue: function () {\n            c = !1, i = \"acomma\";\n          }\n        },\n        null: {\n          go: function () {\n            c = null, i = \"ok\";\n          },\n          ovalue: function () {\n            c = null, i = \"ocomma\";\n          },\n          firstavalue: function () {\n            c = null, i = \"acomma\";\n          },\n          avalue: function () {\n            c = null, i = \"acomma\";\n          }\n        }\n      }, function (t, e) {\n        var r,\n            n,\n            o = /^[\\u0020\\t\\n\\r]*(?:([,:\\[\\]{}]|true|false|null)|(-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)|\"((?:[^\\r\\n\\t\\\\\\\"]|\\\\(?:[\"\\\\\\/trnfb]|u[0-9a-fA-F]{4}))*)\")/;\n        i = \"go\", s = [];\n\n        try {\n          for (; r = o.exec(t);) r[1] ? h[r[1]][i]() : r[2] ? (c = +r[2], f[i]()) : (n = r[3], c = n.replace(/\\\\(?:u(.{4})|([^u]))/g, function (t, e, r) {\n            return e ? String.fromCharCode(parseInt(e, 16)) : l[r];\n          }), p[i]()), t = t.slice(r[0].length);\n        } catch (t) {\n          i = t;\n        }\n\n        if (\"ok\" !== i || /[^\\u0020\\t\\n\\r]/.test(t)) throw i instanceof SyntaxError ? i : new SyntaxError(\"JSON\");\n        return \"function\" == typeof e ? function t(r, n) {\n          var o,\n              i,\n              s = r[n];\n          if (s && \"object\" == typeof s) for (o in c) Object.prototype.hasOwnProperty.call(s, o) && (void 0 !== (i = t(s, o)) ? s[o] = i : delete s[o]);\n          return e.call(r, n, s);\n        }({\n          \"\": c\n        }, \"\") : c;\n      }));\n    };\n  }, function (t, e, r) {\n    \"use strict\";\n\n    function n(t, e, r) {\n      if (e.hasOwnProperty && e.hasOwnProperty(\"addEventListener\")) {\n        for (var n = e.addEventListener; n._rollbarOldAdd && n.belongsToShim;) n = n._rollbarOldAdd;\n\n        var o = function (e, r, o) {\n          n.call(this, e, t.wrap(r), o);\n        };\n\n        o._rollbarOldAdd = n, o.belongsToShim = r, e.addEventListener = o;\n\n        for (var i = e.removeEventListener; i._rollbarOldRemove && i.belongsToShim;) i = i._rollbarOldRemove;\n\n        var s = function (t, e, r) {\n          i.call(this, t, e && e._rollbar_wrapped || e, r);\n        };\n\n        s._rollbarOldRemove = i, s.belongsToShim = r, e.removeEventListener = s;\n      }\n    }\n\n    t.exports = function (t, e, r) {\n      if (t) {\n        var o,\n            i,\n            s = \"EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload\".split(\",\");\n\n        for (o = 0; o < s.length; ++o) t[i = s[o]] && t[i].prototype && n(e, t[i].prototype, r);\n      }\n    };\n  }, function (t, e, r) {\n    \"use strict\";\n\n    var n = r(0),\n        o = r(5);\n\n    function i(t, e) {\n      return [t, n.stringify(t, e)];\n    }\n\n    function s(t, e) {\n      var r = t.length;\n      return r > 2 * e ? t.slice(0, e).concat(t.slice(r - e)) : t;\n    }\n\n    function a(t, e, r) {\n      r = void 0 === r ? 30 : r;\n      var o,\n          i = t.data.body;\n      if (i.trace_chain) for (var a = i.trace_chain, u = 0; u < a.length; u++) o = s(o = a[u].frames, r), a[u].frames = o;else i.trace && (o = s(o = i.trace.frames, r), i.trace.frames = o);\n      return [t, n.stringify(t, e)];\n    }\n\n    function u(t, e) {\n      return e && e.length > t ? e.slice(0, t - 3).concat(\"...\") : e;\n    }\n\n    function c(t, e, r) {\n      return [e = o(e, function e(r, i, s) {\n        switch (n.typeName(i)) {\n          case \"string\":\n            return u(t, i);\n\n          case \"object\":\n          case \"array\":\n            return o(i, e, s);\n\n          default:\n            return i;\n        }\n      }), n.stringify(e, r)];\n    }\n\n    function l(t) {\n      return t.exception && (delete t.exception.description, t.exception.message = u(255, t.exception.message)), t.frames = s(t.frames, 1), t;\n    }\n\n    function p(t, e) {\n      var r = t.data.body;\n      if (r.trace_chain) for (var o = r.trace_chain, i = 0; i < o.length; i++) o[i] = l(o[i]);else r.trace && (r.trace = l(r.trace));\n      return [t, n.stringify(t, e)];\n    }\n\n    function f(t, e) {\n      return n.maxByteSize(t) > e;\n    }\n\n    t.exports = {\n      truncate: function (t, e, r) {\n        r = void 0 === r ? 524288 : r;\n\n        for (var n, o, s, u = [i, a, c.bind(null, 1024), c.bind(null, 512), c.bind(null, 256), p]; n = u.shift();) if (t = (o = n(t, e))[0], (s = o[1]).error || !f(s.value, r)) return s;\n\n        return s;\n      },\n      raw: i,\n      truncateFrames: a,\n      truncateStrings: c,\n      maybeTruncateValue: u\n    };\n  }]);\n});","map":{"version":3,"sources":["webpack://rollbar/webpack/universalModuleDefinition","webpack://rollbar/webpack/bootstrap","webpack://rollbar/src/utility.js","webpack://rollbar/src/browser/logger.js","webpack://rollbar/src/browser/url.js","webpack://rollbar/src/errorParser.js","webpack://rollbar/src/scrub.js","webpack://rollbar/src/utility/traverse.js","webpack://rollbar/src/browser/bundles/rollbar.js","webpack://rollbar/src/browser/rollbar.js","webpack://rollbar/src/browser/core.js","webpack://rollbar/src/rollbar.js","webpack://rollbar/src/rateLimiter.js","webpack://rollbar/src/merge.js","webpack://rollbar/src/queue.js","webpack://rollbar/src/notifier.js","webpack://rollbar/src/api.js","webpack://rollbar/src/apiUtility.js","webpack://rollbar/node_modules/console-polyfill/index.js","webpack://rollbar/src/browser/detection.js","webpack://rollbar/src/browser/globalSetup.js","webpack://rollbar/src/browser/transport.js","webpack://rollbar/src/browser/transforms.js","webpack://rollbar/node_modules/error-stack-parser/error-stack-parser.js","webpack://rollbar/node_modules/error-stack-parser/node_modules/stackframe/stackframe.js","webpack://rollbar/src/transforms.js","webpack://rollbar/src/browser/predicates.js","webpack://rollbar/src/predicates.js","webpack://rollbar/src/defaults.js","webpack://rollbar/src/browser/defaults/scrubFields.js","webpack://rollbar/src/telemetry.js","webpack://rollbar/src/browser/telemetry.js","webpack://rollbar/src/browser/domUtility.js","webpack://rollbar/src/utility/polyfillJSON.js","webpack://rollbar/vendor/JSON-js/json3.js","webpack://rollbar/src/browser/wrapGlobals.js","webpack://rollbar/src/truncation.js"],"names":["root","factory","exports","module","define","amd","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","merge","RollbarJSON","polyfillJSON","isFunction","stringify","parse","JSON","isNativeFunction","isType","x","typeName","Error","toString","match","toLowerCase","f","funcMatchString","Function","replace","reIsNative","RegExp","isObject","test","type","String","e","uuid4","now","Math","random","floor","debug","info","warning","error","critical","url","baseUrlParts","parseUri","anchor","source","query","parseUriOptions","strictMode","q","parser","strict","loose","str","exec","uri","length","$0","$1","$2","accessToken","options","params","access_token","paramsArray","k","push","join","sort","path","qs","indexOf","h","substring","u","protocol","port","hostname","result","obj","backup","jsonError","backupError","string","count","code","charCodeAt","message","lineno","colno","backupMessage","errorParser","location","line","column","func","guessFunctionName","context","gatherContext","href","document","useragent","window","navigator","userAgent","wrapCallback","logger","err","resp","args","notifier","requestKeys","lambdaContext","custom","callback","request","arg","extraArgs","argTypes","typ","DOMException","j","len","undefined","item","timestamp","diagnostic","uuid","setCustomItemKeys","_originalArgs","original_arg_types","level","skipFrames","errors","data","contextAdded","rollbarContext","error_context","TELEMETRY_TYPES","TELEMETRY_LEVELS","arrayIncludes","arr","val","metadata","keys","split","temp","replacement","substr","Date","requestData","captureIp","newIp","parts","pop","beginning","slice","slashIdx","concat","current","input","payload","updateDeprecatedOptions","overwriteScrubFields","scrubFields","hostWhiteList","hostSafeList","log","hostBlackList","hostBlockList","addParamsAndAccessTokenToPath","createItem","addErrorContext","createTelemetryEvent","filterIp","formatArgsAsString","formatUrl","handleOptions","isError","isIterable","isString","jsonParse","LEVELS","makeUnhandledStackInfo","redact","sanitizeUrl","set","setupJSON","maxByteSize","detection","_","Array","arguments","unshift","ieVersion","console","apply","auth","host","hash","pathname","search","last","parseInt","pathParts","ErrorStackParser","ERR_CLASS_REGEXP","Frame","stackFrame","_stackFrame","fileName","lineNumber","functionName","columnNumber","Stack","exception","skip","parserStack","stack","getStack","_mostSpecificErrorName","rawStack","rawException","nested","traceChain","errMsg","errClassMatch","errClass","constructorName","constructor","guessErrorClass","traverse","scrubPaths","scrubPath","paramRes","_getScrubFieldRegexs","queryRes","_getScrubQueryParamRegexs","redactQueryParam","dummy0","paramPart","v","scrubber","seen","tmpV","valScrubber","paramScrubber","ret","pat","isObj","isArray","seenIndex","mapped","same","rollbar","_rollbarConfig","alias","globalAlias","shimRunning","shimId","_rollbarStartTime","getTime","Rollbar","_rollbarDidLoad","self","telemeter","instrumenter","wrapGlobals","scrub","truncation","setComponents","Client","API","globals","Transport","urllib","transforms","sharedTransforms","predicates","sharedPredicates","client","defaultOptions","_configuredOptions","Telemeter","components","Instrumenter","transport","api","gWindow","_gWindow","gDocument","isChrome","chrome","runtime","anonymousErrorsPending","addTransformsToNotifier","queue","setupUnhandledCapture","instrument","_instance","init","global","configure","handleUninitialized","maybeCallback","payloadData","oldOptions","lastError","_createItem","_getFirstFunction","warn","buildJsonPayload","sendJsonPayload","jsonPayload","unhandledExceptionsInitialized","captureUncaught","handleUncaughtExceptions","captureUncaughtExceptions","wrapGlobalEventHandlers","unhandledRejectionsInitialized","captureUnhandledRejections","handleUnhandledRejections","handleUncaughtException","inspectAnonymousErrors","stackInfo","_unhandledStackInfo","uncaughtErrorLevel","_isUncaught","handleAnonymousErrors","_stack","_isAnonymous","prepareStackTrace","handleUnhandledRejection","reason","promise","reasonResult","_rollbarContext","wrap","_before","ctxFn","_isWrap","_rollbar_wrapped","exc","_rollbarWrappedError","_wrappedSource","prop","captureEvent","event","captureDomContentLoaded","ts","captureLoad","addTransform","handleDomException","handleItemWithError","ensureItemHasSomethingToSay","addBaseInfo","addRequestInfo","addClientInfo","addPluginInfo","addBody","addMessageWithError","addTelemetryData","addConfigToPayload","addScrubber","userTransform","addConfiguredOptions","addDiagnosticKeys","itemToPayload","addPredicate","checkLevel","checkIgnore","userCheckIgnore","urlIsNotBlockListed","urlIsSafeListed","messageIsIgnored","loadFull","defaults","version","logLevel","reportLevel","endpoint","verbose","enabled","transmit","sendConfig","includeItemsInTelemetry","ignoreDuplicateErrors","RateLimiter","Queue","Notifier","platform","rateLimiter","configureGlobal","setPlatformOptions","tracer","validateTracer","setStackTraceLimit","lastErrorHash","maxItems","itemsPerMinute","_defaultLogLevel","_log","wait","postJsonPayload","defaultLevel","_sameAsLastError","_addTracingInfo","_captureRollbarItem","telemetryEvents","copyEvents","itemHash","generateItemHash","span","scope","active","validateSpan","setTag","opentracingSpanId","toSpanId","opentracingTraceId","toTraceId","opentracing_span_id","opentracing_trace_id","stackTraceLimit","spanContext","startTime","counter","perMinCounter","platformOptions","globalSettings","shouldSend","elapsedTime","globalRateLimit","globalRateLimitPerMin","checkRate","shouldSendValue","perMinute","limit","ignoreRateLimit","limitPerMin","rateLimitPayload","environment","msg","body","extra","language","framework","hasOwn","toStr","isPlainObject","hasOwnConstructor","hasIsPrototypeOf","src","copy","clone","pendingItems","pendingRequests","retryQueue","retryHandle","waitCallback","waitIntervalID","predicate","addPendingItem","removePendingItem","idx","splice","addItem","originalError","originalItem","predicateResult","_applyPredicates","stop","_maybeLog","_makeApiRequest","_dequeuePendingRequest","_maybeCallWait","clearInterval","setInterval","rateLimitResponse","postItem","_maybeRetry","RETRIABLE_ERRORS","shouldRetry","retryInterval","_retryApiRequest","retryObject","shift","transform","_applyTransforms","transformIndex","transformsLength","cb","helpers","Api","jsonBackup","transportOptions","_getTransport","buildPayload","post","stringifyResult","truncate","getTransportFromOptions","contextResult","proxy","opts","method","base","baseTrailingSlash","pathBeginningSlash","appendPathToPath","con","dummy","properties","methods","undef","div","createElement","all","getElementsByTagName","innerHTML","Detection","handler","shim","oldOnError","_rollbarOldOnError","onerror","fn","_rollbarWindowOnError","old","_rollbarURH","belongsToShim","removeEventListener","rejectionHandler","evt","detail","addEventListener","requestFactory","_makeZoneRequest","writeData","currentZone","Zone","_name","_parent","run","_makeRequest","json","RollbarProxy","_msg","_proxyRequest","_createXMLHTTPObject","onreadystatechange","readyState","parseResponse","responseText","_isNormalFailure","status","_newRetriableError","ex","open","setRequestHeader","send","e1","XDomainRequest","xdomainrequest","onprogress","ontimeout","onload","e2","factories","XMLHttpRequest","ActiveXObject","xmlhttp","numFactories","_savedStackTrace","description","chain","server","remoteString","query_string","user_ip","nav","scr","screen","runtime_ms","round","javascript","browser","cookie_enabled","cookieEnabled","width","height","plugins","navPlugins","cur","addBodyTraceChain","addBodyTrace","addBodyMessage","stackFromItem","traces","traceChainLength","trace","buildTrace","trace_chain","guess","className","errorClass","raw","frame","pre","contextLength","mid","frames","filename","sendFrameUrl","endsWith","reverse","scrubFn","StackFrame","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","stacktrace","parseOpera","parseV8OrIE","parseFFOrSafari","extractLocation","urlLike","filter","map","sanitizedLine","tokens","locationParts","functionNameRegex","matches","parseOpera9","parseOpera10","parseOpera11","lineRE","lines","functionCall","argsRaw","isNaN","parseFloat","isFinite","_capitalize","charAt","toUpperCase","_getter","booleanProps","numericProps","stringProps","props","getArgs","setArgs","TypeError","getEvalOrigin","evalOrigin","setEvalOrigin","getFileName","getLineNumber","getColumnNumber","getFunctionName","getIsEval","fromString","argsStartIndex","argsEndIndex","lastIndexOf","locationString","Boolean","Number","payloadOptions","tracePath","newExtra","newItem","addFunctionOption","configuredOptions","configured_options","is_anonymous","is_uncaught","raw_error","constructor_name","failed","settings","levelVal","isUncaught","onSendCallback","urlIsOnAList","matchFrames","list","block","listLength","frameLength","safeOrBlock","tracesLength","listName","exceptionMessage","ignoredMessages","traceMessage","bodyMessage","itemsPerMin","maxTelemetryEvents","maxQueueSize","max","min","newMaxEvents","deleteCount","events","filterTelemetry","capture","rollbarUUID","getLevel","timestamp_ms","captureError","captureLog","captureNetwork","subtype","levelFromStatus","status_code","statusCode","captureDom","element","checked","captureNavigation","from","to","captureConnectivityChange","change","manual","urlparser","domUtil","network","networkResponseHeaders","networkResponseBody","networkRequestHeaders","networkRequestBody","networkErrorOnHttp5xx","networkErrorOnHttp4xx","networkErrorOnHttp0","dom","navigation","connectivity","contentSecurityPolicy","errorOnContentSecurityPolicy","replacements","orig","restore","b","attributes","attrs","a","patterns","nameFromDescription","_window","_document","autoInstrument","scrubTelemetryInputs","telemetryScrubber","defaultValueScrubber","eventRemovers","contentsecuritypolicy","_location","_lastHref","oldSettings","instrumentNetwork","deinstrumentNetwork","instrumentConsole","deinstrumentConsole","instrumentDom","deinstrumentDom","instrumentNavigation","deinstrumentNavigation","instrumentConnectivity","deinstrumentConnectivity","instrumentContentSecurityPolicy","deinstrumentContentSecurityPolicy","wrapProp","xhr","xhrp","__rollbar_xhr","start_time_ms","end_time_ms","header","request_headers","request_content_type","onreadystatechangeHandler","__rollbar_event","headers","response_content_type","getResponseHeader","headersConfig","allHeaders","getAllResponseHeaders","trim","response","isJsonContentType","scrubJson","errorOnHttpStatus","trackHttpErrors","reqHeaders","Headers","fetchHeaders","then","text","contentType","includes","inHeaders","outHeaders","entries","currentHeader","next","done","wrapConsole","origConsole","removeListeners","clickHandler","handleClick","blurHandler","handleBlur","addListener","getElementFromEvent","hasTag","tagName","anchorOrButton","isDescribedElement","captureDomEvent","handleSelectInputChanged","elem","multiple","selected","selectedIndex","isChecked","getElementType","describeElement","elementString","elementArrayToString","treeToArray","app","history","pushState","handleUrlChange","parsedHref","parsedTo","parsedFrom","handleCspEvent","cspEvent","blockedURI","violatedDirective","effectiveDirective","sourceFile","originalPolicy","handleCspError","cspHandler","section","altType","attachEvent","detachEvent","getAttribute","subtypes","doc","target","elementFromPoint","clientX","clientY","out","nextDescription","parentNode","separatorLength","nextStr","totalLength","descriptionToString","MAX_LENGTH","desc","id","classes","attr","rx_escapable","this_value","valueOf","toJSON","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","gap","indent","meta","rep","quote","lastIndex","holder","mind","partial","\"","replacer","space","state","container","escapes","go","firstokey","okey","ovalue","firstavalue","avalue","number","action","ocomma","acomma","colon","SyntaxError","ignore","fromCharCode","reviver","tx","walk","_extendListenerPrototype","oldAddEventListener","_rollbarOldAdd","addFn","bubble","oldRemoveEventListener","_rollbarOldRemove","removeFn","selectFrames","range","truncateFrames","maybeTruncateValue","truncateStrings","truncator","truncateTraceData","traceData","minBody","needsTruncation","maxSize","strategies","strategy","results"],"mappings":"CAAA,UAA2CA,CAA3C,EAAiDC,CAAjD,EAAiDA;AAC1B,cAAA,OAAZC,OAAY,IAA8B,YAAA,OAAXC,MAAnB,GACrBA,MAAAA,CAAOD,OAAPC,GAAiBF,CAAAA,EADI,GAEI,cAAA,OAAXG,MAAW,IAAcA,MAAAA,CAAOC,GAArB,GACzBD,MAAAA,CAAO,EAAPA,EAAWH,CAAXG,CADyB,GAEC,YAAA,OAAZF,OAAY,GAC1BA,OAAAA,CAAiB,OAAjBA,GAAqBD,CAAAA,EADK,GAG1BD,CAAAA,CAAc,OAAdA,GAAkBC,CAAAA,EAPG;AADvB,CAAA,CASGK,IATH,EASS,YAAA;AACT,S;ACTE,QAAIC,CAAAA,GAAmB,EAAvB;;AAGA,aAASC,CAAT,CAA6BC,CAA7B,EAA6BA;AAG5B,UAAGF,CAAAA,CAAiBE,CAAjBF,CAAH,EACC,OAAOA,CAAAA,CAAiBE,CAAjBF,CAAAA,CAA2BL,OAAlC;AAGD,UAAIC,CAAAA,GAASI,CAAAA,CAAiBE,CAAjBF,CAAAA,GAA6B;AACzCG,QAAAA,CAAAA,EAAGD,CADsC;AAEzCE,QAAAA,CAAAA,EAAAA,CAAG,CAFsC;AAGzCT,QAAAA,OAAAA,EAAS;AAHgC,OAA1C;AAaA,aANAU,CAAAA,CAAQH,CAARG,CAAAA,CAAkBC,IAAlBD,CAAuBT,CAAAA,CAAOD,OAA9BU,EAAuCT,CAAvCS,EAA+CT,CAAAA,CAAOD,OAAtDU,EAA+DJ,CAA/DI,GAGAT,CAAAA,CAAOQ,CAAPR,GAAOQ,CAAI,CAHXC,EAMOT,CAAAA,CAAOD,OAAd;AA0DD;;AAAA,WArDAM,CAAAA,CAAoBM,CAApBN,GAAwBI,CAAxBJ,EAGAA,CAAAA,CAAoBO,CAApBP,GAAwBD,CAHxBC,EAMAA,CAAAA,CAAoBQ,CAApBR,GAAwB,UAASN,CAAT,EAAkBe,CAAlB,EAAwBC,CAAxB,EAAwBA;AAC3CV,MAAAA,CAAAA,CAAoBW,CAApBX,CAAsBN,CAAtBM,EAA+BS,CAA/BT,KACHY,MAAAA,CAAOC,cAAPD,CAAsBlB,CAAtBkB,EAA+BH,CAA/BG,EAAqC;AAAEE,QAAAA,UAAAA,EAAAA,CAAY,CAAd;AAAoBC,QAAAA,GAAAA,EAAKL;AAAzB,OAArCE,CADGZ;AAC2DU,KARhEV,EAaAA,CAAAA,CAAoBgB,CAApBhB,GAAwB,UAASN,CAAT,EAASA;AACX,qBAAA,OAAXuB,MAAW,IAAeA,MAAAA,CAAOC,WAAtB,IACpBN,MAAAA,CAAOC,cAAPD,CAAsBlB,CAAtBkB,EAA+BK,MAAAA,CAAOC,WAAtCN,EAAmD;AAAEO,QAAAA,KAAAA,EAAO;AAAT,OAAnDP,CADoB,EAGrBA,MAAAA,CAAOC,cAAPD,CAAsBlB,CAAtBkB,EAA+B,YAA/BA,EAA6C;AAAEO,QAAAA,KAAAA,EAAAA,CAAO;AAAT,OAA7CP,CAHqB;AAGiC,KAjBvDZ,EAyBAA,CAAAA,CAAoBoB,CAApBpB,GAAwB,UAASmB,CAAT,EAAgBE,CAAhB,EAAgBA;AAEvC,UADU,IAAPA,CAAO,KAAGF,CAAAA,GAAQnB,CAAAA,CAAoBmB,CAApBnB,CAAX,GACA,IAAPqB,CAAH,EAAa,OAAOF,CAAP;AACb,UAAW,IAAPE,CAAO,IAAuB,YAAA,OAAVF,CAAb,IAAmCA,CAAnC,IAA4CA,CAAAA,CAAMG,UAA7D,EAAyE,OAAOH,CAAP;AACzE,UAAII,CAAAA,GAAKX,MAAAA,CAAOY,MAAPZ,CAAc,IAAdA,CAAT;AAGA,UAFAZ,CAAAA,CAAoBgB,CAApBhB,CAAsBuB,CAAtBvB,GACAY,MAAAA,CAAOC,cAAPD,CAAsBW,CAAtBX,EAA0B,SAA1BA,EAAqC;AAAEE,QAAAA,UAAAA,EAAAA,CAAY,CAAd;AAAoBK,QAAAA,KAAAA,EAAOA;AAA3B,OAArCP,CADAZ,EAEU,IAAPqB,CAAO,IAAqB,YAAA,OAATF,CAAtB,EAAyC,KAAI,IAAIM,CAAR,IAAeN,CAAf,EAAsBnB,CAAAA,CAAoBQ,CAApBR,CAAsBuB,CAAtBvB,EAA0ByB,CAA1BzB,EAA+B,UAASyB,CAAT,EAASA;AAAO,eAAON,CAAAA,CAAMM,CAANN,CAAP;AAAaM,OAA7B,CAAqCC,IAArC,CAA0C,IAA1C,EAAgDD,CAAhD,CAA/BzB;AAC/D,aAAOuB,CAAP;AAAOA,KAjCRvB,EAqCAA,CAAAA,CAAoB2B,CAApB3B,GAAwB,UAASL,CAAT,EAASA;AAChC,UAAIe,CAAAA,GAASf,CAAAA,IAAUA,CAAAA,CAAO2B,UAAjB3B,GACZ,YAAA;AAAwB,eAAOA,CAAAA,CAAgB,OAAvB;AAAuB,OADnCA,GAEZ,YAAA;AAA8B,eAAOA,CAAP;AAAOA,OAFtC;AAIA,aADAK,CAAAA,CAAoBQ,CAApBR,CAAsBU,CAAtBV,EAA8B,GAA9BA,EAAmCU,CAAnCV,GACOU,CAAP;AAAOA,KA1CRV,EA8CAA,CAAAA,CAAoBW,CAApBX,GAAwB,UAAS4B,CAAT,EAAiBC,CAAjB,EAAiBA;AAAY,aAAOjB,MAAAA,CAAOkB,SAAPlB,CAAiBmB,cAAjBnB,CAAgCP,IAAhCO,CAAqCgB,CAArChB,EAA6CiB,CAA7CjB,CAAP;AAAoDiB,KA9CzG7B,EAiDAA,CAAAA,CAAoBgC,CAApBhC,GAAwB,EAjDxBA,EAqDOA,CAAAA,CAAoBA,CAAAA,CAAoBiC,CAApBjC,GAAwB,CAA5CA,CAAP;;;;AChFF,QAAIkC,CAAAA,GAAQ,CAAA,CAAQ,EAAR,CAAZ;AAAA,QAEIC,CAAAA,GAAc,EAFlB;;AAiDA,aAASO,CAAT,CAAgBC,CAAhB,EAAmBvB,CAAnB,EAAmBA;AACjB,aAAOA,CAAAA,KAAMwB,CAAAA,CAASD,CAATC,CAAb;AAMF;;AAAA,aAASA,CAAT,CAAkBD,CAAlB,EAAkBA;AAChB,UAAIlC,CAAAA,GAAAA,OAAckC,CAAlB;AACA,aAAa,aAATlC,CAAS,GACJA,CADI,GAGRkC,CAAAA,GAGDA,CAAAA,YAAaE,KAAbF,GACK,OADLA,GAGG,GAAKG,QAAL,CAAczC,IAAd,CAAmBsC,CAAnB,EAAsBI,KAAtB,CAA4B,eAA5B,EAA6C,CAA7C,EAAgDC,WAAhD,EANFL,GACI,MAJT;AAiBF;;AAAA,aAASN,CAAT,CAAoBY,CAApB,EAAoBA;AAClB,aAAOP,CAAAA,CAAOO,CAAPP,EAAU,UAAVA,CAAP;AAQF;;AAAA,aAASD,CAAT,CAA0BQ,CAA1B,EAA0BA;AACxB,UACIC,CAAAA,GAAkBC,QAAAA,CAASrB,SAATqB,CAAmBL,QAAnBK,CAA4B9C,IAA5B8C,CAAiCvC,MAAAA,CAAOkB,SAAPlB,CAAiBmB,cAAlDoB,EACnBC,OADmBD,CADH,qBACGA,EACG,MADHA,EAEnBC,OAFmBD,CAEX,wDAFWA,EAE+C,OAF/CA,CADtB;AAAA,UAIIE,CAAAA,GAAaC,MAAAA,CAAO,MAAMJ,CAAN,GAAwB,GAA/BI,CAJjB;AAKA,aAAOC,CAAAA,CAASN,CAATM,CAAAA,IAAeF,CAAAA,CAAWG,IAAXH,CAAgBJ,CAAhBI,CAAtB;AAQF;;AAAA,aAASE,CAAT,CAAkBpC,CAAlB,EAAkBA;AAChB,UAAIsC,CAAAA,GAAAA,OAActC,CAAlB;AACA,aAAgB,QAATA,CAAS,KAAiB,YAARsC,CAAQ,IAAoB,cAARA,CAA7B,CAAhB;AAkDF;;AAAA,aAASG,CAAT,GAASA;AACP,UAAIpD,CAAAA,GAAIqD,CAAAA,EAAR;AAMA,aALW,uCAAuCT,OAAvC,CAA+C,OAA/C,EAAwD,UAAS7C,CAAT,EAASA;AAC1E,YAAIS,CAAAA,GAAAA,CAAKR,CAAAA,GAAoB,KAAhBsD,IAAAA,CAAKC,MAALD,EAAT9C,IAA+B,EAA/BA,GAAoC,CAAxC;AAEA,eADAR,CAAAA,GAAIsD,IAAAA,CAAKE,KAALF,CAAWtD,CAAAA,GAAI,EAAfsD,CAAJtD,EAAmB,CACL,QAAND,CAAM,GAAMS,CAAN,GAAe,IAAJA,CAAI,GAAM,CADhB,EACsB8B,QADtB,CAC+B,EAD/B,CACnB;AAAkD,OAHzC,CAKX;AA0BF;;AAAA,QAAI8B,CAAAA,GAAkB;AACpBC,MAAAA,UAAAA,EAAAA,CAAY,CADQ;AAEpBpD,MAAAA,GAAAA,EAAK,CACH,QADG,EAEH,UAFG,EAGH,WAHG,EAIH,UAJG,EAKH,MALG,EAMH,UANG,EAOH,MAPG,EAQH,MARG,EASH,UATG,EAUH,MAVG,EAWH,WAXG,EAYH,MAZG,EAaH,OAbG,EAcH,QAdG,CAFe;AAkBpBqD,MAAAA,CAAAA,EAAG;AACDrE,QAAAA,IAAAA,EAAM,UADL;AAEDsE,QAAAA,MAAAA,EAAQ;AAFP,OAlBiB;AAsBpBA,MAAAA,MAAAA,EAAQ;AACNC,QAAAA,MAAAA,EAAQ,yIADF;AAENC,QAAAA,KAAAA,EAAO;AAFD;AAtBY,KAAtB;;AAyGA,aAAS3C,CAAT,CAAmBsE,CAAnB,EAAwBC,CAAxB,EAAwBA;AACtB,UAAI1F,CAAJ,EAAWiD,CAAX;;AACA,UAAA;AACEjD,QAAAA,CAAAA,GAAQgB,CAAAA,CAAYG,SAAZH,CAAsByE,CAAtBzE,CAARhB;AACA,OAFF,CAEE,OAAO2F,CAAP,EAAOA;AACP,YAAID,CAAAA,IAAUxE,CAAAA,CAAWwE,CAAXxE,CAAd,EACE,IAAA;AACElB,UAAAA,CAAAA,GAAQ0F,CAAAA,CAAOD,CAAPC,CAAR1F;AACA,SAFF,CAEE,OAAO4F,CAAP,EAAOA;AACP3C,UAAAA,CAAAA,GAAQ2C,CAAR3C;AAAQ2C,SAJZ,MAOE3C,CAAAA,GAAQ0C,CAAR1C;AAGJ;;AAAA,aAAO;AAACA,QAAAA,KAAAA,EAAOA,CAAR;AAAejD,QAAAA,KAAAA,EAAOA;AAAtB,OAAP;AAoEF;;AAAA,aAASmH,CAAT,CAAsBC,CAAtB,EAA8BtF,CAA9B,EAA8BA;AAC5B,aAAO,UAASuF,CAAT,EAAcC,CAAd,EAAcA;AACnB,YAAA;AACExF,UAAAA,CAAAA,CAAEuF,CAAFvF,EAAOwF,CAAPxF,CAAAA;AACA,SAFF,CAEE,OAAOU,CAAP,EAAOA;AACP4E,UAAAA,CAAAA,CAAOnE,KAAPmE,CAAa5E,CAAb4E;AAAa5E;AAAAA,OAJjB;AAgIF;;AAAA,QAAI4G,CAAAA,GAAkB,CAAC,KAAD,EAAQ,SAAR,EAAmB,KAAnB,EAA0B,YAA1B,EAAwC,OAAxC,EAAiD,QAAjD,CAAtB;AAAA,QACIC,CAAAA,GAAmB,CAAC,UAAD,EAAa,OAAb,EAAsB,SAAtB,EAAiC,MAAjC,EAAyC,OAAzC,CADvB;;AAGA,aAASC,CAAT,CAAuBC,CAAvB,EAA4BC,CAA5B,EAA4BA;AAC1B,WAAK,IAAI7E,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAI4E,CAAAA,CAAIrF,MAAxB,EAAwBA,EAAUS,CAAlC,EACE,IAAI4E,CAAAA,CAAI5E,CAAJ4E,CAAAA,KAAWC,CAAf,EACE,OAAA,CAAO,CAAP;;AAIJ,aAAA,CAAO,CAAP;AAkHF;;AAAA,aAAS9G,CAAT,GAASA;AACP,aAAIqH,IAAAA,CAAKrH,GAALqH,GAAKrH,CACCqH,IAAAA,CAAKrH,GAALqH,EADNA,GACWrH,CAEP,IAAIqH,IAAJ,EAHR;AAoEFvL;;AAAAA,IAAAA,CAAAA,CAAOD,OAAPC,GAAiB;AACf4M,MAAAA,6BAAAA,EA5cF,UAAuC9G,CAAvC,EAAoDC,CAApD,EAA6DC,CAA7D,EAA6DA;AAAAA,SAC3DA,CAAAA,GAASA,CAAAA,IAAU,EADwCA,EAEpDC,YAFoDD,GAErCF,CAFqCE;AAG3D,YACIG,CADJ;AAAA,YAAID,CAAAA,GAAc,EAAlB;;AAEA,aAAKC,CAAL,IAAUH,CAAV,EACM/E,MAAAA,CAAOkB,SAAPlB,CAAiBmB,cAAjBnB,CAAgCP,IAAhCO,CAAqC+E,CAArC/E,EAA6CkF,CAA7ClF,KACFiF,CAAAA,CAAYE,IAAZF,CAAiB,CAACC,CAAD,EAAIH,CAAAA,CAAOG,CAAPH,CAAJ,EAAeK,IAAf,CAAoB,GAApB,CAAjBH,CADEjF;;AAIN,YAAI+D,CAAAA,GAAQ,MAAMkB,CAAAA,CAAYI,IAAZJ,GAAmBG,IAAnBH,CAAwB,GAAxBA,CAAlB;AAA0C,SAE1CH,CAAAA,GAAUA,CAAAA,IAAW,EAFqB,EAGlCQ,IAHkC,GAG3BR,CAAAA,CAAQQ,IAARR,IAAgB,EAHW;AAI1C,YAEI1D,CAFJ;AAAA,YAAImE,CAAAA,GAAKT,CAAAA,CAAQQ,IAARR,CAAaU,OAAbV,CAAqB,GAArBA,CAAT;AAAA,YACIW,CAAAA,GAAIX,CAAAA,CAAQQ,IAARR,CAAaU,OAAbV,CAAqB,GAArBA,CADR;AAC6B,SAEjB,CAFiB,KAEzBS,CAFyB,KAEzBA,CAAqB,CAArBA,KAAcE,CAAdF,IAA0BE,CAAAA,GAAIF,CAFL,KAG3BnE,CAAAA,GAAI0D,CAAAA,CAAQQ,IAAZlE,EACA0D,CAAAA,CAAQQ,IAARR,GAAe1D,CAAAA,CAAEsE,SAAFtE,CAAY,CAAZA,EAAcmE,CAAdnE,IAAoB2C,CAApB3C,GAA4B,GAA5BA,GAAkCA,CAAAA,CAAEsE,SAAFtE,CAAYmE,CAAAA,GAAG,CAAfnE,CAJtB,IAIqC,CAErD,CAFqD,KAE5DqE,CAF4D,IAG9DrE,CAAAA,GAAI0D,CAAAA,CAAQQ,IAAZlE,EACA0D,CAAAA,CAAQQ,IAARR,GAAe1D,CAAAA,CAAEsE,SAAFtE,CAAY,CAAZA,EAAcqE,CAAdrE,IAAmB2C,CAAnB3C,GAA2BA,CAAAA,CAAEsE,SAAFtE,CAAYqE,CAAZrE,CAJoB,IAM9D0D,CAAAA,CAAQQ,IAARR,GAAeA,CAAAA,CAAQQ,IAARR,GAAef,CAVL;AAUKA,OAkbnB;AAEf6H,MAAAA,UAAAA,EA1TF,UAAoB9D,CAApB,EAA0BH,CAA1B,EAAkCI,CAAlC,EAA4CC,CAA5C,EAAyDC,CAAzD,EAAyDA;AAOvD,aANA,IAAIzB,CAAJ,EAAaoB,CAAb,EAAkBM,CAAlB,EAA0BC,CAA1B,EAAoCC,CAApC,EACIC,CADJ,EAEIC,CAAAA,GAAY,EAFhB,EAIIC,CAAAA,GAAW,EAJf,EAMSjJ,CAAAA,GAAI,CANb,EAMgBC,CAAAA,GAAIuI,CAAAA,CAAKrD,MAAzB,EAAiCnF,CAAAA,GAAIC,CAArC,EAAqCA,EAAKD,CAA1C,EAA6C;AAG3C,cAAIkJ,CAAAA,GAAMxG,CAAAA,CAFVqG,CAAAA,GAAMP,CAAAA,CAAKxI,CAALwI,CAEI9F,CAAV;;AAEA,kBADAuG,CAAAA,CAASpD,IAAToD,CAAcC,CAAdD,GACQC,CAAR;AACE,iBAAK,WAAL;AACE;;AACF,iBAAK,QAAL;AACEhC,cAAAA,CAAAA,GAAU8B,CAAAA,CAAUnD,IAAVmD,CAAeD,CAAfC,CAAV9B,GAAgCA,CAAAA,GAAU6B,CAA1C7B;AACA;;AACF,iBAAK,UAAL;AACE2B,cAAAA,CAAAA,GAAWT,CAAAA,CAAaC,CAAbD,EAAqBW,CAArBX,CAAXS;AACA;;AACF,iBAAK,MAAL;AACEG,cAAAA,CAAAA,CAAUnD,IAAVmD,CAAeD,CAAfC;AACA;;AACF,iBAAK,OAAL;AACA,iBAAK,cAAL;AACA,iBAAK,WAAL;AACEV,cAAAA,CAAAA,GAAMU,CAAAA,CAAUnD,IAAVmD,CAAeD,CAAfC,CAANV,GAA4BA,CAAAA,GAAMS,CAAlCT;AACA;;AACF,iBAAK,QAAL;AACA,iBAAK,OAAL;AACE,kBAAIS,CAAAA,YAAepG,KAAfoG,IAAiD,eAAA,OAAjBI,YAAiB,IAAeJ,CAAAA,YAAeI,YAAnF,EAAkG;AAChGb,gBAAAA,CAAAA,GAAMU,CAAAA,CAAUnD,IAAVmD,CAAeD,CAAfC,CAANV,GAA4BA,CAAAA,GAAMS,CAAlCT;AACA;AAEF;;AAAA,kBAAII,CAAAA,IAAuB,aAARQ,CAAfR,IAAeQ,CAAqBJ,CAAxC,EAAiD;AAC/C,qBAAK,IAAIM,CAAAA,GAAI,CAAR,EAAWC,CAAAA,GAAMX,CAAAA,CAAYvD,MAAlC,EAA0CiE,CAAAA,GAAIC,CAA9C,EAA8CA,EAAOD,CAArD,EACE,IAAA,KAA4BE,CAA5B,KAAIP,CAAAA,CAAIL,CAAAA,CAAYU,CAAZV,CAAJK,CAAJ,EAAuC;AACrCD,kBAAAA,CAAAA,GAAUC,CAAVD;AACA;AAGJ;;AAAA,oBAAIA,CAAJ,EACE;AAGJF;;AAAAA,cAAAA,CAAAA,GAASI,CAAAA,CAAUnD,IAAVmD,CAAeD,CAAfC,CAATJ,GAA+BA,CAAAA,GAASG,CAAxCH;AACA;;AACF;AACE,kBAAIG,CAAAA,YAAepG,KAAfoG,IAAiD,eAAA,OAAjBI,YAAiB,IAAeJ,CAAAA,YAAeI,YAAnF,EAAkG;AAChGb,gBAAAA,CAAAA,GAAMU,CAAAA,CAAUnD,IAAVmD,CAAeD,CAAfC,CAANV,GAA4BA,CAAAA,GAAMS,CAAlCT;AACA;AAEFU;;AAAAA,cAAAA,CAAAA,CAAUnD,IAAVmD,CAAeD,CAAfC;AAzCJ;AA6CEA;;AAAAA,QAAAA,CAAAA,CAAU7D,MAAV6D,GAAmB,CAAnBA,KAAmB,CAErBJ,CAAAA,GAAS5G,CAAAA,CAAM4G,CAAN5G,CAFY,EAGdgH,SAHc,GAGFA,CAHjBA;AAMJ,YAAIO,CAAAA,GAAO;AACTrC,UAAAA,OAAAA,EAASA,CADA;AAEToB,UAAAA,GAAAA,EAAKA,CAFI;AAGTM,UAAAA,MAAAA,EAAQA,CAHC;AAITY,UAAAA,SAAAA,EAAW7F,CAAAA,EAJF;AAKTkF,UAAAA,QAAAA,EAAUA,CALD;AAMTJ,UAAAA,QAAAA,EAAUA,CAND;AAOTgB,UAAAA,UAAAA,EAlEe,EA2DN;AAQTC,UAAAA,IAAAA,EAAMhG,CAAAA;AARG,SAAX;AAqBA,eAGF,UAA2B6F,CAA3B,EAAiCX,CAAjC,EAAiCA;AAC3BA,UAAAA,CAAAA,IAAAA,KAA2BU,CAA3BV,KAAUA,CAAAA,CAAOkB,KAAjBlB,KACFW,CAAAA,CAAKO,KAALP,GAAaX,CAAAA,CAAOkB,KAApBP,EAAoBO,OACblB,CAAAA,CAAOkB,KAFZlB;AAIAA,UAAAA,CAAAA,IAAAA,KAAgCU,CAAhCV,KAAUA,CAAAA,CAAOmB,UAAjBnB,KACFW,CAAAA,CAAKQ,UAALR,GAAkBX,CAAAA,CAAOmB,UAAzBR,EAAyBQ,OAClBnB,CAAAA,CAAOmB,UAFZnB;AAlBJe,SAaF,CAboBJ,CAapB,EAb0BX,CAa1B,GAXMF,CAAAA,IAAeI,CAAfJ,KACFa,CAAAA,CAAKT,OAALS,GAAeT,CADbJ,CAWN,EARMC,CAAAA,KACFY,CAAAA,CAAKZ,aAALY,GAAqBZ,CADnBA,CAQN,EALEY,CAAAA,CAAKK,aAALL,GAAqBf,CAKvB,EAJEe,CAAAA,CAAKE,UAALF,CAAgBM,kBAAhBN,GAAqCN,CAIvC,EAHSM,CAAP;AAAOA,OAoOQ;AAGfgD,MAAAA,eAAAA,EAzNF,UAAyBhD,CAAzB,EAA+BS,CAA/B,EAA+BA;AAC7B,YAAIpB,CAAAA,GAASW,CAAAA,CAAKU,IAALV,CAAUX,MAAVW,IAAoB,EAAjC;AAAA,YACIW,CAAAA,GAAAA,CAAe,CADnB;;AAGA,YAAA;AACE,eAAK,IAAIlK,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAIgK,CAAAA,CAAO7E,MAA3B,EAA2BA,EAAUnF,CAArC,EACMgK,CAAAA,CAAOhK,CAAPgK,CAAAA,CAAUnI,cAAVmI,CAAyB,gBAAzBA,MACFpB,CAAAA,GAAS5G,CAAAA,CAAM4G,CAAN5G,EAAcgI,CAAAA,CAAOhK,CAAPgK,CAAAA,CAAUG,cAAxBnI,CAAT4G,EACAsB,CAAAA,GAAAA,CAAe,CAFbF;;AAOFE,UAAAA,CAAAA,KACFX,CAAAA,CAAKU,IAALV,CAAUX,MAAVW,GAAmBX,CADjBsB,CAAAA;AAGJ,SAZF,CAYE,OAAOzG,CAAP,EAAOA;AACP8F,UAAAA,CAAAA,CAAKE,UAALF,CAAgBa,aAAhBb,GAAgC,aAAa9F,CAAAA,CAAEyD,OAA/CqC;AAA+CrC;AAAAA,OAqMlC;AAIfsF,MAAAA,oBAAAA,EAxLF,UAA8BhE,CAA9B,EAA8BA;AAI5B,aAHA,IAAIjF,CAAJ,EAAUmH,CAAV,EAAoBZ,CAApB,EACIf,CADJ,EAGS/I,CAAAA,GAAI,CAHb,EAGgBC,CAAAA,GAAIuI,CAAAA,CAAKrD,MAAzB,EAAiCnF,CAAAA,GAAIC,CAArC,EAAqCA,EAAKD,CAA1C,EAA6C;AAI3C,kBADU0C,CAAAA,CAFVqG,CAAAA,GAAMP,CAAAA,CAAKxI,CAALwI,CAEI9F,CACV;AACE,iBAAK,QAAL;AAAK,eACEa,CADF,IACUgH,CAAAA,CAAcF,CAAdE,EAA+BxB,CAA/BwB,CADV,GAEDhH,CAAAA,GAAOwF,CAFN,GAEMA,CACGe,CADHf,IACYwB,CAAAA,CAAcD,CAAdC,EAAgCxB,CAAhCwB,CADZxB,KAEPe,CAAAA,GAAQf,CAFDA,CAFN;AAMH;;AACF,iBAAK,QAAL;AACE2B,cAAAA,CAAAA,GAAW3B,CAAX2B;AATJ;AAqBF;;AAAA,eANY;AACVnH,UAAAA,IAAAA,EAAMA,CAAAA,IAAQ,QADJ;AAEVmH,UAAAA,QAAAA,EAAUA,CAAAA,IAAY,EAFZ;AAGVZ,UAAAA,KAAAA,EAAOA;AAHG,SAMZ;AAHSA,OA0JM;AAKf2C,MAAAA,QAAAA,EAnEF,UAAkBxB,CAAlB,EAA+BC,CAA/B,EAA+BA;AAC7B,YAAKD,CAAAA,IAAgBA,CAAAA,CAAqB,OAArCA,IAAqC,CAAmB,CAAnB,KAAKC,CAA/C,EAAA;AAGA,cAAIC,CAAAA,GAAQF,CAAAA,CAAqB,OAAjC;AACA,cAAKC,CAAL,EAGE,IAAA;AACE,gBAAIE,CAAJ;AACA,gBAAA,CAA4B,CAA5B,KAAID,CAAAA,CAAMjF,OAANiF,CAAc,GAAdA,CAAJ,EAAkB,CAChBC,CAAAA,GAAQD,CAAAA,CAAMP,KAANO,CAAY,GAAZA,CADQ,EAEVE,GAFU,IAGhBD,CAAAA,CAAMvF,IAANuF,CAAW,GAAXA,CAHgB,EAIhBD,CAAAA,GAAQC,CAAAA,CAAMtF,IAANsF,CAAW,GAAXA,CAJQ,CAAlB,KAKO,IAAA,CAA4B,CAA5B,KAAID,CAAAA,CAAMjF,OAANiF,CAAc,GAAdA,CAAJ,EAAkB;AAEvB,kBAAA,CADAC,CAAAA,GAAQD,CAAAA,CAAMP,KAANO,CAAY,GAAZA,CACR,EAAUhG,MAAV,GAAmB,CAAnB,EAAsB;AACpB,oBAAImG,CAAAA,GAAYF,CAAAA,CAAMG,KAANH,CAAY,CAAZA,EAAe,CAAfA,CAAhB;AAAA,oBACII,CAAAA,GAAWF,CAAAA,CAAU,CAAVA,CAAAA,CAAapF,OAAboF,CAAqB,GAArBA,CADf;AACoC,iBAClB,CADkB,KAChCE,CADgC,KAElCF,CAAAA,CAAU,CAAVA,CAAAA,GAAeA,CAAAA,CAAU,CAAVA,CAAAA,CAAalF,SAAbkF,CAAuB,CAAvBA,EAA0BE,CAA1BF,CAFmB;AAKpCH,gBAAAA,CAAAA,GAAQG,CAAAA,CAAUG,MAAVH,CADO,0BACPA,EAA2BxF,IAA3BwF,CAAgC,GAAhCA,CAARH;AAAwC;AAAA,aATrC,MAYLA,CAAAA,GAAQ,IAARA;AAEF,WArBF,CAqBE,OAAO1H,CAAP,EAAOA;AACP0H,YAAAA,CAAAA,GAAQ,IAARA;AAAQ,WAzBZ,MACEA,CAAAA,GAAQ,IAARA;AA2BFF,UAAAA,CAAAA,CAAqB,OAArBA,GAAyBE,CAAzBF;AAAyBE;AAAAA,OA6BV;AAMfuB,MAAAA,kBAAAA,EAvGF,UAA4BlE,CAA5B,EAA4BA;AAC1B,YAAIxI,CAAJ;AAAA,YAAOqJ,CAAP;AAAA,YAAYN,CAAZ;AAAA,YACItC,CAAAA,GAAS,EADb;;AAEA,aAAKzG,CAAAA,GAAI,CAAJA,EAAOqJ,CAAAA,GAAMb,CAAAA,CAAKrD,MAAvB,EAA+BnF,CAAAA,GAAIqJ,CAAnC,EAAmCA,EAAOrJ,CAA1C,EAA6C;AAE3C,kBAAQ0C,CAAAA,CADRqG,CAAAA,GAAMP,CAAAA,CAAKxI,CAALwI,CACE9F,CAAR;AACE,iBAAK,QAAL;AAAK,eAEHqG,CAAAA,GAAAA,CADAA,CAAAA,GAAM3G,CAAAA,CAAU2G,CAAV3G,CACN2G,EAAU7E,KAAV6E,IAAmBA,CAAAA,CAAI9H,KAFpB,EAGKkE,MAHL,GAGc,GAHd,KAID4D,CAAAA,GAAMA,CAAAA,CAAIgC,MAAJhC,CAAW,CAAXA,EAAc,GAAdA,IAAqB,KAJ1B;AAMH;;AACF,iBAAK,MAAL;AACEA,cAAAA,CAAAA,GAAM,MAANA;AACA;;AACF,iBAAK,WAAL;AACEA,cAAAA,CAAAA,GAAM,WAANA;AACA;;AACF,iBAAK,QAAL;AACEA,cAAAA,CAAAA,GAAMA,CAAAA,CAAInG,QAAJmG,EAANA;AAfJ;;AAkBAtC,UAAAA,CAAAA,CAAOZ,IAAPY,CAAYsC,CAAZtC;AAEF;;AAAA,eAAOA,CAAAA,CAAOX,IAAPW,CAAY,GAAZA,CAAP;AAAmB,OAwEJ;AAOfkG,MAAAA,SAAAA,EApbF,UAAmBtG,CAAnB,EAAsBC,CAAtB,EAAsBA;AAWpB,YAAA,EAVAA,CAAAA,GAAWA,CAAAA,IAAYD,CAAAA,CAAEC,QAUzB,KATiBD,CAAAA,CAAEE,IASnB,KARiB,OAAXF,CAAAA,CAAEE,IAAS,GACbD,CAAAA,GAAW,OADE,GAEO,QAAXD,CAAAA,CAAEE,IAAS,KACpBD,CAAAA,GAAW,QADS,CAMxB,GAFAA,CAAAA,GAAWA,CAAAA,IAAY,QAEvB,EAFuB,CAElBD,CAAAA,CAAEG,QAAP,EACE,OAAO,IAAP;AAEF,YAAIC,CAAAA,GAASH,CAAAA,GAAW,IAAXA,GAAkBD,CAAAA,CAAEG,QAAjC;AAOA,eANIH,CAAAA,CAAEE,IAAFF,KACFI,CAAAA,GAASA,CAAAA,GAAS,GAATA,GAAeJ,CAAAA,CAAEE,IADxBF,GAGAA,CAAAA,CAAEL,IAAFK,KACFI,CAAAA,IAAkBJ,CAAAA,CAAEL,IADlBK,CAHAA,EAMGI,CAAP;AAAOA,OAwZQ;AAQf5F,MAAAA,GAAAA,EApJF,UAAa6F,CAAb,EAAkBV,CAAlB,EAAkBA;AAChB,YAAKU,CAAL,EAAA;AAGA,cAAIiE,CAAAA,GAAO3E,CAAAA,CAAK4E,KAAL5E,CAAW,GAAXA,CAAX;AAAA,cACIS,CAAAA,GAASC,CADb;;AAEA,cAAA;AACE,iBAAK,IAAI1G,CAAAA,GAAI,CAAR,EAAWqJ,CAAAA,GAAMsB,CAAAA,CAAKxF,MAA3B,EAAmCnF,CAAAA,GAAIqJ,CAAvC,EAAuCA,EAAOrJ,CAA9C,EACEyG,CAAAA,GAASA,CAAAA,CAAOkE,CAAAA,CAAK3K,CAAL2K,CAAPlE,CAATA;AAEF,WAJF,CAIE,OAAOhD,CAAP,EAAOA;AACPgD,YAAAA,CAAAA,GAAAA,KAAS6C,CAAT7C;AAEF;;AAAA,iBAAOA,CAAP;AAAOA;AAAAA,OA+HQ;AASfmG,MAAAA,aAAAA,EAnCF,UAAuBlB,CAAvB,EAAgCC,CAAhC,EAAuCC,CAAvC,EAAgDvD,CAAhD,EAAgDA;AAC9C,YAAI5B,CAAAA,GAASzE,CAAAA,CAAM0J,CAAN1J,EAAe2J,CAAf3J,EAAsB4J,CAAtB5J,CAAb;AAEA,eADAyE,CAAAA,GAUF,UAAiCjB,CAAjC,EAA0C6C,CAA1C,EAA0CA;AACrC7C,UAAAA,CAAAA,CAAQwG,aAARxG,IAAQwG,CAAkBxG,CAAAA,CAAQyG,YAAlCzG,KACDA,CAAAA,CAAQyG,YAARzG,GAAuBA,CAAAA,CAAQwG,aAA/BxG,EACAA,CAAAA,CAAQwG,aAARxG,GAAQwG,KAAgB1C,CADxB9D,EAEA6C,CAAAA,IAAUA,CAAAA,CAAO6D,GAAP7D,CAAW,gDAAXA,CAHT7C;AAKAA,UAAAA,CAAAA,CAAQ2G,aAAR3G,IAAQ2G,CAAkB3G,CAAAA,CAAQ4G,aAAlC5G,KACDA,CAAAA,CAAQ4G,aAAR5G,GAAwBA,CAAAA,CAAQ2G,aAAhC3G,EACAA,CAAAA,CAAQ2G,aAAR3G,GAAQ2G,KAAgB7C,CADxB9D,EAEA6C,CAAAA,IAAUA,CAAAA,CAAO6D,GAAP7D,CAAW,iDAAXA,CAHT7C;AAKH,iBAAOA,CAAP;AArBSqG,SAUX,CAVmCpF,CAUnC,EAV2C4B,CAU3C,CAVE5B,EAAyC4B,CACpCsD,CADoCtD,IAC3BsD,CAAAA,CAAMG,oBADqBzD,IAIrCsD,CAAAA,CAAMI,WAANJ,KACFlF,CAAAA,CAAOsF,WAAPtF,GAAOsF,CAAeL,CAAAA,CAAQK,WAARL,IAAuB,EAAtCK,EAA0CN,MAA1CM,CAAiDJ,CAAAA,CAAMI,WAAvDA,CADLJ,CAJJlF,EAESA,CADT;AACSA,OAsBM;AAUfoG,MAAAA,OAAAA,EAnjBF,UAAiBpJ,CAAjB,EAAiBA;AAEf,eAAOjB,CAAAA,CAAOiB,CAAPjB,EAAU,OAAVA,CAAAA,IAAsBA,CAAAA,CAAOiB,CAAPjB,EAAU,WAAVA,CAA7B;AAAuC,OAuiBxB;AAWfL,MAAAA,UAAAA,EAAYA,CAXG;AAYf2K,MAAAA,UAAAA,EAhkBF,UAAoB9M,CAApB,EAAoBA;AAClB,YAAIuD,CAAAA,GAAOb,CAAAA,CAAS1C,CAAT0C,CAAX;AACA,eAAiB,aAATa,CAAS,IAAqB,YAATA,CAA7B;AAA6BA,OAkjBd;AAafhB,MAAAA,gBAAAA,EAAkBA,CAbH;AAcfC,MAAAA,MAAAA,EAAQA,CAdO;AAefa,MAAAA,QAAAA,EAAUA,CAfK;AAgBf0J,MAAAA,QAAAA,EAzlBF,UAAkB9L,CAAlB,EAAkBA;AAChB,eAAwB,YAAA,OAAVA,CAAU,IAAYA,CAAAA,YAAiBuC,MAArD;AAAqDA,OAwkBtC;AAiBfwJ,MAAAA,SAAAA,EAzXF,UAAmBjL,CAAnB,EAAmBA;AACjB,YAAId,CAAJ,EAAWiD,CAAX;;AACA,YAAA;AACEjD,UAAAA,CAAAA,GAAQgB,CAAAA,CAAYI,KAAZJ,CAAkBF,CAAlBE,CAARhB;AACA,SAFF,CAEE,OAAOwC,CAAP,EAAOA;AACPS,UAAAA,CAAAA,GAAQT,CAARS;AAEF;;AAAA,eAAO;AAACA,UAAAA,KAAAA,EAAOA,CAAR;AAAejD,UAAAA,KAAAA,EAAOA;AAAtB,SAAP;AAA6BA,OAiWd;AAkBfgM,MAAAA,MAAAA,EAviBW;AACXlJ,QAAAA,KAAAA,EAAO,CADI;AAEXC,QAAAA,IAAAA,EAAM,CAFK;AAGXC,QAAAA,OAAAA,EAAS,CAHE;AAIXC,QAAAA,KAAAA,EAAO,CAJI;AAKXC,QAAAA,QAAAA,EAAU;AALC,OAqhBI;AAmBf+I,MAAAA,sBAAAA,EAjXF,UACEhG,CADF,EAEE9C,CAFF,EAGE+C,CAHF,EAIEC,CAJF,EAKElD,CALF,EAME/C,CANF,EAOEkG,CAPF,EAQEC,CARF,EAQEA;AAEA,YAAIC,CAAAA,GAAW;AACbnD,UAAAA,GAAAA,EAAKA,CAAAA,IAAO,EADC;AAEboD,UAAAA,IAAAA,EAAML,CAFO;AAGbM,UAAAA,MAAAA,EAAQL;AAHK,SAAf;AAKAG,QAAAA,CAAAA,CAASG,IAATH,GAAgBD,CAAAA,CAAYK,iBAAZL,CAA8BC,CAAAA,CAASnD,GAAvCkD,EAA4CC,CAAAA,CAASC,IAArDF,CAAhBC,EACAA,CAAAA,CAASK,OAATL,GAAmBD,CAAAA,CAAYO,aAAZP,CAA0BC,CAAAA,CAASnD,GAAnCkD,EAAwCC,CAAAA,CAASC,IAAjDF,CADnBC;AAEA,YAAIO,CAAAA,GAAOC,QAAAA,IAAYA,QAAAA,CAASR,QAArBQ,IAAiCA,QAAAA,CAASR,QAATQ,CAAkBD,IAA9D;AAAA,YACIE,CAAAA,GAAYC,MAAAA,IAAUA,MAAAA,CAAOC,SAAjBD,IAA8BA,MAAAA,CAAOC,SAAPD,CAAiBE,SAD/D;AAEA,eAAO;AACL,UAAA,IAAA,EAAQhH,CADH;AAEL,UAAA,OAAA,EAAW+C,CAAAA,GAAQV,MAAAA,CAAOU,CAAPV,CAARU,GAAyBgD,CAAAA,IAAWG,CAF1C;AAGL,UAAA,GAAA,EAAOS,CAHF;AAIL,UAAA,KAAA,EAAS,CAACP,CAAD,CAJJ;AAKL,UAAA,SAAA,EAAaS;AALR,SAAP;AAKeA,OAsUA;AAoBfhG,MAAAA,KAAAA,EAAOA,CApBQ;AAqBf2B,MAAAA,GAAAA,EAAKA,CArBU;AAsBfwJ,MAAAA,MAAAA,EA1jBF,YAAA;AACE,eAAO,UAAP;AAAO,OAmiBQ;AAuBflL,MAAAA,WAAAA,EAAaA,CAvBE;AAwBfmL,MAAAA,WAAAA,EAriBF,UAAqBhJ,CAArB,EAAqBA;AACnB,YAAIC,CAAAA,GA0CN,UAAkBW,CAAlB,EAAkBA;AAChB,cAAA,CAAKxC,CAAAA,CAAOwC,CAAPxC,EAAY,QAAZA,CAAL,EACE;;AAOF,eAJA,IAAI/B,CAAAA,GAAIiE,CAAR,EACItE,CAAAA,GAAIK,CAAAA,CAAEoE,MAAFpE,CAASA,CAAAA,CAAEkE,UAAFlE,GAAe,QAAfA,GAA0B,OAAnCA,EAA4CwE,IAA5CxE,CAAiDuE,CAAjDvE,CADR,EAEIyE,CAAAA,GAAM,EAFV,EAISlF,CAAAA,GAAI,CAJb,EAIgBC,CAAAA,GAAIQ,CAAAA,CAAEc,GAAFd,CAAM0E,MAA1B,EAAkCnF,CAAAA,GAAIC,CAAtC,EAAsCA,EAAKD,CAA3C,EACEkF,CAAAA,CAAIzE,CAAAA,CAAEc,GAAFd,CAAMT,CAANS,CAAJyE,CAAAA,GAAgB9E,CAAAA,CAAEJ,CAAFI,CAAAA,IAAQ,EAAxB8E;;AAUF,iBAPAA,CAAAA,CAAIzE,CAAAA,CAAEmE,CAAFnE,CAAIF,IAAR2E,CAAAA,GAAgB,EAAhBA,EACAA,CAAAA,CAAIzE,CAAAA,CAAEc,GAAFd,CAAM,EAANA,CAAJyE,CAAAA,CAAehC,OAAfgC,CAAuBzE,CAAAA,CAAEmE,CAAFnE,CAAIoE,MAA3BK,EAAmC,UAAUE,CAAV,EAAcC,CAAd,EAAkBC,CAAlB,EAAkBA;AAC/CD,YAAAA,CAAAA,KACFH,CAAAA,CAAIzE,CAAAA,CAAEmE,CAAFnE,CAAIF,IAAR2E,CAAAA,CAAcG,CAAdH,IAAoBI,CADlBD,CAAAA;AACkBC,WAFxBJ,CADAA,EAOOA,CAAP;AA9DmBZ,SA0CrB,CA1C8BF,CA0C9B,CA1CE;;AACA,eAAKC,CAAAA,IAKuB,OAAxBA,CAAAA,CAAaE,MAAW,KAC1BF,CAAAA,CAAaG,MAAbH,GAAsBA,CAAAA,CAAaG,MAAbH,CAAoBnB,OAApBmB,CAA4B,GAA5BA,EAAiC,EAAjCA,CADI,GAI5BD,CAAAA,GAAMC,CAAAA,CAAaG,MAAbH,CAAoBnB,OAApBmB,CAA4B,MAAMA,CAAAA,CAAaI,KAA/CJ,EAAsD,EAAtDA,CATDA,IACI,WADT;AACS,OA0gBM;AAyBfgJ,MAAAA,GAAAA,EArJF,UAAa3G,CAAb,EAAkBV,CAAlB,EAAwB/E,CAAxB,EAAwBA;AACtB,YAAKyF,CAAL,EAAA;AAGA,cAAIiE,CAAAA,GAAO3E,CAAAA,CAAK4E,KAAL5E,CAAW,GAAXA,CAAX;AAAA,cACIqD,CAAAA,GAAMsB,CAAAA,CAAKxF,MADf;AAEA,cAAA,EAAIkE,CAAAA,GAAM,CAAV,CAAA,EAGA,IAAY,MAARA,CAAJ,EAIA,IAAA;AAGE,iBAFA,IAAIwB,CAAAA,GAAOnE,CAAAA,CAAIiE,CAAAA,CAAK,CAALA,CAAJjE,CAAAA,IAAgB,EAA3B,EACIoE,CAAAA,GAAcD,CADlB,EAES7K,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAIqJ,CAAAA,GAAM,CAA1B,EAA0B,EAAKrJ,CAA/B,EACE6K,CAAAA,CAAKF,CAAAA,CAAK3K,CAAL2K,CAALE,CAAAA,GAAgBA,CAAAA,CAAKF,CAAAA,CAAK3K,CAAL2K,CAALE,CAAAA,IAAiB,EAAjCA,EACAA,CAAAA,GAAOA,CAAAA,CAAKF,CAAAA,CAAK3K,CAAL2K,CAALE,CADPA;;AAGFA,YAAAA,CAAAA,CAAKF,CAAAA,CAAKtB,CAAAA,GAAI,CAATsB,CAALE,CAAAA,GAAoB5J,CAApB4J,EACAnE,CAAAA,CAAIiE,CAAAA,CAAK,CAALA,CAAJjE,CAAAA,GAAeoE,CADfD;AAEA,WATF,CASE,OAAOpH,CAAP,EAAOA;AACP;AAAA,WAdF,MACEiD,CAAAA,CAAIiE,CAAAA,CAAK,CAALA,CAAJjE,CAAAA,GAAezF,CAAfyF;AAAezF;AAAAA,OAkHF;AA0BfqM,MAAAA,SAAAA,EA5sBF,UAAmBpL,CAAnB,EAAmBA;AACbC,QAAAA,CAAAA,CAAWF,CAAAA,CAAYG,SAAvBD,CAAAA,IAAqCA,CAAAA,CAAWF,CAAAA,CAAYI,KAAvBF,CAArCA,KAmHIK,CAAAA,CA/GMF,IA+GNE,EAAU,WAAVA,CAAAA,KA7GHN,CAAAA,IACGK,CAAAA,CAAiBD,IAAAA,CAAKF,SAAtBG,CAAAA,KACFN,CAAAA,CAAYG,SAAZH,GAAwBK,IAAAA,CAAKF,SAD3BG,GAGAA,CAAAA,CAAiBD,IAAAA,CAAKD,KAAtBE,CAAAA,KACFN,CAAAA,CAAYI,KAAZJ,GAAoBK,IAAAA,CAAKD,KADvBE,CAJHL,KAQGC,CAAAA,CAAWG,IAAAA,CAAKF,SAAhBD,CAAAA,KACFF,CAAAA,CAAYG,SAAZH,GAAwBK,IAAAA,CAAKF,SAD3BD,GAGAA,CAAAA,CAAWG,IAAAA,CAAKD,KAAhBF,CAAAA,KACFF,CAAAA,CAAYI,KAAZJ,GAAoBK,IAAAA,CAAKD,KADvBF,CAXHD,CA6GGM,GA7FHL,CAAAA,CAAWF,CAAAA,CAAYG,SAAvBD,CAAAA,IAAsCA,CAAAA,CAAWF,CAAAA,CAAYI,KAAvBF,CAAtCA,IACHD,CAAAA,IAAgBA,CAAAA,CAAaD,CAAbC,CAvBdC;AAuB2BF,OA0pBhB;AA2BfG,MAAAA,SAAAA,EAAWA,CA3BI;AA4BfmL,MAAAA,WAAAA,EA/ZF,UAAqBzG,CAArB,EAAqBA;AAanB,aAHA,IAAIC,CAAAA,GAAQ,CAAZ,EACI5B,CAAAA,GAAS2B,CAAAA,CAAO3B,MADpB,EAGSnF,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAImF,CAApB,EAA4BnF,CAAAA,EAA5B,EAAiC;AAC/B,cAAIgH,CAAAA,GAAOF,CAAAA,CAAOG,UAAPH,CAAkB9G,CAAlB8G,CAAX;AACIE,UAAAA,CAAAA,GAAO,GAAPA,GACFD,CAAAA,IAAgB,CADdC,GAEOA,CAAAA,GAAO,IAAPA,GACTD,CAAAA,IAAgB,CADPC,GAEAA,CAAAA,GAAO,KAAPA,KACTD,CAAAA,IAAgB,CADPC,CAJPA;AASN;;AAAA,eAAOD,CAAP;AAAOA,OA2WQ;AA6BfrE,MAAAA,QAAAA,EAAUA,CA7BK;AA8BfgB,MAAAA,KAAAA,EAAOA;AA9BQ,KAAjBjE;AA8BSiE,G;;;ACltBT,IAAA,CAAA,CAAQ,EAAR,CAAA;AACA,QAAI8J,CAAAA,GAAY,CAAA,CAAQ,EAAR,CAAhB;AAAA,QACIC,CAAAA,GAAI,CAAA,CAAQ,CAAR,CADR;AAmCAhO,IAAAA,CAAAA,CAAOD,OAAPC,GAAiB;AACfyE,MAAAA,KAAAA,EAjCF,YAAA;AACE,YAAIsE,CAAAA,GAAOkF,KAAAA,CAAM9L,SAAN8L,CAAgBnC,KAAhBmC,CAAsBvN,IAAtBuN,CAA2BC,SAA3BD,EAAsC,CAAtCA,CAAX;AACAlF,QAAAA,CAAAA,CAAKoF,OAALpF,CAAa,UAAbA,GACIgF,CAAAA,CAAUK,SAAVL,MAAyB,CAAzBA,GACFM,OAAAA,CAAQ5J,KAAR4J,CAAcL,CAAAA,CAAEf,kBAAFe,CAAqBjF,CAArBiF,CAAdK,CADEN,GAGFM,OAAAA,CAAQ5J,KAAR4J,CAAcC,KAAdD,CAAoBA,OAApBA,EAA6BtF,CAA7BsF,CAJFtF;AAI+BA,OA0BhB;AAEfxE,MAAAA,IAAAA,EAxBF,YAAA;AACE,YAAIwE,CAAAA,GAAOkF,KAAAA,CAAM9L,SAAN8L,CAAgBnC,KAAhBmC,CAAsBvN,IAAtBuN,CAA2BC,SAA3BD,EAAsC,CAAtCA,CAAX;AACAlF,QAAAA,CAAAA,CAAKoF,OAALpF,CAAa,UAAbA,GACIgF,CAAAA,CAAUK,SAAVL,MAAyB,CAAzBA,GACFM,OAAAA,CAAQ9J,IAAR8J,CAAaL,CAAAA,CAAEf,kBAAFe,CAAqBjF,CAArBiF,CAAbK,CADEN,GAGFM,OAAAA,CAAQ9J,IAAR8J,CAAaC,KAAbD,CAAmBA,OAAnBA,EAA4BtF,CAA5BsF,CAJFtF;AAI8BA,OAgBf;AAGf0D,MAAAA,GAAAA,EAfF,YAAA;AACE,YAAI1D,CAAAA,GAAOkF,KAAAA,CAAM9L,SAAN8L,CAAgBnC,KAAhBmC,CAAsBvN,IAAtBuN,CAA2BC,SAA3BD,EAAsC,CAAtCA,CAAX;AACAlF,QAAAA,CAAAA,CAAKoF,OAALpF,CAAa,UAAbA,GACIgF,CAAAA,CAAUK,SAAVL,MAAyB,CAAzBA,GACFM,OAAAA,CAAQ5B,GAAR4B,CAAYL,CAAAA,CAAEf,kBAAFe,CAAqBjF,CAArBiF,CAAZK,CADEN,GAGFM,OAAAA,CAAQ5B,GAAR4B,CAAYC,KAAZD,CAAkBA,OAAlBA,EAA2BtF,CAA3BsF,CAJFtF;AAI6BA;AAMd,KAAjB/I;AAN+B+I,G;;;AC6C/B/I,IAAAA,CAAAA,CAAOD,OAAPC,GAAiB;AACf4C,MAAAA,KAAAA,EA5EF,UAAe+B,CAAf,EAAeA;AACb,YAMIpE,CANJ;AAAA,YAMOqO,CANP;AAAA,YAAI5H,CAAAA,GAAS;AACXH,UAAAA,QAAAA,EAAU,IADC;AACK0H,UAAAA,IAAAA,EAAM,IADX;AACiBC,UAAAA,IAAAA,EAAM,IADvB;AAC6BjI,UAAAA,IAAAA,EAAM,IADnC;AAEXkI,UAAAA,IAAAA,EAAM,IAFK;AAECpG,UAAAA,IAAAA,EAAM1D,CAFP;AAEYoC,UAAAA,QAAAA,EAAU,IAFtB;AAE4BD,UAAAA,IAAAA,EAAM,IAFlC;AAGX4H,UAAAA,QAAAA,EAAU,IAHC;AAGKC,UAAAA,MAAAA,EAAQ,IAHb;AAGmB3J,UAAAA,KAAAA,EAAO;AAH1B,SAAb;;AAsBA,YAAA,CAdW,CAcX,MAfAzE,CAAAA,GAAIoE,CAAAA,CAAI8B,OAAJ9B,CAAY,IAAZA,CAeJ,KAbEqC,CAAAA,CAAOH,QAAPG,GAAkBrC,CAAAA,CAAIgC,SAAJhC,CAAc,CAAdA,EAAgBpE,CAAhBoE,CAAlBqC,EACA4H,CAAAA,GAAOrO,CAAAA,GAAE,CAYX,IAVEqO,CAAAA,GAAO,CAUT,EAVS,CAIE,CAJF,MAGTrO,CAAAA,GAAIoE,CAAAA,CAAI8B,OAAJ9B,CAAY,GAAZA,EAAiBiK,CAAjBjK,CAHK,MAKPqC,CAAAA,CAAOuH,IAAPvH,GAAcrC,CAAAA,CAAIgC,SAAJhC,CAAciK,CAAdjK,EAAoBpE,CAApBoE,CAAdqC,EACA4H,CAAAA,GAAOrO,CAAAA,GAAE,CANF,CAUT,EAJW,CAIA,CAJA,MAGXA,CAAAA,GAAIoE,CAAAA,CAAI8B,OAAJ9B,CAAY,GAAZA,EAAiBiK,CAAjBjK,CAHO,CAIX,EAAc;AAEZ,cAAA,CAAW,CAAX,MADApE,CAAAA,GAAIoE,CAAAA,CAAI8B,OAAJ9B,CAAY,GAAZA,EAAiBiK,CAAjBjK,CACJ,CAAA,EAaE,OAAA,CAXW,CAWX,MAZApE,CAAAA,GAAIoE,CAAAA,CAAI8B,OAAJ9B,CAAY,GAAZA,EAAiBiK,CAAjBjK,CAYJ,IAVEqC,CAAAA,CAAOwH,IAAPxH,GAAcrC,CAAAA,CAAIgC,SAAJhC,CAAciK,CAAdjK,CAUhB,IAREqC,CAAAA,CAAOwH,IAAPxH,GAAcrC,CAAAA,CAAIgC,SAAJhC,CAAciK,CAAdjK,EAAoBpE,CAApBoE,CAAdqC,EACAA,CAAAA,CAAOyH,IAAPzH,GAAcrC,CAAAA,CAAIgC,SAAJhC,CAAcpE,CAAdoE,CAOhB,GALAqC,CAAAA,CAAOD,QAAPC,GAAkBA,CAAAA,CAAOwH,IAAPxH,CAAYmE,KAAZnE,CAAkB,GAAlBA,EAAuB,CAAvBA,CAKlB,EAJAA,CAAAA,CAAOF,IAAPE,GAAcA,CAAAA,CAAOwH,IAAPxH,CAAYmE,KAAZnE,CAAkB,GAAlBA,EAAuB,CAAvBA,CAId,EAHIA,CAAAA,CAAOF,IAAPE,KACFA,CAAAA,CAAOF,IAAPE,GAAc6H,QAAAA,CAAS7H,CAAAA,CAAOF,IAAhB+H,EAAsB,EAAtBA,CADZ7H,CAGJ,EAAOA,CAAP;AAEAA,UAAAA,CAAAA,CAAOwH,IAAPxH,GAAcrC,CAAAA,CAAIgC,SAAJhC,CAAciK,CAAdjK,EAAoBpE,CAApBoE,CAAdqC,EACAA,CAAAA,CAAOD,QAAPC,GAAkBA,CAAAA,CAAOwH,IAAPxH,CAAYmE,KAAZnE,CAAkB,GAAlBA,EAAuB,CAAvBA,CADlBA,EAEAA,CAAAA,CAAOF,IAAPE,GAAcA,CAAAA,CAAOwH,IAAPxH,CAAYmE,KAAZnE,CAAkB,GAAlBA,EAAuB,CAAvBA,CAFdA,EAGIA,CAAAA,CAAOF,IAAPE,KACFA,CAAAA,CAAOF,IAAPE,GAAc6H,QAAAA,CAAS7H,CAAAA,CAAOF,IAAhB+H,EAAsB,EAAtBA,CADZ7H,CAHJA,EAMA4H,CAAAA,GAAOrO,CANPyG;AAMOzG,SAvBX,MA0BEyG,CAAAA,CAAOwH,IAAPxH,GAAcrC,CAAAA,CAAIgC,SAAJhC,CAAciK,CAAdjK,EAAoBpE,CAApBoE,CAAdqC,EACAA,CAAAA,CAAOD,QAAPC,GAAkBA,CAAAA,CAAOwH,IAAPxH,CAAYmE,KAAZnE,CAAkB,GAAlBA,EAAuB,CAAvBA,CADlBA,EAEAA,CAAAA,CAAOF,IAAPE,GAAcA,CAAAA,CAAOwH,IAAPxH,CAAYmE,KAAZnE,CAAkB,GAAlBA,EAAuB,CAAvBA,CAFdA,EAGIA,CAAAA,CAAOF,IAAPE,KACFA,CAAAA,CAAOF,IAAPE,GAAc6H,QAAAA,CAAS7H,CAAAA,CAAOF,IAAhB+H,EAAsB,EAAtBA,CADZ7H,CAHJA,EAMA4H,CAAAA,GAAOrO,CANPyG;;AAiBF,YAAA,CAPW,CAOX,MARAzG,CAAAA,GAAIoE,CAAAA,CAAI8B,OAAJ9B,CAAY,GAAZA,EAAiBiK,CAAjBjK,CAQJ,IANEqC,CAAAA,CAAOT,IAAPS,GAAcrC,CAAAA,CAAIgC,SAAJhC,CAAciK,CAAdjK,CAMhB,IAJEqC,CAAAA,CAAOT,IAAPS,GAAcrC,CAAAA,CAAIgC,SAAJhC,CAAciK,CAAdjK,EAAoBpE,CAApBoE,CAAdqC,EACAA,CAAAA,CAAOyH,IAAPzH,GAAcrC,CAAAA,CAAIgC,SAAJhC,CAAcpE,CAAdoE,CAGhB,GAAIqC,CAAAA,CAAOT,IAAX,EAAiB;AACf,cAAIuI,CAAAA,GAAY9H,CAAAA,CAAOT,IAAPS,CAAYmE,KAAZnE,CAAkB,GAAlBA,CAAhB;AACAA,UAAAA,CAAAA,CAAO0H,QAAP1H,GAAkB8H,CAAAA,CAAU,CAAVA,CAAlB9H,EACAA,CAAAA,CAAOhC,KAAPgC,GAAe8H,CAAAA,CAAU,CAAVA,CADf9H,EAEAA,CAAAA,CAAO2H,MAAP3H,GAAgBA,CAAAA,CAAOhC,KAAPgC,GAAe,MAAMA,CAAAA,CAAOhC,KAA5BgC,GAAoC,IAFpDA;AAIF;;AAAA,eAAOA,CAAP;AAAOA;AAGQ,KAAjBhH;AAHSgH,G;;;ACzET,QAAI+H,CAAAA,GAAmB,CAAA,CAAQ,EAAR,CAAvB;AAAA,QAGIC,CAAAA,GAAmB,IAAIrL,MAAJ,CAAW,2DAAX,CAHvB;;AAUA,aAASyE,CAAT,GAASA;AACP,aAAO,IAAP;AAIF;;AAAA,aAAS6G,CAAT,CAAeC,CAAf,EAAeA;AACb,UAAI1E,CAAAA,GAAO,EAAX;AAYA,aAVAA,CAAAA,CAAK2E,WAAL3E,GAAmB0E,CAAnB1E,EAEAA,CAAAA,CAAK7F,GAAL6F,GAAW0E,CAAAA,CAAWE,QAFtB5E,EAGAA,CAAAA,CAAKzC,IAALyC,GAAY0E,CAAAA,CAAWG,UAHvB7E,EAIAA,CAAAA,CAAKvC,IAALuC,GAAY0E,CAAAA,CAAWI,YAJvB9E,EAKAA,CAAAA,CAAKxC,MAALwC,GAAc0E,CAAAA,CAAWK,YALzB/E,EAMAA,CAAAA,CAAKzB,IAALyB,GAAY0E,CAAAA,CAAWnG,IANvByB,EAQAA,CAAAA,CAAKrC,OAALqC,GAfO,IAOPA,EAUOA,CAAP;AAIF;;AAAA,aAASgF,CAAT,CAAeC,CAAf,EAA0BC,CAA1B,EAA0BA;AAqBxB,aAAO;AACLE,QAAAA,KAAAA,EArBF,YAAA;AACE,cAAID,CAAAA,GAAc,EAAlB;AAEAD,UAAAA,CAAAA,GAAOA,CAAAA,IAAQ,CAAfA;;AAEA,cAAA;AACEC,YAAAA,CAAAA,GAAcZ,CAAAA,CAAiBnM,KAAjBmM,CAAuBU,CAAvBV,CAAdY;AACA,WAFF,CAEE,OAAM3L,CAAN,EAAMA;AACN2L,YAAAA,CAAAA,GAAc,EAAdA;AAKF;;AAAA,eAFA,IAAIC,CAAAA,GAAQ,EAAZ,EAESrP,CAAAA,GAAImP,CAAb,EAAmBnP,CAAAA,GAAIoP,CAAAA,CAAYjK,MAAnC,EAA2CnF,CAAAA,EAA3C,EACEqP,CAAAA,CAAMxJ,IAANwJ,CAAW,IAAIX,CAAJ,CAAUU,CAAAA,CAAYpP,CAAZoP,CAAV,CAAXC;;AAGF,iBAAOA,CAAP;AAIOC,SArBT,EAoBO;AAELpI,QAAAA,OAAAA,EAASgI,CAAAA,CAAUhI,OAFd;AAGL3G,QAAAA,IAAAA,EAAMgP,CAAAA,CAAuBL,CAAvBK,CAHD;AAILC,QAAAA,QAAAA,EAAUN,CAAAA,CAAUG,KAJf;AAKLI,QAAAA,YAAAA,EAAcP;AALT,OAAP;AAiDF;;AAAA,aAASK,CAAT,CAAgCrL,CAAhC,EAAgCA;AAC9B,UAAI3D,CAAAA,GAAO2D,CAAAA,CAAM3D,IAAN2D,IAAcA,CAAAA,CAAM3D,IAAN2D,CAAWiB,MAAzBjB,IAAmCA,CAAAA,CAAM3D,IAApD;AAAA,UACIwP,CAAAA,GAAkB7L,CAAAA,CAAM8L,WAAN9L,CAAkB3D,IAAlB2D,IAA0BA,CAAAA,CAAM8L,WAAN9L,CAAkB3D,IAAlB2D,CAAuBiB,MAAjDjB,IAA2DA,CAAAA,CAAM8L,WAAN9L,CAAkB3D,IADnG;AAGA,aAAKA,CAAAA,IAASwP,CAATxP,GAIQ,YAATA,CAAS,GACJwP,CADI,GAGNxP,CAPFA,GACIA,CAAAA,IAAQwP,CADjB;AAUFtQ;;AAAAA,IAAAA,CAAAA,CAAOD,OAAPC,GAAiB;AACfkI,MAAAA,iBAAAA,EAhHF,YAAA;AACE,eAJqB,GAIrB;AAJqB,OAkHN;AAEfsI,MAAAA,eAAAA,EAlCF,UAAyBL,CAAzB,EAAyBA;AACvB,YAAA,CAAKA,CAAL,IAAKA,CAAWA,CAAAA,CAAO/M,KAAvB,EACE,OAAO,CAAC,uDAAD,EAA0D,EAA1D,CAAP;AAEF,YAAIgN,CAAAA,GAAgBD,CAAAA,CAAO/M,KAAP+M,CAAanB,CAAbmB,CAApB;AAAA,YACIE,CAAAA,GAAW,WADf;AAQA,eALID,CAAAA,KACFC,CAAAA,GAAWD,CAAAA,CAAcA,CAAAA,CAAc1K,MAAd0K,GAAuB,CAArCA,CAAXC,EAEAF,CAAAA,GAAAA,CADAA,CAAAA,GAASA,CAAAA,CAAO1M,OAAP0M,CAAO1M,CAAS2M,CAAAA,CAAcA,CAAAA,CAAc1K,MAAd0K,GAAuB,CAArCA,CAAAA,IAA2C,EAApD3M,IAA0D4M,CAA1D5M,GAAqE,GAA5E0M,EAAiF,EAAjFA,CACTA,EAAgB1M,OAAhB0M,CAAwB,kBAAxBA,EAA4C,EAA5CA,CAHEC,CAAAA,EAKG,CAACC,CAAD,EAAWF,CAAX,CAAP;AAAkBA,OAoBH;AAGf/H,MAAAA,aAAAA,EAAeA,CAHA;AAIfxF,MAAAA,KAAAA,EAzDF,UAAeoB,CAAf,EAAkB0L,CAAlB,EAAkBA;AAChB,YAAI7G,CAAAA,GAAM7E,CAAV;;AAEA,YAAI6E,CAAAA,CAAIoH,MAAR,EAAgB;AAEd,eADA,IAAIC,CAAAA,GAAa,EACjB,EAAOrH,CAAP,GACEqH,CAAAA,CAAW9J,IAAX8J,CAAgB,IAAIV,CAAJ,CAAU3G,CAAV,EAAe6G,CAAf,CAAhBQ,GACArH,CAAAA,GAAMA,CAAAA,CAAIoH,MADVC,EAGAR,CAAAA,GAAO,CAHPQ;;AAQF,iBADAA,CAAAA,CAAW,CAAXA,CAAAA,CAAcA,UAAdA,GAA2BA,CAA3BA,EACOA,CAAAA,CAAW,CAAXA,CAAP;AAEA;;AAAA,eAAO,IAAIV,CAAJ,CAAU3G,CAAV,EAAe6G,CAAf,CAAP;AAAsBA,OAqCT;AAKfF,MAAAA,KAAAA,EAAOA,CALQ;AAMfP,MAAAA,KAAAA,EAAOA;AANQ,KAAjBjP;AAMSiP,G;;;AC1HT,QAAIjB,CAAAA,GAAI,CAAA,CAAQ,CAAR,CAAR;AAAA,QACIyC,CAAAA,GAAW,CAAA,CAAQ,CAAR,CADf;;AAuDA,aAASE,CAAT,CAAmB1J,CAAnB,EAAwBV,CAAxB,EAAwBA;AACtB,UAAI2E,CAAAA,GAAO3E,CAAAA,CAAK4E,KAAL5E,CAAW,GAAXA,CAAX;AAAA,UACIqI,CAAAA,GAAO1D,CAAAA,CAAKxF,MAALwF,GAAc,CADzB;;AAEA,UAAA;AACE,aAAK,IAAI3K,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,IAAKqO,CAArB,EAAqBA,EAAQrO,CAA7B,EACMA,CAAAA,GAAIqO,CAAJrO,GACF0G,CAAAA,GAAMA,CAAAA,CAAIiE,CAAAA,CAAK3K,CAAL2K,CAAJjE,CADJ1G,GAGF0G,CAAAA,CAAIiE,CAAAA,CAAK3K,CAAL2K,CAAJjE,CAAAA,GAAe+G,CAAAA,CAAEN,MAAFM,EAHbzN;AAMN,OARF,CAQE,OAAOyD,CAAP,EAAOA,CAAAA;AA0BXhE;;AAAAA,IAAAA,CAAAA,CAAOD,OAAPC,GAzFA,UAAewK,CAAf,EAAqB8B,CAArB,EAAkCoE,CAAlC,EAAkCA;AAGhC,UAFApE,CAAAA,GAAcA,CAAAA,IAAe,EAA7BA,EAEIoE,CAAJ,EACE,KAAK,IAAInQ,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAImQ,CAAAA,CAAWhL,MAA/B,EAA+BA,EAAUnF,CAAzC,EACEoQ,CAAAA,CAAUnG,CAAVmG,EAAgBD,CAAAA,CAAWnQ,CAAXmQ,CAAhBC,CAAAA;;AAIJ,UAAIC,CAAAA,GA2DN,UAA8BtE,CAA9B,EAA8BA;AAG5B,aAFA,IACIoF,CADJ,EAAID,CAAAA,GAAM,EAAV,EAESlR,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAI+L,CAAAA,CAAY5G,MAAhC,EAAgCA,EAAUnF,CAA1C,EACEmR,CAAAA,GAAM,mBAAmBpF,CAAAA,CAAY/L,CAAZ+L,CAAnB,GAAoC,6BAA1CoF,EACAD,CAAAA,CAAIrL,IAAJqL,CAAS,IAAI9N,MAAJ,CAAW+N,CAAX,EAAgB,GAAhB,CAATD,CADAC;;AAGF,eAAOD,CAAP;AAlEeZ,OA2DjB,CA3DsCvE,CA2DtC,CA3DE;AAAA,UACIwE,CAAAA,GAqEN,UAAmCxE,CAAnC,EAAmCA;AAGjC,aAFA,IACIoF,CADJ,EAAID,CAAAA,GAAM,EAAV,EAESlR,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAI+L,CAAAA,CAAY5G,MAAhC,EAAgCA,EAAUnF,CAA1C,EACEmR,CAAAA,GAAM,kBAAkBpF,CAAAA,CAAY/L,CAAZ+L,CAAlB,GAAmC,4BAAzCoF,EACAD,CAAAA,CAAIrL,IAAJqL,CAAS,IAAI9N,MAAJ,CAAW,MAAM+N,CAAN,GAAY,cAAvB,EAAuC,KAAvC,CAATD,CADAC;;AAGF,eAAOD,CAAP;AA5EeV,OAqEjB,CArE2CzE,CAqE3C,CAtEE;;AAGA,eAAS0E,CAAT,CAA0BC,CAA1B,EAAkCC,CAAlC,EAAkCA;AAChC,eAAOA,CAAAA,GAAYlD,CAAAA,CAAEN,MAAFM,EAAnB;AAoCF;;AAAA,aAAOyC,CAAAA,CAASjG,CAATiG,EAZP,SAASW,CAAT,CAAkBjL,CAAlB,EAAqBgL,CAArB,EAAwBE,CAAxB,EAAwBA;AACtB,YAAIC,CAAAA,GAZN,UAAqBnL,CAArB,EAAwBgL,CAAxB,EAAwBA;AACtB,cAAI5Q,CAAJ;;AACA,eAAKA,CAAAA,GAAI,CAAT,EAAYA,CAAAA,GAAIqQ,CAAAA,CAASlL,MAAzB,EAAyBA,EAAUnF,CAAnC,EACE,IAAIqQ,CAAAA,CAASrQ,CAATqQ,CAAAA,CAAY/M,IAAZ+M,CAAiBzK,CAAjByK,CAAJ,EAAyB;AACvBO,YAAAA,CAAAA,GAAInD,CAAAA,CAAEN,MAAFM,EAAJmD;AACA;AAGJ;;AAAA,iBAAOA,CAAP;AAIWI,SAZb,CAYyBpL,CAZzB,EAY4BgL,CAZ5B,CAYE;;AACA,eAAIG,CAAAA,KAASH,CAATG,GACEtD,CAAAA,CAAEjL,MAAFiL,CAASmD,CAATnD,EAAY,QAAZA,KAAyBA,CAAAA,CAAEjL,MAAFiL,CAASmD,CAATnD,EAAY,OAAZA,CAAzBA,GACKyC,CAAAA,CAASU,CAATV,EAAYW,CAAZX,EAAsBY,CAAtBZ,CADLzC,GAxBR,UAAuBmD,CAAvB,EAAuBA;AACrB,cAAI5Q,CAAJ;AACA,cAAIyN,CAAAA,CAAEjL,MAAFiL,CAASmD,CAATnD,EAAY,QAAZA,CAAJ,EACE,KAAKzN,CAAAA,GAAI,CAAT,EAAYA,CAAAA,GAAIuQ,CAAAA,CAASpL,MAAzB,EAAyBA,EAAUnF,CAAnC,EACE4Q,CAAAA,GAAIA,CAAAA,CAAE1N,OAAF0N,CAAUL,CAAAA,CAASvQ,CAATuQ,CAAVK,EAAuBH,CAAvBG,CAAJA;AAGJ,iBAAOA,CAAP;AAoBSK,SA3BX,CA2ByBF,CA3BzB,CAuBMA,GAMKA,CANT;AAMSA,OAIJb,CAAP;AAJWa,KA4CbtR;AA5CasR,G;;;AChDb,QAAItD,CAAAA,GAAI,CAAA,CAAQ,CAAR,CAAR;;AAoDAhO,IAAAA,CAAAA,CAAOD,OAAPC,GAlDA,UAAkBiH,CAAlB,EAAuBgB,CAAvB,EAA6BoJ,CAA7B,EAA6BA;AAC3B,UAAIlL,CAAJ;AAAA,UAAOgL,CAAP;AAAA,UAAU5Q,CAAV;AAAA,UAIIsR,CAJJ;AAAA,UACIF,CAAAA,GAAQ3D,CAAAA,CAAEjL,MAAFiL,CAAS/G,CAAT+G,EAAc,QAAdA,CADZ;AAAA,UAEI4D,CAAAA,GAAU5D,CAAAA,CAAEjL,MAAFiL,CAAS/G,CAAT+G,EAAc,OAAdA,CAFd;AAAA,UAGI9C,CAAAA,GAAO,EAHX;;AASA,UAFAmG,CAAAA,GAAOA,CAAAA,IAAQ;AAAEpK,QAAAA,GAAAA,EAAK,EAAP;AAAW6K,QAAAA,MAAAA,EAAQ;AAAnB,OAAfT,EAEIM,CAAJ,EAAW;AAGT,YAFAE,CAAAA,GAAYR,CAAAA,CAAKpK,GAALoK,CAAS5K,OAAT4K,CAAiBpK,CAAjBoK,CAAZQ,EAEIF,CAAAA,IAAAA,CAAwB,CAAxBA,KAASE,CAAb,EAEE,OAAOR,CAAAA,CAAKS,MAALT,CAAYQ,CAAZR,KAA0BA,CAAAA,CAAKpK,GAALoK,CAASQ,CAATR,CAAjC;AAGFA,QAAAA,CAAAA,CAAKpK,GAALoK,CAASjL,IAATiL,CAAcpK,CAAdoK,GACAQ,CAAAA,GAAYR,CAAAA,CAAKpK,GAALoK,CAAS3L,MAAT2L,GAAkB,CAD9BA;AAIF;;AAAA,UAAIM,CAAJ,EACE,KAAKxL,CAAL,IAAUc,CAAV,EACMhG,MAAAA,CAAOkB,SAAPlB,CAAiBmB,cAAjBnB,CAAgCP,IAAhCO,CAAqCgG,CAArChG,EAA0CkF,CAA1ClF,KACFiK,CAAAA,CAAK9E,IAAL8E,CAAU/E,CAAV+E,CADEjK,CAFR,KAMO,IAAI2Q,CAAJ,EACL,KAAKrR,CAAAA,GAAI,CAAT,EAAYA,CAAAA,GAAI0G,CAAAA,CAAIvB,MAApB,EAAoBA,EAAUnF,CAA9B,EACE2K,CAAAA,CAAK9E,IAAL8E,CAAU3K,CAAV2K;AAIJ,UAAIlE,CAAAA,GAAS2K,CAAAA,GAAQ,EAARA,GAAa,EAA1B;AAAA,UACII,CAAAA,GAAAA,CAAO,CADX;;AAEA,WAAKxR,CAAAA,GAAI,CAAT,EAAYA,CAAAA,GAAI2K,CAAAA,CAAKxF,MAArB,EAAqBA,EAAUnF,CAA/B,EAEE4Q,CAAAA,GAAIlK,CAAAA,CADJd,CAAAA,GAAI+E,CAAAA,CAAK3K,CAAL2K,CACAjE,CAAJkK,EACAnK,CAAAA,CAAOb,CAAPa,CAAAA,GAAYiB,CAAAA,CAAK9B,CAAL8B,EAAQkJ,CAARlJ,EAAWoJ,CAAXpJ,CADZkJ,EAEAY,CAAAA,GAAOA,CAAAA,IAAQ/K,CAAAA,CAAOb,CAAPa,CAAAA,KAAcC,CAAAA,CAAId,CAAJc,CAF7BkK;;AASF,aAJIQ,CAAAA,IAAAA,CAAUI,CAAVJ,KACFN,CAAAA,CAAKS,MAALT,CAAYQ,CAAZR,IAAyBrK,CADvB2K,GAIII,CAAAA,GAAgB9K,CAAhB8K,GAAO/K,CAAf;AAAeA,KAGjBhH;AAHiBgH,G;;;;;ACjDjB,QAAIgL,CAAAA,GAAU,CAAA,CAAQ,CAAR,CAAd;AAAA,QAEIjM,CAAAA,GAA6B,eAAA,OAAXyC,MAAW,IAAgBA,MAAAA,CAAOyJ,cAFxD;AAAA,QAGIC,CAAAA,GAAQnM,CAAAA,IAAWA,CAAAA,CAAQoM,WAAnBpM,IAAkC,SAH9C;AAAA,QAIIqM,CAAAA,GAAiC,eAAA,OAAX5J,MAAW,IAAgBA,MAAAA,CAAO0J,CAAP1J,CAAhB,IAAiE,cAAA,OAAzBA,MAAAA,CAAO0J,CAAP1J,CAAAA,CAAc6J,MAAtD,IAAsDA,KAAoDxI,CAApDwI,KAAyB7J,MAAAA,CAAO0J,CAAP1J,CAAAA,CAAc6J,MAAd7J,EAJpH;;AAUA,QAJuB,eAAA,OAAXA,MAAW,IAAiBA,MAAAA,CAAO8J,iBAAxB,KACrB9J,MAAAA,CAAO8J,iBAAP9J,GAA2B,IAAK+C,IAAL,EAApB+G,CAAiCC,OAAjCD,EADc,GACmBC,CAGrCH,CAHqCG,IAGtBxM,CAApB,EAA6B;AAC3B,UAAIyM,CAAAA,GAAU,IAAIR,CAAJ,CAAYjM,CAAZ,CAAd;AACAyC,MAAAA,MAAAA,CAAO0J,CAAP1J,CAAAA,GAAgBgK,CAAhBhK;AAAgBgK,KAFlB,MAG6B,eAAA,OAAXhK,MAAW,IAC3BA,MAAAA,CAAOwJ,OAAPxJ,GAAiBwJ,CAAjBxJ,EACAA,MAAAA,CAAOiK,eAAPjK,GAAOiK,CAAkB,CAFE,IAGF,eAAA,OAATC,IAAS,KACzBA,IAAAA,CAAKV,OAALU,GAAeV,CAAfU,EACAA,IAAAA,CAAKD,eAALC,GAAKD,CAAkB,CAFE,CAHE;;AAQ7BzS,IAAAA,CAAAA,CAAOD,OAAPC,GAAiBgS,CAAjBhS;AAAiBgS,G;;;ACrBjB,QAAIQ,CAAAA,GAAU,CAAA,CAAQ,CAAR,CAAd;AAAA,QACIG,CAAAA,GAAY,CAAA,CAAQ,EAAR,CADhB;AAAA,QAEIC,CAAAA,GAAe,CAAA,CAAQ,EAAR,CAFnB;AAAA,QAGInQ,CAAAA,GAAe,CAAA,CAAQ,EAAR,CAHnB;AAAA,QAIIoQ,CAAAA,GAAc,CAAA,CAAQ,EAAR,CAJlB;AAAA,QAKIC,CAAAA,GAAQ,CAAA,CAAQ,CAAR,CALZ;AAAA,QAMIC,CAAAA,GAAa,CAAA,CAAQ,EAAR,CANjB;AAQAP,IAAAA,CAAAA,CAAQQ,aAARR,CAAsB;AACpBG,MAAAA,SAAAA,EAAWA,CADS;AAEpBC,MAAAA,YAAAA,EAAcA,CAFM;AAGpBnQ,MAAAA,YAAAA,EAAcA,CAHM;AAIpBoQ,MAAAA,WAAAA,EAAaA,CAJO;AAKpBC,MAAAA,KAAAA,EAAOA,CALa;AAMpBC,MAAAA,UAAAA,EAAYA;AANQ,KAAtBP,GASAxS,CAAAA,CAAOD,OAAPC,GAAiBwS,CATjBA;AASiBA,G;;;ACjBjB,QAAIS,CAAAA,GAAS,CAAA,CAAQ,EAAR,CAAb;AAAA,QACIjF,CAAAA,GAAI,CAAA,CAAQ,CAAR,CADR;AAAA,QAEIkF,CAAAA,GAAM,CAAA,CAAQ,EAAR,CAFV;AAAA,QAGItK,CAAAA,GAAS,CAAA,CAAQ,CAAR,CAHb;AAAA,QAIIuK,CAAAA,GAAU,CAAA,CAAQ,EAAR,CAJd;AAAA,QAMIC,CAAAA,GAAY,CAAA,CAAQ,EAAR,CANhB;AAAA,QAOIC,CAAAA,GAAS,CAAA,CAAQ,CAAR,CAPb;AAAA,QASIC,CAAAA,GAAa,CAAA,CAAQ,EAAR,CATjB;AAAA,QAUIC,CAAAA,GAAmB,CAAA,CAAQ,EAAR,CAVvB;AAAA,QAWIC,CAAAA,GAAa,CAAA,CAAQ,EAAR,CAXjB;AAAA,QAYIC,CAAAA,GAAmB,CAAA,CAAQ,EAAR,CAZvB;AAAA,QAaI5L,CAAAA,GAAc,CAAA,CAAQ,CAAR,CAblB;;AAeA,aAAS2K,CAAT,CAAiBzM,CAAjB,EAA0B2N,CAA1B,EAA0BA;AACxBvT,WAAK4F,OAAL5F,GAAe6N,CAAAA,CAAEb,aAAFa,CAAgB2F,CAAhB3F,EAAgCjI,CAAhCiI,EAAyC,IAAzCA,EAA+CpF,CAA/CoF,CAAf7N,EACAA,KAAK4F,OAAL5F,CAAayT,kBAAbzT,GAAkC4F,CADlC5F;AAEA,UAAI0T,CAAAA,GAAY1T,KAAK2T,UAAL3T,CAAgBwS,SAAhC;AAAA,UACIoB,CAAAA,GAAe5T,KAAK2T,UAAL3T,CAAgByS,YADnC;AAAA,UAEInQ,CAAAA,GAAetC,KAAK2T,UAAL3T,CAAgBsC,YAFnC;AAGAtC,WAAK0S,WAAL1S,GAAmBA,KAAK2T,UAAL3T,CAAgB0S,WAAnC1S,EACAA,KAAK2S,KAAL3S,GAAaA,KAAK2T,UAAL3T,CAAgB2S,KAD7B3S;AAEA,UAAI4S,CAAAA,GAAa5S,KAAK2T,UAAL3T,CAAgB4S,UAAjC;AAAA,UAEIiB,CAAAA,GAAY,IAAIZ,CAAJ,CAAcL,CAAd,CAFhB;AAAA,UAGIkB,CAAAA,GAAM,IAAIf,CAAJ,CAAQ/S,KAAK4F,OAAb,EAAsBiO,CAAtB,EAAiCX,CAAjC,EAAyCN,CAAzC,CAHV;AAIIc,MAAAA,CAAAA,KACF1T,KAAKwS,SAALxS,GAAiB,IAAI0T,CAAJ,CAAc1T,KAAK4F,OAAnB,CADf8N,CAAAA,EAGJ1T,KAAKuT,MAALvT,GAAcuT,CAAAA,IAAU,IAAIT,CAAJ,CAAW9S,KAAK4F,OAAhB,EAAyBkO,CAAzB,EAA8BrL,CAA9B,EAAsCzI,KAAKwS,SAA3C,EAAsD,SAAtD,CAHpBkB;AAIJ,UAAIK,CAAAA,GAAUC,CAAAA,EAAd;AAAA,UACIC,CAAAA,GAAgC,eAAA,OAAZ9L,QAAY,IAAgBA,QADpD;AAEAnI,WAAKkU,QAALlU,GAAgB+T,CAAAA,CAAQI,MAARJ,IAAkBA,CAAAA,CAAQI,MAARJ,CAAeK,OAAjDpU,EACAA,KAAKqU,sBAALrU,GAA8B,CAD9BA,EAucF,UAAiC6I,CAAjC,EAA2CgJ,CAA3C,EAAoDkC,CAApD,EAAoDA;AAClDlL,QAAAA,CAAAA,CACGiP,YADHjP,CACgBsK,CAAAA,CAAW4E,kBAD3BlP,EAEGiP,YAFHjP,CAEgBsK,CAAAA,CAAW6E,mBAF3BnP,EAGGiP,YAHHjP,CAGgBsK,CAAAA,CAAW8E,2BAH3BpP,EAIGiP,YAJHjP,CAIgBsK,CAAAA,CAAW+E,WAJ3BrP,EAKGiP,YALHjP,CAKgBsK,CAAAA,CAAWgF,cAAXhF,CAA0BY,CAA1BZ,CALhBtK,EAMGiP,YANHjP,CAMgBsK,CAAAA,CAAWiF,aAAXjF,CAAyBY,CAAzBZ,CANhBtK,EAOGiP,YAPHjP,CAOgBsK,CAAAA,CAAWkF,aAAXlF,CAAyBY,CAAzBZ,CAPhBtK,EAQGiP,YARHjP,CAQgBsK,CAAAA,CAAWmF,OAR3BzP,EASGiP,YATHjP,CASgBuK,CAAAA,CAAiBmF,mBATjC1P,EAUGiP,YAVHjP,CAUgBuK,CAAAA,CAAiBoF,gBAVjC3P,EAWGiP,YAXHjP,CAWgBuK,CAAAA,CAAiBqF,kBAXjC5P,EAYGiP,YAZHjP,CAYgBsK,CAAAA,CAAWuF,WAAXvF,CAAuBtB,CAAAA,CAAQc,KAA/BQ,CAZhBtK,EAaGiP,YAbHjP,CAagBuK,CAAAA,CAAiBuF,aAAjBvF,CAA+B3K,CAA/B2K,CAbhBvK,EAcGiP,YAdHjP,CAcgBuK,CAAAA,CAAiBwF,oBAdjC/P,EAeGiP,YAfHjP,CAegBuK,CAAAA,CAAiByF,iBAfjChQ,EAgBGiP,YAhBHjP,CAgBgBuK,CAAAA,CAAiB0F,aAhBjCjQ;AAtcAyL,OAqcF,CArc0BtU,KAAKuT,MAALvT,CAAY6I,QAqctC,EArcgD7I,IAqchD,EArcsD+T,CAqctD,CAvcE/T,EAGqBA,KAAKuT,MAALvT,CAAYuU,KAAZvU,CA0dlB+Y,YA1dkB/Y,CA0dLsT,CAAAA,CAAiB0F,UA1dZhZ,EA2dlB+Y,YA3dkB/Y,CA2dLqT,CAAAA,CAAW4F,WA3dNjZ,EA4dlB+Y,YA5dkB/Y,CA4dLsT,CAAAA,CAAiB4F,eAAjB5F,CAAiC7K,CAAjC6K,CA5dKtT,EA6dlB+Y,YA7dkB/Y,CA6dLsT,CAAAA,CAAiB6F,mBAAjB7F,CAAqC7K,CAArC6K,CA7dKtT,EA8dlB+Y,YA9dkB/Y,CA8dLsT,CAAAA,CAAiB8F,eAAjB9F,CAAiC7K,CAAjC6K,CA9dKtT,EA+dlB+Y,YA/dkB/Y,CA+dLsT,CAAAA,CAAiB+F,gBAAjB/F,CAAkC7K,CAAlC6K,CA/dKtT,CAHrBA,EAIAA,KAAKwU,qBAALxU,EAJAA,EAKI4T,CAAAA,KACF5T,KAAKyS,YAALzS,GAAoB,IAAI4T,CAAJ,CAAiB5T,KAAK4F,OAAtB,EAA+B5F,KAAKuT,MAALvT,CAAYwS,SAA3C,EAAsDxS,IAAtD,EAA4D+T,CAA5D,EAAqEE,CAArE,CAApBjU,EACAA,KAAKyS,YAALzS,CAAkByU,UAAlBzU,EAFE4T,CALJ5T,EASA6N,CAAAA,CAAEH,SAAFG,CAAYvL,CAAZuL,CATA7N;AAYF;;AAAA,QAAI0U,CAAAA,GAAY,IAAhB;;AAeA,aAASI,CAAT,CAA6BC,CAA7B,EAA6BA;AAC3B,UAAIzN,CAAAA,GAAU,4BAAd;AACAmB,MAAAA,CAAAA,CAAOnE,KAAPmE,CAAanB,CAAbmB,GACIsM,CAAAA,IACFA,CAAAA,CAAc,IAAIhS,KAAJ,CAAUuE,CAAV,CAAdyN,CAFFtM;AAgdF;;AAAA,aAAS2M,CAAT,CAA2BxM,CAA3B,EAA2BA;AACzB,WAAK,IAAIxI,CAAAA,GAAI,CAAR,EAAWqJ,CAAAA,GAAMb,CAAAA,CAAKrD,MAA3B,EAAmCnF,CAAAA,GAAIqJ,CAAvC,EAAuCA,EAAOrJ,CAA9C,EACE,IAAIyN,CAAAA,CAAEtL,UAAFsL,CAAajF,CAAAA,CAAKxI,CAALwI,CAAbiF,CAAJ,EACE,OAAOjF,CAAAA,CAAKxI,CAALwI,CAAP;AAMN;;AAAA,aAASoL,CAAT,GAASA;AACP,aAA0B,eAAA,OAAV3L,MAAU,IAAgBA,MAAhB,IAA4C,eAAA,OAARkK,IAAQ,IAAgBA,IAAtF;AA1eFF;;AAAAA,IAAAA,CAAAA,CAAQsC,IAARtC,GAAe,UAASzM,CAAT,EAAkB2N,CAAlB,EAAkBA;AAC/B,aAAImB,CAAAA,GACKA,CAAAA,CAAUE,MAAVF,CAAiB9O,CAAjB8O,EAA0BG,SAA1BH,CAAoC9O,CAApC8O,CADLA,GAGJA,CAAAA,GAAY,IAAIrC,CAAJ,CAAYzM,CAAZ,EAAqB2N,CAArB,CAHZ;AAGiCA,KAJnClB,EAQAA,CAAAA,CAAQrQ,SAARqQ,CAAkBsB,UAAlBtB,GAA+B,EAR/BA,EAUAA,CAAAA,CAAQQ,aAARR,GAAwB,UAASsB,CAAT,EAASA;AAC/BtB,MAAAA,CAAAA,CAAQrQ,SAARqQ,CAAkBsB,UAAlBtB,GAA+BsB,CAA/BtB;AAA+BsB,KAXjCtB,EAsBAA,CAAAA,CAAQrQ,SAARqQ,CAAkBuC,MAAlBvC,GAA2B,UAASzM,CAAT,EAASA;AAElC,aADA5F,KAAKuT,MAALvT,CAAY4U,MAAZ5U,CAAmB4F,CAAnB5F,GACOA,IAAP;AAAOA,KAxBTqS,EA0BAA,CAAAA,CAAQuC,MAARvC,GAAiB,UAASzM,CAAT,EAASA;AACxB,UAAI8O,CAAJ,EACE,OAAOA,CAAAA,CAAUE,MAAVF,CAAiB9O,CAAjB8O,CAAP;AAEAI,MAAAA,CAAAA;AAAAA,KA9BJzC,EAkCAA,CAAAA,CAAQrQ,SAARqQ,CAAkBwC,SAAlBxC,GAA8B,UAASzM,CAAT,EAAkBoP,CAAlB,EAAkBA;AAC9C,UAAIC,CAAAA,GAAajV,KAAK4F,OAAtB;AAAA,UACIoG,CAAAA,GAAU,EADd;AAUA,aARIgJ,CAAAA,KACFhJ,CAAAA,GAAU;AAACA,QAAAA,OAAAA,EAASgJ;AAAV,OADRA,CAAAA,EAGJhV,KAAK4F,OAAL5F,GAAe6N,CAAAA,CAAEb,aAAFa,CAAgBoH,CAAhBpH,EAA4BjI,CAA5BiI,EAAqC7B,CAArC6B,EAA8CpF,CAA9CoF,CAHXmH,EAIJhV,KAAK4F,OAAL5F,CAAayT,kBAAbzT,GAAkC6N,CAAAA,CAAEb,aAAFa,CAAgBoH,CAAAA,CAAWxB,kBAA3B5F,EAA+CjI,CAA/CiI,EAAwD7B,CAAxD6B,CAJ9BmH,EAKJhV,KAAKuT,MAALvT,CAAY6U,SAAZ7U,CAAsBA,KAAK4F,OAA3B5F,EAAoCgV,CAApChV,CALIgV,EAMJhV,KAAKyS,YAALzS,IAAqBA,KAAKyS,YAALzS,CAAkB6U,SAAlB7U,CAA4BA,KAAK4F,OAAjC5F,CANjBgV,EAOJhV,KAAKwU,qBAALxU,EAPIgV,EAQGhV,IAAP;AAAOA,KA7CTqS,EA+CAA,CAAAA,CAAQwC,SAARxC,GAAoB,UAASzM,CAAT,EAAkBoP,CAAlB,EAAkBA;AACpC,UAAIN,CAAJ,EACE,OAAOA,CAAAA,CAAUG,SAAVH,CAAoB9O,CAApB8O,EAA6BM,CAA7BN,CAAP;AAEAI,MAAAA,CAAAA;AAAAA,KAnDJzC,EAuDAA,CAAAA,CAAQrQ,SAARqQ,CAAkB6C,SAAlB7C,GAA8B,YAAA;AAC5B,aAAOrS,KAAKuT,MAALvT,CAAYkV,SAAnB;AAAmBA,KAxDrB7C,EA0DAA,CAAAA,CAAQ6C,SAAR7C,GAAoB,YAAA;AAClB,UAAIqC,CAAJ,EACE,OAAOA,CAAAA,CAAUQ,SAAVR,EAAP;AAEAI,MAAAA,CAAAA;AAAAA,KA9DJzC,EAkEAA,CAAAA,CAAQrQ,SAARqQ,CAAkB/F,GAAlB+F,GAAwB,YAAA;AACtB,UAAI1I,CAAAA,GAAO3J,KAAKmV,WAALnV,CAAiB+N,SAAjB/N,CAAX;AAAA,UACI8J,CAAAA,GAAOH,CAAAA,CAAKG,IADhB;;AAGA,aADA9J,KAAKuT,MAALvT,CAAYsM,GAAZtM,CAAgB2J,CAAhB3J,GACO;AAAC8J,QAAAA,IAAAA,EAAMA;AAAP,OAAP;AAAcA,KAtEhBuI,EAwEAA,CAAAA,CAAQ/F,GAAR+F,GAAc,YAAA;AACZ,UAAIqC,CAAJ,EACE,OAAOA,CAAAA,CAAUpI,GAAVoI,CAAcvG,KAAduG,CAAoBA,CAApBA,EAA+B3G,SAA/B2G,CAAP;AAEA,UAAIK,CAAAA,GAAgBK,CAAAA,CAAkBrH,SAAlBqH,CAApB;AACAN,MAAAA,CAAAA,CAAoBC,CAApBD,CAAAA;AAAoBC,KA7ExB1C,EAiFAA,CAAAA,CAAQrQ,SAARqQ,CAAkBlO,KAAlBkO,GAA0B,YAAA;AACxB,UAAI1I,CAAAA,GAAO3J,KAAKmV,WAALnV,CAAiB+N,SAAjB/N,CAAX;AAAA,UACI8J,CAAAA,GAAOH,CAAAA,CAAKG,IADhB;;AAGA,aADA9J,KAAKuT,MAALvT,CAAYmE,KAAZnE,CAAkB2J,CAAlB3J,GACO;AAAC8J,QAAAA,IAAAA,EAAMA;AAAP,OAAP;AAAcA,KArFhBuI,EAuFAA,CAAAA,CAAQlO,KAARkO,GAAgB,YAAA;AACd,UAAIqC,CAAJ,EACE,OAAOA,CAAAA,CAAUvQ,KAAVuQ,CAAgBvG,KAAhBuG,CAAsBA,CAAtBA,EAAiC3G,SAAjC2G,CAAP;AAEA,UAAIK,CAAAA,GAAgBK,CAAAA,CAAkBrH,SAAlBqH,CAApB;AACAN,MAAAA,CAAAA,CAAoBC,CAApBD,CAAAA;AAAoBC,KA5FxB1C,EAgGAA,CAAAA,CAAQrQ,SAARqQ,CAAkBjO,IAAlBiO,GAAyB,YAAA;AACvB,UAAI1I,CAAAA,GAAO3J,KAAKmV,WAALnV,CAAiB+N,SAAjB/N,CAAX;AAAA,UACI8J,CAAAA,GAAOH,CAAAA,CAAKG,IADhB;;AAGA,aADA9J,KAAKuT,MAALvT,CAAYoE,IAAZpE,CAAiB2J,CAAjB3J,GACO;AAAC8J,QAAAA,IAAAA,EAAMA;AAAP,OAAP;AAAcA,KApGhBuI,EAsGAA,CAAAA,CAAQjO,IAARiO,GAAe,YAAA;AACb,UAAIqC,CAAJ,EACE,OAAOA,CAAAA,CAAUtQ,IAAVsQ,CAAevG,KAAfuG,CAAqBA,CAArBA,EAAgC3G,SAAhC2G,CAAP;AAEA,UAAIK,CAAAA,GAAgBK,CAAAA,CAAkBrH,SAAlBqH,CAApB;AACAN,MAAAA,CAAAA,CAAoBC,CAApBD,CAAAA;AAAoBC,KA3GxB1C,EA+GAA,CAAAA,CAAQrQ,SAARqQ,CAAkBgD,IAAlBhD,GAAyB,YAAA;AACvB,UAAI1I,CAAAA,GAAO3J,KAAKmV,WAALnV,CAAiB+N,SAAjB/N,CAAX;AAAA,UACI8J,CAAAA,GAAOH,CAAAA,CAAKG,IADhB;;AAGA,aADA9J,KAAKuT,MAALvT,CAAYqV,IAAZrV,CAAiB2J,CAAjB3J,GACO;AAAC8J,QAAAA,IAAAA,EAAMA;AAAP,OAAP;AAAcA,KAnHhBuI,EAqHAA,CAAAA,CAAQgD,IAARhD,GAAe,YAAA;AACb,UAAIqC,CAAJ,EACE,OAAOA,CAAAA,CAAUW,IAAVX,CAAevG,KAAfuG,CAAqBA,CAArBA,EAAgC3G,SAAhC2G,CAAP;AAEA,UAAIK,CAAAA,GAAgBK,CAAAA,CAAkBrH,SAAlBqH,CAApB;AACAN,MAAAA,CAAAA,CAAoBC,CAApBD,CAAAA;AAAoBC,KA1HxB1C,EA8HAA,CAAAA,CAAQrQ,SAARqQ,CAAkBhO,OAAlBgO,GAA4B,YAAA;AAC1B,UAAI1I,CAAAA,GAAO3J,KAAKmV,WAALnV,CAAiB+N,SAAjB/N,CAAX;AAAA,UACI8J,CAAAA,GAAOH,CAAAA,CAAKG,IADhB;;AAGA,aADA9J,KAAKuT,MAALvT,CAAYqE,OAAZrE,CAAoB2J,CAApB3J,GACO;AAAC8J,QAAAA,IAAAA,EAAMA;AAAP,OAAP;AAAcA,KAlIhBuI,EAoIAA,CAAAA,CAAQhO,OAARgO,GAAkB,YAAA;AAChB,UAAIqC,CAAJ,EACE,OAAOA,CAAAA,CAAUrQ,OAAVqQ,CAAkBvG,KAAlBuG,CAAwBA,CAAxBA,EAAmC3G,SAAnC2G,CAAP;AAEA,UAAIK,CAAAA,GAAgBK,CAAAA,CAAkBrH,SAAlBqH,CAApB;AACAN,MAAAA,CAAAA,CAAoBC,CAApBD,CAAAA;AAAoBC,KAzIxB1C,EA6IAA,CAAAA,CAAQrQ,SAARqQ,CAAkB/N,KAAlB+N,GAA0B,YAAA;AACxB,UAAI1I,CAAAA,GAAO3J,KAAKmV,WAALnV,CAAiB+N,SAAjB/N,CAAX;AAAA,UACI8J,CAAAA,GAAOH,CAAAA,CAAKG,IADhB;;AAGA,aADA9J,KAAKuT,MAALvT,CAAYsE,KAAZtE,CAAkB2J,CAAlB3J,GACO;AAAC8J,QAAAA,IAAAA,EAAMA;AAAP,OAAP;AAAcA,KAjJhBuI,EAmJAA,CAAAA,CAAQ/N,KAAR+N,GAAgB,YAAA;AACd,UAAIqC,CAAJ,EACE,OAAOA,CAAAA,CAAUpQ,KAAVoQ,CAAgBvG,KAAhBuG,CAAsBA,CAAtBA,EAAiC3G,SAAjC2G,CAAP;AAEA,UAAIK,CAAAA,GAAgBK,CAAAA,CAAkBrH,SAAlBqH,CAApB;AACAN,MAAAA,CAAAA,CAAoBC,CAApBD,CAAAA;AAAoBC,KAxJxB1C,EA4JAA,CAAAA,CAAQrQ,SAARqQ,CAAkB9N,QAAlB8N,GAA6B,YAAA;AAC3B,UAAI1I,CAAAA,GAAO3J,KAAKmV,WAALnV,CAAiB+N,SAAjB/N,CAAX;AAAA,UACI8J,CAAAA,GAAOH,CAAAA,CAAKG,IADhB;;AAGA,aADA9J,KAAKuT,MAALvT,CAAYuE,QAAZvE,CAAqB2J,CAArB3J,GACO;AAAC8J,QAAAA,IAAAA,EAAMA;AAAP,OAAP;AAAcA,KAhKhBuI,EAkKAA,CAAAA,CAAQ9N,QAAR8N,GAAmB,YAAA;AACjB,UAAIqC,CAAJ,EACE,OAAOA,CAAAA,CAAUnQ,QAAVmQ,CAAmBvG,KAAnBuG,CAAyBA,CAAzBA,EAAoC3G,SAApC2G,CAAP;AAEA,UAAIK,CAAAA,GAAgBK,CAAAA,CAAkBrH,SAAlBqH,CAApB;AACAN,MAAAA,CAAAA,CAAoBC,CAApBD,CAAAA;AAAoBC,KAvKxB1C,EA2KAA,CAAAA,CAAQrQ,SAARqQ,CAAkBiD,gBAAlBjD,GAAqC,UAAS1I,CAAT,EAASA;AAC5C,aAAO3J,KAAKuT,MAALvT,CAAYsV,gBAAZtV,CAA6B2J,CAA7B3J,CAAP;AAAoC2J,KA5KtC0I,EA8KAA,CAAAA,CAAQiD,gBAARjD,GAA2B,YAAA;AACzB,UAAIqC,CAAJ,EACE,OAAOA,CAAAA,CAAUY,gBAAVZ,CAA2BvG,KAA3BuG,CAAiCA,CAAjCA,EAA4C3G,SAA5C2G,CAAP;AAEAI,MAAAA,CAAAA;AAAAA,KAlLJzC,EAsLAA,CAAAA,CAAQrQ,SAARqQ,CAAkBkD,eAAlBlD,GAAoC,UAASmD,CAAT,EAASA;AAC3C,aAAOxV,KAAKuT,MAALvT,CAAYuV,eAAZvV,CAA4BwV,CAA5BxV,CAAP;AAAmCwV,KAvLrCnD,EAyLAA,CAAAA,CAAQkD,eAARlD,GAA0B,YAAA;AACxB,UAAIqC,CAAJ,EACE,OAAOA,CAAAA,CAAUa,eAAVb,CAA0BvG,KAA1BuG,CAAgCA,CAAhCA,EAA2C3G,SAA3C2G,CAAP;AAEAI,MAAAA,CAAAA;AAAAA,KA7LJzC,EAiMAA,CAAAA,CAAQrQ,SAARqQ,CAAkBmC,qBAAlBnC,GAA0C,YAAA;AACxC,UAAI0B,CAAAA,GAAUC,CAAAA,EAAd;AAEKhU,WAAKyV,8BAALzV,IAAKyV,CACJzV,KAAK4F,OAAL5F,CAAa0V,eAAb1V,IAAgCA,KAAK4F,OAAL5F,CAAa2V,wBADzCF,MAENzC,CAAAA,CAAQ4C,yBAAR5C,CAAkCe,CAAlCf,EAA2ChT,IAA3CgT,GACIhT,KAAK0S,WAAL1S,IAAoBA,KAAK4F,OAAL5F,CAAa6V,uBAAjC7V,IACFA,KAAK0S,WAAL1S,CAAiB+T,CAAjB/T,EAA0BA,IAA1BA,CAFFgT,EAIAhT,KAAKyV,8BAALzV,GAAKyV,CAAiC,CANhCA,CAALzV,EASAA,KAAK8V,8BAAL9V,IAAK8V,CACJ9V,KAAK4F,OAAL5F,CAAa+V,0BAAb/V,IAA2CA,KAAK4F,OAAL5F,CAAagW,yBADpDF,MAEN9C,CAAAA,CAAQ+C,0BAAR/C,CAAmCe,CAAnCf,EAA4ChT,IAA5CgT,GACAhT,KAAK8V,8BAAL9V,GAAK8V,CAAiC,CAHhCA,CATL9V;AAYqC,KAhN5CqS,EAqNAA,CAAAA,CAAQrQ,SAARqQ,CAAkB4D,uBAAlB5D,GAA4C,UAAS/K,CAAT,EAAkB9C,CAAlB,EAAuB+C,CAAvB,EAA+BC,CAA/B,EAAsClD,CAAtC,EAA6C0D,CAA7C,EAA6CA;AACvF,UAAKhI,KAAK4F,OAAL5F,CAAa0V,eAAb1V,IAAiCA,KAAK4F,OAAL5F,CAAa2V,wBAAnD,EAAA;AAMA,YAAI3V,KAAK4F,OAAL5F,CAAakW,sBAAblW,IAAuCA,KAAKkU,QAA5ClU,IAAmE,SAAVsE,CAA7D,EACE,OAAO,WAAP;AAGF,YAAIqF,CAAJ;AAAA,YACIwM,CAAAA,GAAYtI,CAAAA,CAAEP,sBAAFO,CACdvG,CADcuG,EAEdrJ,CAFcqJ,EAGdtG,CAHcsG,EAIdrG,CAJcqG,EAKdvJ,CALcuJ,EAMd,SANcA,EAOd,oBAPcA,EAQdnG,CARcmG,CADhB;AAWIA,QAAAA,CAAAA,CAAEZ,OAAFY,CAAUvJ,CAAVuJ,IAAUvJ,CACZqF,CAAAA,GAAO3J,KAAKmV,WAALnV,CAAiB,CAACsH,CAAD,EAAUhD,CAAV,EAAiB0D,CAAjB,CAAjBhI,CADKsE,EAEP8R,mBAFO9R,GAEe6R,CAFzBtI,GAGOA,CAAAA,CAAEZ,OAAFY,CAAUrJ,CAAVqJ,IAAUrJ,CACnBmF,CAAAA,GAAO3J,KAAKmV,WAALnV,CAAiB,CAACsH,CAAD,EAAU9C,CAAV,EAAewD,CAAf,CAAjBhI,CADYwE,EAEd4R,mBAFc5R,GAEQ2R,CAFlBtI,GAEkBsI,CAE3BxM,CAAAA,GAAO3J,KAAKmV,WAALnV,CAAiB,CAACsH,CAAD,EAAUU,CAAV,CAAjBhI,CAFoBmW,EAGtBA,SAHsBA,GAGVA,CARftI,EAUJlE,CAAAA,CAAKO,KAALP,GAAa3J,KAAK4F,OAAL5F,CAAaqW,kBAVtBxI,EAWJlE,CAAAA,CAAK2M,WAAL3M,GAAK2M,CAAc,CAXfzI,EAYJ7N,KAAKuT,MAALvT,CAAYsM,GAAZtM,CAAgB2J,CAAhB3J,CAZI6N;AAYYlE;AAAAA,KAvPlB0I,EAsQAA,CAAAA,CAAQrQ,SAARqQ,CAAkBkE,qBAAlBlE,GAA0C,YAAA;AACxC,UAAKrS,KAAK4F,OAAL5F,CAAakW,sBAAblW,IAAwCA,KAAKkU,QAAlD,EAAA;AAIA,YAAIhT,CAAAA,GAAIlB,IAAR;;AAiCA,YAAA;AACE+C,UAAAA,KAAAA,CAAM2T,iBAAN3T,GAjCF,UAA2BuB,CAA3B,EAAkCkS,CAAlC,EAAkCA;AAChC,gBAAItV,CAAAA,CAAE0E,OAAF1E,CAAUgV,sBAAVhV,IACEA,CAAAA,CAAEmT,sBADR,EACgC;AAQ5B,kBAFAnT,CAAAA,CAAEmT,sBAAFnT,IAA4B,CAA5BA,EAA4B,CAEvBoD,CAAL,EAIE;AAIFA,cAAAA,CAAAA,CAAMmS,YAANnS,GAAMmS,CAAe,CAArBnS,EAKApD,CAAAA,CAAE+U,uBAAF/U,CAA0BoD,CAAAA,CAAMgD,OAAhCpG,EAAyC,IAAzCA,EAA+C,IAA/CA,EAAqD,IAArDA,EAA2DoD,CAA3DpD,CALAoD;AAUJ;;AAAA,mBAAOA,CAAAA,CAAMmL,KAAb;AAAaA,WAKb1M;AACA,SAFF,CAEE,OAAOc,CAAP,EAAOA;AACP7D,eAAK4F,OAAL5F,CAAakW,sBAAblW,GAAakW,CAAyB,CAAtClW,EACAA,KAAKsE,KAALtE,CAAW,gCAAXA,EAA6C6D,CAA7C7D,CADAA;AAC6C6D;AAAAA;AAAAA,KAhTjDwO,EAoTAA,CAAAA,CAAQrQ,SAARqQ,CAAkBsE,wBAAlBtE,GAA6C,UAASuE,CAAT,EAAiBC,CAAjB,EAAiBA;AAC5D,UAAK7W,KAAK4F,OAAL5F,CAAa+V,0BAAb/V,IAA4CA,KAAK4F,OAAL5F,CAAagW,yBAA9D,EAAA;AAIA,YAAI1O,CAAAA,GAAU,4CAAd;AACA,YAAIsP,CAAJ,EACE,IAAIA,CAAAA,CAAOtP,OAAX,EACEA,CAAAA,GAAUsP,CAAAA,CAAOtP,OAAjBA,CADF,KAEO;AACL,cAAIwP,CAAAA,GAAejJ,CAAAA,CAAErL,SAAFqL,CAAY+I,CAAZ/I,CAAnB;AACIiJ,UAAAA,CAAAA,CAAazV,KAAbyV,KACFxP,CAAAA,GAAUwP,CAAAA,CAAazV,KADrByV;AAKR;AAAA,YAEInN,CAFJ;AAAA,YAAI3B,CAAAA,GAAW4O,CAAAA,IAAUA,CAAAA,CAAOG,eAAjBH,IAAsCC,CAAAA,IAAWA,CAAAA,CAAQE,eAAxE;AAGIlJ,QAAAA,CAAAA,CAAEZ,OAAFY,CAAU+I,CAAV/I,IACFlE,CAAAA,GAAO3J,KAAKmV,WAALnV,CAAiB,CAACsH,CAAD,EAAUsP,CAAV,EAAkB5O,CAAlB,CAAjBhI,CADL6N,GACwC7F,CAE1C2B,CAAAA,GAAO3J,KAAKmV,WAALnV,CAAiB,CAACsH,CAAD,EAAUsP,CAAV,EAAkB5O,CAAlB,CAAjBhI,CAFmCgI,EAGrCmO,SAHqCnO,GAGzB6F,CAAAA,CAAEP,sBAAFO,CACfvG,CADeuG,EAEf,EAFeA,EAGf,CAHeA,EAIf,CAJeA,EAKf,IALeA,EAMf,oBANeA,EAOf,EAPeA,EAQfnG,CARemG,CAJfA,EAeJlE,CAAAA,CAAKO,KAALP,GAAa3J,KAAK4F,OAAL5F,CAAaqW,kBAftBxI,EAgBJlE,CAAAA,CAAK2M,WAAL3M,GAAK2M,CAAc,CAhBfzI,EAiBJlE,CAAAA,CAAKK,aAALL,GAAqBA,CAAAA,CAAKK,aAALL,IAAsB,EAjBvCkE,EAkBJlE,CAAAA,CAAKK,aAALL,CAAmB1D,IAAnB0D,CAAwBkN,CAAxBlN,CAlBIkE,EAmBJ7N,KAAKuT,MAALvT,CAAYsM,GAAZtM,CAAgB2J,CAAhB3J,CAnBI6N;AAmBYlE;AAAAA,KA1VlB0I,EA6VAA,CAAAA,CAAQrQ,SAARqQ,CAAkB2E,IAAlB3E,GAAyB,UAASlP,CAAT,EAAY6E,CAAZ,EAAqBiP,CAArB,EAAqBA;AAC5C,UAAA;AACE,YAAIC,CAAJ;AAOA,YALEA,CAAAA,GADCrJ,CAAAA,CAAEtL,UAAFsL,CAAa7F,CAAb6F,IACO7F,CADP6F,GAGO,YAAA;AAAa,iBAAO7F,CAAAA,IAAW,EAAlB;AAAkB,SAFvCkP,EAEuC,CAGpCrJ,CAAAA,CAAEtL,UAAFsL,CAAa1K,CAAb0K,CAAL,EACE,OAAO1K,CAAP;AAGF,YAAIA,CAAAA,CAAEgU,OAAN,EACE,OAAOhU,CAAP;AAGF,YAAA,CAAKA,CAAAA,CAAEiU,gBAAP,KACEjU,CAAAA,CAAEiU,gBAAFjU,GAAqB,YAAA;AACf8T,UAAAA,CAAAA,IAAWpJ,CAAAA,CAAEtL,UAAFsL,CAAaoJ,CAAbpJ,CAAXoJ,IACFA,CAAAA,CAAQ9I,KAAR8I,CAAcjX,IAAdiX,EAAoBlJ,SAApBkJ,CADEA;;AAGJ,cAAA;AACE,mBAAO9T,CAAAA,CAAEgL,KAAFhL,CAAQnD,IAARmD,EAAc4K,SAAd5K,CAAP;AACA,WAFF,CAEE,OAAMkU,CAAN,EAAMA;AACN,gBAAIxT,CAAAA,GAAIwT,CAAR;AAUA,kBATIxT,CAAAA,IAAKwE,MAAAA,CAAOiP,oBAAPjP,KAAgCxE,CAArCA,KACEgK,CAAAA,CAAEjL,MAAFiL,CAAShK,CAATgK,EAAY,QAAZA,MACFhK,CAAAA,GAAI,IAAID,MAAJ,CAAWC,CAAX,CADFgK,GAGJhK,CAAAA,CAAEkT,eAAFlT,GAAoBqT,CAAAA,MAAW,EAH3BrJ,EAIJhK,CAAAA,CAAEkT,eAAFlT,CAAkB0T,cAAlB1T,GAAmCV,CAAAA,CAAEH,QAAFG,EAJ/B0K,EAMJxF,MAAAA,CAAOiP,oBAAPjP,GAA8BxE,CAP5BA,GASEA,CAAN;AAAMA;AAAAA,SAjBVV,EAqBAA,CAAAA,CAAEiU,gBAAFjU,CAAmBgU,OAAnBhU,GAAmBgU,CAAU,CArB7BhU,EAuBIA,CAAAA,CAAElB,cAxBR,CAAA,EAyBI,KAAK,IAAIuV,CAAT,IAAiBrU,CAAjB,EACMA,CAAAA,CAAElB,cAAFkB,CAAiBqU,CAAjBrU,KAAmC,uBAATqU,CAA1BrU,KACFA,CAAAA,CAAEiU,gBAAFjU,CAAmBqU,CAAnBrU,IAA2BA,CAAAA,CAAEqU,CAAFrU,CADzBA;AAOV,eAAOA,CAAAA,CAAEiU,gBAAT;AACA,OAlDF,CAkDE,OAAOvT,CAAP,EAAOA;AAEP,eAAOV,CAAP;AAAOA;AAAAA,KAlZXkP,EAqZAA,CAAAA,CAAQ2E,IAAR3E,GAAe,UAASlP,CAAT,EAAY6E,CAAZ,EAAYA;AACzB,UAAI0M,CAAJ,EACE,OAAOA,CAAAA,CAAUsC,IAAVtC,CAAevR,CAAfuR,EAAkB1M,CAAlB0M,CAAP;AAEAI,MAAAA,CAAAA;AAAAA,KAzZJzC,EA6ZAA,CAAAA,CAAQrQ,SAARqQ,CAAkBoF,YAAlBpF,GAAiC,YAAA;AAC/B,UAAIqF,CAAAA,GAAQ7J,CAAAA,CAAEjB,oBAAFiB,CAAuBE,SAAvBF,CAAZ;AACA,aAAO7N,KAAKuT,MAALvT,CAAYyX,YAAZzX,CAAyB0X,CAAAA,CAAM/T,IAA/B3D,EAAqC0X,CAAAA,CAAM5M,QAA3C9K,EAAqD0X,CAAAA,CAAMxN,KAA3DlK,CAAP;AAAkEkK,KA/ZpEmI,EAiaAA,CAAAA,CAAQoF,YAARpF,GAAuB,YAAA;AACrB,UAAIqC,CAAJ,EACE,OAAOA,CAAAA,CAAU+C,YAAV/C,CAAuBvG,KAAvBuG,CAA6BA,CAA7BA,EAAwC3G,SAAxC2G,CAAP;AAEAI,MAAAA,CAAAA;AAAAA,KAraJzC,EA0aAA,CAAAA,CAAQrQ,SAARqQ,CAAkBsF,uBAAlBtF,GAA4C,UAASxO,CAAT,EAAY+T,CAAZ,EAAYA;AAItD,aAHKA,CAAAA,KACHA,CAAAA,GAAK,IAAIxM,IAAJ,EADFwM,CAAAA,EAGE5X,KAAKuT,MAALvT,CAAY2X,uBAAZ3X,CAAoC4X,CAApC5X,CAAP;AAA2C4X,KA9a7CvF,EAibAA,CAAAA,CAAQrQ,SAARqQ,CAAkBwF,WAAlBxF,GAAgC,UAASxO,CAAT,EAAY+T,CAAZ,EAAYA;AAI1C,aAHKA,CAAAA,KACHA,CAAAA,GAAK,IAAIxM,IAAJ,EADFwM,CAAAA,EAGE5X,KAAKuT,MAALvT,CAAY6X,WAAZ7X,CAAwB4X,CAAxB5X,CAAP;AAA+B4X,KArbjCvF,EAwdAA,CAAAA,CAAQrQ,SAARqQ,CAAkBiH,QAAlBjH,GAA6B,YAAA;AAC3B5J,MAAAA,CAAAA,CAAOrE,IAAPqE,CAAY,qHAAZA;AAAY,KAzdd4J,EA4dAA,CAAAA,CAAQrQ,SAARqQ,CAAkB8C,WAAlB9C,GAAgC,UAASzJ,CAAT,EAASA;AACvC,aAAOiF,CAAAA,CAAEnB,UAAFmB,CAAajF,CAAbiF,EAAmBpF,CAAnBoF,EAA2B7N,IAA3B6N,CAAP;AAAkC7N,KA7dpCqS;;AA6eA,QAAIkH,CAAAA,GAAW,CAAA,CAAQ,EAAR,CAAf;AAAA,QACIpN,CAAAA,GAAc,CAAA,CAAQ,EAAR,CADlB;AAAA,QAGIqH,CAAAA,GAAiB;AACnBgG,MAAAA,OAAAA,EAASD,CAAAA,CAASC,OADC;AAEnBrN,MAAAA,WAAAA,EAAaA,CAAAA,CAAYA,WAFN;AAGnBsN,MAAAA,QAAAA,EAAUF,CAAAA,CAASE,QAHA;AAInBC,MAAAA,WAAAA,EAAaH,CAAAA,CAASG,WAJH;AAKnBrD,MAAAA,kBAAAA,EAAoBkD,CAAAA,CAASlD,kBALV;AAMnBsD,MAAAA,QAAAA,EAAUJ,CAAAA,CAASI,QANA;AAOnBC,MAAAA,OAAAA,EAAAA,CAAS,CAPU;AAQnBC,MAAAA,OAAAA,EAAAA,CAAS,CARU;AASnBC,MAAAA,QAAAA,EAAAA,CAAU,CATS;AAUnBC,MAAAA,UAAAA,EAAAA,CAAY,CAVO;AAWnBC,MAAAA,uBAAAA,EAAAA,CAAyB,CAXN;AAYnB1O,MAAAA,SAAAA,EAAAA,CAAW,CAZQ;AAanB4K,MAAAA,sBAAAA,EAAAA,CAAwB,CAbL;AAcnB+D,MAAAA,qBAAAA,EAAAA,CAAuB,CAdJ;AAenBpE,MAAAA,uBAAAA,EAAAA,CAAyB;AAfN,KAHrB;;AAqBAhW,IAAAA,CAAAA,CAAOD,OAAPC,GAAiBwS,CAAjBxS;AAAiBwS,G;;;AChjBjB,QAAI6H,CAAAA,GAAc,CAAA,CAAQ,EAAR,CAAlB;AAAA,QACIC,CAAAA,GAAQ,CAAA,CAAQ,EAAR,CADZ;AAAA,QAEIC,CAAAA,GAAW,CAAA,CAAQ,EAAR,CAFf;AAAA,QAGIvM,CAAAA,GAAI,CAAA,CAAQ,CAAR,CAHR;;AAYA,aAASwE,CAAT,CAAiBzM,CAAjB,EAA0BkO,CAA1B,EAA+BrL,CAA/B,EAAuC+J,CAAvC,EAAkD6H,CAAlD,EAAkDA;AAChDra,WAAK4F,OAAL5F,GAAe6N,CAAAA,CAAEzL,KAAFyL,CAAQjI,CAARiI,CAAf7N,EACAA,KAAKyI,MAALzI,GAAcyI,CADdzI,EAEAqS,CAAAA,CAAQiI,WAARjI,CAAoBkI,eAApBlI,CAAoCrS,KAAK4F,OAAzCyM,CAFArS,EAGAqS,CAAAA,CAAQiI,WAARjI,CAAoBmI,kBAApBnI,CAAuCgI,CAAvChI,EAAiDrS,KAAK4F,OAAtDyM,CAHArS,EAIAA,KAAK8T,GAAL9T,GAAW8T,CAJX9T,EAKAA,KAAKuU,KAALvU,GAAa,IAAIma,CAAJ,CAAU9H,CAAAA,CAAQiI,WAAlB,EAA+BxG,CAA/B,EAAoCrL,CAApC,EAA4CzI,KAAK4F,OAAjD,CALb5F;AAQA,UAAIya,CAAAA,GAASza,KAAK4F,OAAL5F,CAAaya,MAAbza,IAAuB,IAApC;AACI0a,MAAAA,CAAAA,CAAeD,CAAfC,CAAAA,IACF1a,KAAKya,MAALza,GAAcya,CAAdza,EAEAA,KAAK4F,OAAL5F,CAAaya,MAAbza,GAAsB,4BAFtBA,EAGAA,KAAK4F,OAAL5F,CAAayT,kBAAbzT,CAAgCya,MAAhCza,GAAyC,4BAJvC0a,IAMF1a,KAAKya,MAALza,GAAc,IANZ0a,EASJ1a,KAAK6I,QAAL7I,GAAgB,IAAIoa,CAAJ,CAAapa,KAAKuU,KAAlB,EAAyBvU,KAAK4F,OAA9B,CATZ8U,EAUJ1a,KAAKwS,SAALxS,GAAiBwS,CAVbkI,EAWJC,CAAAA,CAAmB/U,CAAnB+U,CAXID,EAYJ1a,KAAKkV,SAALlV,GAAiB,IAZb0a,EAaJ1a,KAAK4a,aAAL5a,GAAqB,MAbjB0a;AAwMN;;AAAA,aAASC,CAAT,CAA4B/U,CAA5B,EAA4BA;AACtBA,MAAAA,CAAAA,CAAQ0W,eAAR1W,KACF7C,KAAAA,CAAMuZ,eAANvZ,GAAwB6C,CAAAA,CAAQ0W,eAD9B1W;AAUN;;AAAA,aAAS8U,CAAT,CAAwBD,CAAxB,EAAwBA;AACtB,UAAA,CAAKA,CAAL,EACE,OAAA,CAAO,CAAP;AAGF,UAAA,CAAKA,CAAAA,CAAOmB,KAAZ,IAA6C,cAAA,OAAjBnB,CAAAA,CAAOmB,KAAnC,EACE,OAAA,CAAO,CAAP;AAGF,UAAIA,CAAAA,GAAQnB,CAAAA,CAAOmB,KAAPnB,EAAZ;AAEA,aAAA,EAAA,CAAKmB,CAAL,IAAKA,CAAUA,CAAAA,CAAMC,MAArB,IAAuD,cAAA,OAAjBD,CAAAA,CAAMC,MAA5C,CAAA;AAzMFxJ;;AAAAA,IAAAA,CAAAA,CAAQiI,WAARjI,GAAsB,IAAI6H,CAAJ,CALD;AACnBW,MAAAA,QAAAA,EAAU,CADS;AAEnBC,MAAAA,cAAAA,EAAgB;AAFG,KAKC,CAAtBzI,EAEAA,CAAAA,CAAQrQ,SAARqQ,CAAkBuC,MAAlBvC,GAA2B,UAAUzM,CAAV,EAAUA;AAEnC,aADAyM,CAAAA,CAAQiI,WAARjI,CAAoBkI,eAApBlI,CAAoCzM,CAApCyM,GACOrS,IAAP;AAAOA,KAJTqS,EAOAA,CAAAA,CAAQrQ,SAARqQ,CAAkBwC,SAAlBxC,GAA8B,UAAUzM,CAAV,EAAmBoP,CAAnB,EAAmBA;AAC/C,UAAIC,CAAAA,GAAajV,KAAK4F,OAAtB;AAAA,UACIoG,CAAAA,GAAU,EADd;AAEIgJ,MAAAA,CAAAA,KACFhJ,CAAAA,GAAU;AAAEA,QAAAA,OAAAA,EAASgJ;AAAX,OADRA,CAAAA,EAIJhV,KAAK4F,OAAL5F,GAAe6N,CAAAA,CAAEzL,KAAFyL,CAAQoH,CAARpH,EAAoBjI,CAApBiI,EAA6B7B,CAA7B6B,CAJXmH;AAOJ,UAAIyF,CAAAA,GAASza,KAAK4F,OAAL5F,CAAaya,MAAbza,IAAuB,IAApC;AAmBA,aAlBI0a,CAAAA,CAAeD,CAAfC,CAAAA,IACF1a,KAAKya,MAALza,GAAcya,CAAdza,EAEAA,KAAK4F,OAAL5F,CAAaya,MAAbza,GAAsB,4BAFtBA,EAGAA,KAAK4F,OAAL5F,CAAayT,kBAAbzT,CAAgCya,MAAhCza,GAAyC,4BAJvC0a,IAMF1a,KAAKya,MAALza,GAAc,IANZ0a,EASJ1a,KAAK6I,QAAL7I,IAAiBA,KAAK6I,QAAL7I,CAAc6U,SAAd7U,CAAwBA,KAAK4F,OAA7B5F,CATb0a,EAUJ1a,KAAKwS,SAALxS,IAAkBA,KAAKwS,SAALxS,CAAe6U,SAAf7U,CAAyBA,KAAK4F,OAA9B5F,CAVd0a,EAWJC,CAAAA,CAAmB/U,CAAnB+U,CAXID,EAYJ1a,KAAK4U,MAAL5U,CAAYA,KAAK4F,OAAjB5F,CAZI0a,EAcAA,CAAAA,CAAe9U,CAAAA,CAAQ6U,MAAvBC,CAAAA,KACF1a,KAAKya,MAALza,GAAc4F,CAAAA,CAAQ6U,MADpBC,CAdAA,EAkBG1a,IAAP;AAAOA,KApCTqS,EAuCAA,CAAAA,CAAQrQ,SAARqQ,CAAkB/F,GAAlB+F,GAAwB,UAAU1I,CAAV,EAAUA;AAChC,UAAIO,CAAAA,GAAQlK,KAAK+a,gBAAL/a,EAAZ;;AACA,aAAOA,KAAKgb,IAALhb,CAAUkK,CAAVlK,EAAiB2J,CAAjB3J,CAAP;AAAwB2J,KAzC1B0I,EA4CAA,CAAAA,CAAQrQ,SAARqQ,CAAkBlO,KAAlBkO,GAA0B,UAAU1I,CAAV,EAAUA;AAClC3J,WAAKgb,IAALhb,CAAU,OAAVA,EAAmB2J,CAAnB3J;AAAmB2J,KA7CrB0I,EAgDAA,CAAAA,CAAQrQ,SAARqQ,CAAkBjO,IAAlBiO,GAAyB,UAAU1I,CAAV,EAAUA;AACjC3J,WAAKgb,IAALhb,CAAU,MAAVA,EAAkB2J,CAAlB3J;AAAkB2J,KAjDpB0I,EAoDAA,CAAAA,CAAQrQ,SAARqQ,CAAkBgD,IAAlBhD,GAAyB,UAAU1I,CAAV,EAAUA;AACjC3J,WAAKgb,IAALhb,CAAU,SAAVA,EAAqB2J,CAArB3J;AAAqB2J,KArDvB0I,EAwDAA,CAAAA,CAAQrQ,SAARqQ,CAAkBhO,OAAlBgO,GAA4B,UAAU1I,CAAV,EAAUA;AACpC3J,WAAKgb,IAALhb,CAAU,SAAVA,EAAqB2J,CAArB3J;AAAqB2J,KAzDvB0I,EA4DAA,CAAAA,CAAQrQ,SAARqQ,CAAkB/N,KAAlB+N,GAA0B,UAAU1I,CAAV,EAAUA;AAClC3J,WAAKgb,IAALhb,CAAU,OAAVA,EAAmB2J,CAAnB3J;AAAmB2J,KA7DrB0I,EAgEAA,CAAAA,CAAQrQ,SAARqQ,CAAkB9N,QAAlB8N,GAA6B,UAAU1I,CAAV,EAAUA;AACrC3J,WAAKgb,IAALhb,CAAU,UAAVA,EAAsB2J,CAAtB3J;AAAsB2J,KAjExB0I,EAoEAA,CAAAA,CAAQrQ,SAARqQ,CAAkB4I,IAAlB5I,GAAyB,UAAUpJ,CAAV,EAAUA;AACjCjJ,WAAKuU,KAALvU,CAAWib,IAAXjb,CAAgBiJ,CAAhBjJ;AAAgBiJ,KArElBoJ,EAwEAA,CAAAA,CAAQrQ,SAARqQ,CAAkBoF,YAAlBpF,GAAiC,UAAU1O,CAAV,EAAgBmH,CAAhB,EAA0BZ,CAA1B,EAA0BA;AACzD,aAAOlK,KAAKwS,SAALxS,IAAkBA,KAAKwS,SAALxS,CAAeyX,YAAfzX,CAA4B2D,CAA5B3D,EAAkC8K,CAAlC9K,EAA4CkK,CAA5ClK,CAAzB;AAAqEkK,KAzEvEmI,EA4EAA,CAAAA,CAAQrQ,SAARqQ,CAAkBsF,uBAAlBtF,GAA4C,UAAUuF,CAAV,EAAUA;AACpD,aAAO5X,KAAKwS,SAALxS,IAAkBA,KAAKwS,SAALxS,CAAe2X,uBAAf3X,CAAuC4X,CAAvC5X,CAAzB;AAAgE4X,KA7ElEvF,EAgFAA,CAAAA,CAAQrQ,SAARqQ,CAAkBwF,WAAlBxF,GAAgC,UAAUuF,CAAV,EAAUA;AACxC,aAAO5X,KAAKwS,SAALxS,IAAkBA,KAAKwS,SAALxS,CAAe6X,WAAf7X,CAA2B4X,CAA3B5X,CAAzB;AAAoD4X,KAjFtDvF,EAoFAA,CAAAA,CAAQrQ,SAARqQ,CAAkBiD,gBAAlBjD,GAAqC,UAAU1I,CAAV,EAAUA;AAC7C,aAAO3J,KAAK8T,GAAL9T,CAASsV,gBAATtV,CAA0B2J,CAA1B3J,CAAP;AAAiC2J,KArFnC0I,EAwFAA,CAAAA,CAAQrQ,SAARqQ,CAAkBkD,eAAlBlD,GAAoC,UAAUmD,CAAV,EAAUA;AAC5CxV,WAAK8T,GAAL9T,CAASkb,eAATlb,CAAyBwV,CAAzBxV;AAAyBwV,KAzF3BnD,EA8FAA,CAAAA,CAAQrQ,SAARqQ,CAAkB2I,IAAlB3I,GAAyB,UAAU8I,CAAV,EAAwBxR,CAAxB,EAAwBA;AAC/C,UAAIV,CAAJ;;AAKA,UAJIU,CAAAA,CAAKV,QAALU,KACFV,CAAAA,GAAWU,CAAAA,CAAKV,QAAhBA,EAAgBA,OACTU,CAAAA,CAAKV,QAFVU,GAIA3J,KAAK4F,OAAL5F,CAAaia,qBAAbja,IAAsCA,KAAKob,gBAALpb,CAAsB2J,CAAtB3J,CAA1C,EAAgE2J;AAC9D,YAAIV,CAAJ,EAAc;AACZ,cAAI3E,CAAAA,GAAQ,IAAIvB,KAAJ,CAAU,wBAAV,CAAZ;AACAuB,UAAAA,CAAAA,CAAMqF,IAANrF,GAAaqF,CAAbrF,EACA2E,CAAAA,CAAS3E,CAAT2E,CADA3E;AACSA;AAAAA,OAJb,MAQA,IAAA;AACEtE,aAAKqb,eAALrb,CAAqB2J,CAArB3J,GACA2J,CAAAA,CAAKO,KAALP,GAAaA,CAAAA,CAAKO,KAALP,IAAcwR,CAD3Bnb,EAEAA,KAAKwS,SAALxS,IAAkBA,KAAKwS,SAALxS,CAAesb,mBAAftb,CAAmC2J,CAAnC3J,CAFlBA,EAGA2J,CAAAA,CAAK4R,eAAL5R,GAAwB3J,KAAKwS,SAALxS,IAAkBA,KAAKwS,SAALxS,CAAewb,UAAfxb,EAAlBA,IAAkD,EAH1EA,EAIAA,KAAK6I,QAAL7I,CAAcsM,GAAdtM,CAAkB2J,CAAlB3J,EAAwBiJ,CAAxBjJ,CAJAA;AAKA,OANF,CAME,OAAO6D,CAAP,EAAOA;AACHoF,QAAAA,CAAAA,IACFA,CAAAA,CAASpF,CAAToF,CADEA,EAGJjJ,KAAKyI,MAALzI,CAAYsE,KAAZtE,CAAkB6D,CAAlB7D,CAHIiJ;AAGcpF;AAAAA,KAtHtBwO,EA0HAA,CAAAA,CAAQrQ,SAARqQ,CAAkB0I,gBAAlB1I,GAAqC,YAAA;AACnC,aAAOrS,KAAK4F,OAAL5F,CAAayZ,QAAbzZ,IAAyB,OAAhC;AAAgC,KA3HlCqS,EA8HAA,CAAAA,CAAQrQ,SAARqQ,CAAkB+I,gBAAlB/I,GAAqC,UAAU1I,CAAV,EAAUA;AAC7C,UAAA,CAAKA,CAAAA,CAAK2M,WAAV,EACE,OAAA,CAAO,CAAP;;AAEF,UAAImF,CAAAA,GAwCN,UAA0B9R,CAA1B,EAA0BA;AACxB,YAAIrC,CAAAA,GAAUqC,CAAAA,CAAKrC,OAALqC,IAAgB,EAA9B;AAAA,YACI8F,CAAAA,GAAAA,CAAS9F,CAAAA,CAAKjB,GAALiB,IAAY,EAArB8F,EAAyBA,KAAzBA,IAAkC7L,MAAAA,CAAO+F,CAAAA,CAAKjB,GAAZ9E,CADtC;AAEA,eAAO0D,CAAAA,GAAU,IAAVA,GAAiBmI,CAAxB;AA3CeiM,OAwCjB,CAxCkC/R,CAwClC,CAxCE;;AACA,aAAI3J,KAAK4a,aAAL5a,KAAuByb,CAAvBzb,KAGJA,KAAKkV,SAALlV,GAAiB2J,CAAAA,CAAKjB,GAAtB1I,EACAA,KAAK4a,aAAL5a,GAAqByb,CADrBzb,EACqByb,CACd,CALHzb,CAAJ;AAKO,KAxITqS,EA2IAA,CAAAA,CAAQrQ,SAARqQ,CAAkBgJ,eAAlBhJ,GAAoC,UAAU1I,CAAV,EAAUA;AAG5C,UAAI3J,KAAKya,MAAT,EAAiB;AAEf,YAAIkB,CAAAA,GAAO3b,KAAKya,MAALza,CAAY4b,KAAZ5b,GAAoB6b,MAApB7b,EAAX;;AAEA,YAkEJ,UAAsB2b,CAAtB,EAAsBA;AACpB,cAAA,CAAKA,CAAL,IAAKA,CAASA,CAAAA,CAAK3T,OAAnB,IAAsD,cAAA,OAAjB2T,CAAAA,CAAK3T,OAA1C,EACE,OAAA,CAAO,CAAP;AAGF,cAAIuU,CAAAA,GAAcZ,CAAAA,CAAK3T,OAAL2T,EAAlB;AAEA,cAAA,CAAKY,CAAL,IAAKA,CACCA,CAAAA,CAAYN,QADlB,IACkBA,CACZM,CAAAA,CAAYJ,SAFlB,IAGqC,cAAA,OAAzBI,CAAAA,CAAYN,QAHxB,IAIsC,cAAA,OAA1BM,CAAAA,CAAYJ,SAJxB,EAKE,OAAA,CAAO,CAAP;AAGF,iBAAA,CAAO,CAAP;AAjFML,SAkER,CAlEqBH,CAkErB,CAlEI,EAAwB;AACtBA,UAAAA,CAAAA,CAAKI,MAALJ,CAAY,oBAAZA,EAAkChS,CAAAA,CAAKG,IAAvC6R,GACAA,CAAAA,CAAKI,MAALJ,CAAY,mBAAZA,EAAY,CAAqB,CAAjCA,CADAA,EAEAA,CAAAA,CAAKI,MAALJ,CAAY,OAAZA,EAAY,CAAS,CAArBA,CAFAA,EAGAA,CAAAA,CAAKI,MAALJ,CAAY,kBAAZA,EAAgC,yCAAuChS,CAAAA,CAAKG,IAA5E6R,CAHAA,EAIAA,CAAAA,CAAKI,MAALJ,CAAY,wBAAZA,EAAsC,+CAA6ChS,CAAAA,CAAKG,IAAxF6R,CAJAA;AAOA,cAAIK,CAAAA,GAAoBL,CAAAA,CAAK3T,OAAL2T,GAAeM,QAAfN,EAAxB;AAAA,cACIO,CAAAA,GAAqBP,CAAAA,CAAK3T,OAAL2T,GAAeQ,SAAfR,EADzB;AAGIhS,UAAAA,CAAAA,CAAKX,MAALW,IACFA,CAAAA,CAAKX,MAALW,CAAYyS,mBAAZzS,GAAkCqS,CAAlCrS,EACAA,CAAAA,CAAKX,MAALW,CAAY0S,oBAAZ1S,GAAmCuS,CAFjCvS,IAIFA,CAAAA,CAAKX,MAALW,GAAc;AACZyS,YAAAA,mBAAAA,EAAqBJ,CADT;AAEZK,YAAAA,oBAAAA,EAAsBH;AAFV,WAJZvS;AAMsBuS;AAAAA;AAAAA,KAnKhC7J,EAsOAxS,CAAAA,CAAOD,OAAPC,GAAiBwS,CAtOjBA;AAsOiBA,G;;;ACjRjB,QAAIxE,CAAAA,GAAI,CAAA,CAAQ,CAAR,CAAR;;AAOA,aAASqM,CAAT,CAAqBtU,CAArB,EAAqBA;AACnB5F,WAAKwc,SAALxc,GAAiB6N,CAAAA,CAAE9J,GAAF8J,EAAjB7N,EACAA,KAAKyc,OAALzc,GAAe,CADfA,EAEAA,KAAK0c,aAAL1c,GAAqB,CAFrBA,EAGAA,KAAKqa,QAALra,GAAgB,IAHhBA,EAIAA,KAAK2c,eAAL3c,GAAuB,EAJvBA,EAKAA,KAAKua,eAALva,CAAqB4F,CAArB5F,CALAA;AAiFF;;AAAA,aAASid,CAAT,CAAmBtT,CAAnB,EAAyByT,CAAzB,EAAgCX,CAAhC,EAAgCA;AAC9B,aAAA,CAAQ9S,CAAAA,CAAK0T,eAAb,IAAgCD,CAAAA,IAAS,CAAzC,IAA8CX,CAAAA,GAAUW,CAAxD;AAGF;;AAAA,aAASF,CAAT,CAAyB7C,CAAzB,EAAmCzU,CAAnC,EAA4CtB,CAA5C,EAAmDuY,CAAnD,EAA+DE,CAA/D,EAAgFO,CAAhF,EAA6FH,CAA7F,EAA6FA;AAC3F,UAAInR,CAAAA,GAAU,IAAd;AAOA,aANI1H,CAAAA,KACFA,CAAAA,GAAQ,IAAIvB,KAAJ,CAAUuB,CAAV,CADNA,CAAAA,EAGCA,CAAAA,IAAUuY,CAAVvY,KACH0H,CAAAA,GAKJ,UAA0BqO,CAA1B,EAAoCzU,CAApC,EAA6CmX,CAA7C,EAA8DO,CAA9D,EAA2EH,CAA3E,EAA2EA;AACzE,YACIM,CADJ;AAAA,YAAID,CAAAA,GAAc5X,CAAAA,CAAQ4X,WAAR5X,IAAwBA,CAAAA,CAAQoG,OAARpG,IAAmBA,CAAAA,CAAQoG,OAARpG,CAAgB4X,WAA7E;AAGEC,QAAAA,CAAAA,GADEN,CAAAA,GACI,8DADJA,GAGI,qDAFNM;AAIF,YAAI9T,CAAAA,GAAO;AACT+T,UAAAA,IAAAA,EAAM;AACJpW,YAAAA,OAAAA,EAAS;AACPoW,cAAAA,IAAAA,EAAMD,CADC;AAEPE,cAAAA,KAAAA,EAAO;AACL9C,gBAAAA,QAAAA,EAAUkC,CADL;AAELjC,gBAAAA,cAAAA,EAAgBwC;AAFX;AAFA;AADL,WADG;AAUTM,UAAAA,QAAAA,EAAU,YAVD;AAWTJ,UAAAA,WAAAA,EAAaA,CAXJ;AAYT3U,UAAAA,QAAAA,EAAU;AACR2Q,YAAAA,OAAAA,EAAU5T,CAAAA,CAAQiD,QAARjD,IAAoBA,CAAAA,CAAQiD,QAARjD,CAAiB4T,OAArC5T,IAAiDA,CAAAA,CAAQ4T;AAD3D;AAZD,SAAX;AAgBiB,sBAAba,CAAa,IACf1Q,CAAAA,CAAK0Q,QAAL1Q,GAAgB,SAAhBA,EACAA,CAAAA,CAAKkU,SAALlU,GAAiB,YADjBA,EAEAA,CAAAA,CAAKd,QAALc,CAAchJ,IAAdgJ,GAAqB,oBAHN,IAIO,aAAb0Q,CAAa,IACtB1Q,CAAAA,CAAKkU,SAALlU,GAAiB/D,CAAAA,CAAQiY,SAARjY,IAAqB,SAAtC+D,EACAA,CAAAA,CAAKd,QAALc,CAAchJ,IAAdgJ,GAAqB/D,CAAAA,CAAQiD,QAARjD,CAAiBjF,IAFhB,IAGA,mBAAb0Z,CAAa,KACtB1Q,CAAAA,CAAKkU,SAALlU,GAAiB/D,CAAAA,CAAQiY,SAARjY,IAAqB,cAAtC+D,EACAA,CAAAA,CAAKd,QAALc,CAAchJ,IAAdgJ,GAAqB/D,CAAAA,CAAQiD,QAARjD,CAAiBjF,IAFhB,CAPP;AAWjB,eAAOgJ,CAAP;AAxCY4T,OAKd,CAL+BlD,CAK/B,EALyCzU,CAKzC,EALkDmX,CAKlD,EALmEO,CAKnE,EALgFH,CAKhF,CANO7Y,CAHDA,EAMG;AAACA,QAAAA,KAAAA,EAAOA,CAAR;AAAeuY,QAAAA,UAAAA,EAAYA,CAA3B;AAAuC7Q,QAAAA,OAAAA,EAASA;AAAhD,OAAP;AArFFkO;;AAAAA,IAAAA,CAAAA,CAAY0C,cAAZ1C,GAA6B;AAC3BsC,MAAAA,SAAAA,EAAW3O,CAAAA,CAAE9J,GAAF8J,EADgB;AAE3BgN,MAAAA,QAAAA,EAAAA,KAAUnR,CAFiB;AAG3BoR,MAAAA,cAAAA,EAAAA,KAAgBpR;AAHW,KAA7BwQ,EAcAA,CAAAA,CAAYlY,SAAZkY,CAAsBK,eAAtBL,GAAwC,UAAStU,CAAT,EAASA;AAAAA,WACrB8D,CADqB9D,KAC3CA,CAAAA,CAAQ4W,SADmC5W,KAE7CsU,CAAAA,CAAY0C,cAAZ1C,CAA2BsC,SAA3BtC,GAAuCtU,CAAAA,CAAQ4W,SAFF5W,GAEE4W,KAExB9S,CAFwB8S,KAE7C5W,CAAAA,CAAQiV,QAFqC2B,KAG/CtC,CAAAA,CAAY0C,cAAZ1C,CAA2BW,QAA3BX,GAAsCtU,CAAAA,CAAQiV,QAHC2B,CAFF5W,EAKCiV,KAEjBnR,CAFiBmR,KAE5CjV,CAAAA,CAAQkV,cAFoCD,KAG9CX,CAAAA,CAAY0C,cAAZ1C,CAA2BY,cAA3BZ,GAA4CtU,CAAAA,CAAQkV,cAHND,CALDjV;AAQOkV,KAtBxDZ,EAyCAA,CAAAA,CAAYlY,SAAZkY,CAAsB2C,UAAtB3C,GAAmC,UAASvQ,CAAT,EAAe5F,CAAf,EAAeA;AAEhD,UAAI+Y,CAAAA,GAAAA,CADJ/Y,CAAAA,GAAMA,CAAAA,IAAO8J,CAAAA,CAAE9J,GAAF8J,EACTiP,IAAoB9c,KAAKwc,SAA7B;AAA6BA,OACzBM,CAAAA,GAAc,CAAdA,IAAmBA,CAAAA,IAAe,GADTN,MAE3Bxc,KAAKwc,SAALxc,GAAiB+D,CAAjB/D,EACAA,KAAK0c,aAAL1c,GAAqB,CAHMwc;AAM7B,UAAIO,CAAAA,GAAkB7C,CAAAA,CAAY0C,cAAZ1C,CAA2BW,QAAjD;AAAA,UACImC,CAAAA,GAAwB9C,CAAAA,CAAY0C,cAAZ1C,CAA2BY,cADvD;AAGA,UAAImC,CAAAA,CAAUtT,CAAVsT,EAAgBF,CAAhBE,EAAiCjd,KAAKyc,OAAtCQ,CAAJ,EACE,OAAOC,CAAAA,CAAgBld,KAAKqa,QAArB6C,EAA+Bld,KAAK2c,eAApCO,EAAqDH,CAAAA,GAAkB,oBAAvEG,EAAuE,CAAsB,CAA7FA,CAAP;AACK,UAAID,CAAAA,CAAUtT,CAAVsT,EAAgBD,CAAhBC,EAAuCjd,KAAK0c,aAA5CO,CAAJ,EACL,OAAOC,CAAAA,CAAgBld,KAAKqa,QAArB6C,EAA+Bld,KAAK2c,eAApCO,EAAqDF,CAAAA,GAAwB,2BAA7EE,EAA6E,CAA6B,CAA1GA,CAAP;AAEFld,WAAKyc,OAALzc,IACAA,KAAK0c,aAAL1c,EADAA;AAGA,UAAI6c,CAAAA,GAAAA,CAAcI,CAAAA,CAAUtT,CAAVsT,EAAgBF,CAAhBE,EAAiCjd,KAAKyc,OAAtCQ,CAAlB;AAAA,UACIE,CAAAA,GAAYN,CADhB;AAGA,aADAA,CAAAA,GAAaA,CAAAA,IAAAA,CAAeI,CAAAA,CAAUtT,CAAVsT,EAAgBD,CAAhBC,EAAuCjd,KAAK0c,aAA5CO,CAA5BJ,EACOK,CAAAA,CAAgBld,KAAKqa,QAArB6C,EAA+Bld,KAAK2c,eAApCO,EAAqD,IAArDA,EAA2DL,CAA3DK,EAAuEH,CAAvEG,EAAwFF,CAAxFE,EAA+GC,CAA/GD,CAAP;AAAsHC,KA/DxHjD,EAkEAA,CAAAA,CAAYlY,SAAZkY,CAAsBM,kBAAtBN,GAA2C,UAASG,CAAT,EAAmBzU,CAAnB,EAAmBA;AAC5D5F,WAAKqa,QAALra,GAAgBqa,CAAhBra,EACAA,KAAK2c,eAAL3c,GAAuB4F,CADvB5F;AACuB4F,KApEzBsU,EA8HAra,CAAAA,CAAOD,OAAPC,GAAiBqa,CA9HjBA;AA8HiBA,G;;;AC5IjB,QAAI4D,CAAAA,GAAShd,MAAAA,CAAOkB,SAAPlB,CAAiBmB,cAA9B;AAAA,QACI8b,CAAAA,GAAQjd,MAAAA,CAAOkB,SAAPlB,CAAiBkC,QAD7B;AAAA,QAGIgb,CAAAA,GAAgB,UAAuBlX,CAAvB,EAAuBA;AAC1C,UAAA,CAAKA,CAAL,IAAgC,sBAApBiX,CAAAA,CAAMxd,IAANwd,CAAWjX,CAAXiX,CAAZ,EACC,OAAA,CAAO,CAAP;AAGD,UASIpc,CATJ;AAAA,UAAIsc,CAAAA,GAAoBH,CAAAA,CAAOvd,IAAPud,CAAYhX,CAAZgX,EAAiB,aAAjBA,CAAxB;AAAA,UACII,CAAAA,GAAmBpX,CAAAA,CAAIsJ,WAAJtJ,IAAmBA,CAAAA,CAAIsJ,WAAJtJ,CAAgB9E,SAAnC8E,IAAgDgX,CAAAA,CAAOvd,IAAPud,CAAYhX,CAAAA,CAAIsJ,WAAJtJ,CAAgB9E,SAA5B8b,EAAuC,eAAvCA,CADvE;AAGA,UAAIhX,CAAAA,CAAIsJ,WAAJtJ,IAAIsJ,CAAgB6N,CAApBnX,IAAoBmX,CAAsBC,CAA9C,EACC,OAAA,CAAO,CAAP;;AAMD,WAAKvc,CAAL,IAAYmF,CAAZ,CAAYA;;AAEZ,aAAA,KAAsB,CAAtB,KAAcnF,CAAd,IAAqCmc,CAAAA,CAAOvd,IAAPud,CAAYhX,CAAZgX,EAAiBnc,CAAjBmc,CAArC;AAAsDnc,KApBvD;;AAmDA9B,IAAAA,CAAAA,CAAOD,OAAPC,GA5BA,SAASuC,CAAT,GAASA;AACP,UAAIhC,CAAJ;AAAA,UAAO+d,CAAP;AAAA,UAAYC,CAAZ;AAAA,UAAkBC,CAAlB;AAAA,UAAyB1d,CAAzB;AAAA,UACIkG,CAAAA,GAAS,EADb;AAAA,UAEGiF,CAAAA,GAAU,IAFb;AAAA,UAGIvG,CAAAA,GAASwI,SAAAA,CAAUxI,MAHvB;;AAKA,WAAKnF,CAAAA,GAAE,CAAP,EAAUA,CAAAA,GAAImF,CAAd,EAAsBnF,CAAAA,EAAtB,EAEE,IAAe,SADf0L,CAAAA,GAAUiC,SAAAA,CAAU3N,CAAV2N,CACK,CAAf,EAIA,KAAKpN,CAAL,IAAamL,CAAb,EACEqS,CAAAA,GAAMtX,CAAAA,CAAOlG,CAAPkG,CAANsX,EAEItX,CAAAA,MADJuX,CAAAA,GAAOtS,CAAAA,CAAQnL,CAARmL,CACHjF,CAAAA,KACEuX,CAAAA,IAAQJ,CAAAA,CAAcI,CAAdJ,CAARI,IACFC,CAAAA,GAAQF,CAAAA,IAAOH,CAAAA,CAAcG,CAAdH,CAAPG,GAA4BA,CAA5BA,GAAkC,EAA1CE,EACAxX,CAAAA,CAAOlG,CAAPkG,CAAAA,GAAezE,CAAAA,CAAMic,CAANjc,EAAagc,CAAbhc,CAFbgc,IAE0BA,KACH,CADGA,KACZA,CADYA,KAE5BvX,CAAAA,CAAOlG,CAAPkG,CAAAA,GAAeuX,CAFaA,CAH5BvX,CAFJsX;;AAYJ,aAAOtX,CAAP;AAAOA,KAGThH;AAHSgH,G;;;AClDT,QAAIgH,CAAAA,GAAI,CAAA,CAAQ,CAAR,CAAR;;AAeA,aAASsM,CAAT,CAAeG,CAAf,EAA4BxG,CAA5B,EAAiCrL,CAAjC,EAAyC7C,CAAzC,EAAyCA;AACvC5F,WAAKsa,WAALta,GAAmBsa,CAAnBta,EACAA,KAAK8T,GAAL9T,GAAW8T,CADX9T,EAEAA,KAAKyI,MAALzI,GAAcyI,CAFdzI,EAGAA,KAAK4F,OAAL5F,GAAe4F,CAHf5F,EAIAA,KAAKqT,UAALrT,GAAkB,EAJlBA,EAKAA,KAAKse,YAALte,GAAoB,EALpBA,EAMAA,KAAKue,eAALve,GAAuB,EANvBA,EAOAA,KAAKwe,UAALxe,GAAkB,EAPlBA,EAQAA,KAAKye,WAALze,GAAmB,IARnBA,EASAA,KAAK0e,YAAL1e,GAAoB,IATpBA,EAUAA,KAAK2e,cAAL3e,GAAsB,IAVtBA;AAkBFma;;AAAAA,IAAAA,CAAAA,CAAMnY,SAANmY,CAAgBtF,SAAhBsF,GAA4B,UAASvU,CAAT,EAASA;AACnC5F,WAAK8T,GAAL9T,IAAYA,KAAK8T,GAAL9T,CAAS6U,SAAT7U,CAAmB4F,CAAnB5F,CAAZA;AACA,UAAIiV,CAAAA,GAAajV,KAAK4F,OAAtB;AAEA,aADA5F,KAAK4F,OAAL5F,GAAe6N,CAAAA,CAAEzL,KAAFyL,CAAQoH,CAARpH,EAAoBjI,CAApBiI,CAAf7N,EACOA,IAAP;AAAOA,KAJTma,EAgBAA,CAAAA,CAAMnY,SAANmY,CAAgBpB,YAAhBoB,GAA+B,UAASyE,CAAT,EAASA;AAItC,aAHI/Q,CAAAA,CAAEtL,UAAFsL,CAAa+Q,CAAb/Q,KACF7N,KAAKqT,UAALrT,CAAgBiG,IAAhBjG,CAAqB4e,CAArB5e,CADE6N,EAGG7N,IAAP;AAAOA,KApBTma,EAuBAA,CAAAA,CAAMnY,SAANmY,CAAgB0E,cAAhB1E,GAAiC,UAASxQ,CAAT,EAASA;AACxC3J,WAAKse,YAALte,CAAkBiG,IAAlBjG,CAAuB2J,CAAvB3J;AAAuB2J,KAxBzBwQ,EA2BAA,CAAAA,CAAMnY,SAANmY,CAAgB2E,iBAAhB3E,GAAoC,UAASxQ,CAAT,EAASA;AAC3C,UAAIoV,CAAAA,GAAM/e,KAAKse,YAALte,CAAkBsG,OAAlBtG,CAA0B2J,CAA1B3J,CAAV;AAAoC2J,OACvB,CADuBA,KAChCoV,CADgCpV,IAElC3J,KAAKse,YAALte,CAAkBgf,MAAlBhf,CAAyB+e,CAAzB/e,EAA8B,CAA9BA,CAFkC2J;AAEJ,KA9BlCwQ,EA4CAA,CAAAA,CAAMnY,SAANmY,CAAgB8E,OAAhB9E,GAA0B,UAASxQ,CAAT,EAAeV,CAAf,EAAyBiW,CAAzB,EAAwCC,CAAxC,EAAwCA;AAC3DlW,MAAAA,CAAAA,IAAa4E,CAAAA,CAAEtL,UAAFsL,CAAa5E,CAAb4E,CAAb5E,KACHA,CAAAA,GAAW,YAAA,CAAA,CADRA;;AAGL,UAAImW,CAAAA,GAAkBpf,KAAKqf,gBAALrf,CAAsB2J,CAAtB3J,CAAtB;;AACA,UAAIof,CAAAA,CAAgBE,IAApB,EAGE,OAFAtf,KAAK8e,iBAAL9e,CAAuBmf,CAAvBnf,GAAuBmf,KACvBlW,CAAAA,CAASmW,CAAAA,CAAgB1W,GAAzBO,CACA;;AAIF,UAFAjJ,KAAKuf,SAALvf,CAAe2J,CAAf3J,EAAqBkf,CAArBlf,GACAA,KAAK8e,iBAAL9e,CAAuBmf,CAAvBnf,CADAA,EAEKA,KAAK4F,OAAL5F,CAAa8Z,QAAlB,EAAA;AAIA9Z,aAAKue,eAALve,CAAqBiG,IAArBjG,CAA0B2J,CAA1B3J;;AACA,YAAA;AACEA,eAAKwf,eAALxf,CAAqB2J,CAArB3J,EAA2B,UAAS0I,CAAT,EAAcC,CAAd,EAAcA;AACvC3I,iBAAKyf,sBAALzf,CAA4B2J,CAA5B3J,GACAiJ,CAAAA,CAASP,CAATO,EAAcN,CAAdM,CADAjJ;AACc2I,WAFW,CAGzB/G,IAHyB,CAGpB5B,IAHoB,CAA3BA;AAIA,SALF,CAKE,OAAO6D,CAAP,EAAOA;AACP7D,eAAKyf,sBAALzf,CAA4B2J,CAA5B3J,GACAiJ,CAAAA,CAASpF,CAAToF,CADAjJ;AACS6D;AAAAA,OAZX,MACEoF,CAAAA,CAAS,IAAIlG,KAAJ,CAAU,mBAAV,CAATkG,CAAAA;AAAmB,KAzDvBkR,EA8EAA,CAAAA,CAAMnY,SAANmY,CAAgBc,IAAhBd,GAAuB,UAASlR,CAAT,EAASA;AACzB4E,MAAAA,CAAAA,CAAEtL,UAAFsL,CAAa5E,CAAb4E,MAGL7N,KAAK0e,YAAL1e,GAAoBiJ,CAApBjJ,EACIA,KAAK0f,cAAL1f,OAGAA,KAAK2e,cAAL3e,KACFA,KAAK2e,cAAL3e,GAAsB2f,aAAAA,CAAc3f,KAAK2e,cAAnBgB,CADpB3f,GAGJA,KAAK2e,cAAL3e,GAAsB4f,WAAAA,CAAY,YAAA;AAChC5f,aAAK0f,cAAL1f;AAAK0f,OAD2B,CAEhC9d,IAFgC,CAE3B5B,IAF2B,CAAZ4f,EAER,GAFQA,CANlB5f,CAJC6N;AAYS,KA3FhBsM,EAqGAA,CAAAA,CAAMnY,SAANmY,CAAgBkF,gBAAhBlF,GAAmC,UAASxQ,CAAT,EAASA;AAE1C,WADA,IAAIzH,CAAAA,GAAI,IAAR,EACS9B,CAAAA,GAAI,CADb,EACgBqJ,CAAAA,GAAMzJ,KAAKqT,UAALrT,CAAgBuF,MAAtC,EAA8CnF,CAAAA,GAAIqJ,CAAlD,EAAuDrJ,CAAAA,EAAvD,EAEE,IAAA,EADA8B,CAAAA,GAAIlC,KAAKqT,UAALrT,CAAgBI,CAAhBJ,EAAmB2J,CAAnB3J,EAAyBA,KAAK4F,OAA9B5F,CACJ,KADkC4F,KACd8D,CADc9D,KACxB1D,CAAAA,CAAEwG,GAAZ,EACE,OAAO;AAAC4W,QAAAA,IAAAA,EAAAA,CAAM,CAAP;AAAa5W,QAAAA,GAAAA,EAAKxG,CAAAA,CAAEwG;AAApB,OAAP;;AAGJ,aAAO;AAAC4W,QAAAA,IAAAA,EAAAA,CAAM,CAAP;AAAc5W,QAAAA,GAAAA,EAAK;AAAnB,OAAP;AAA0B,KA7G5ByR,EAuHAA,CAAAA,CAAMnY,SAANmY,CAAgBqF,eAAhBrF,GAAkC,UAASxQ,CAAT,EAAeV,CAAf,EAAeA;AAC/C,UAAI4W,CAAAA,GAAoB7f,KAAKsa,WAALta,CAAiB6c,UAAjB7c,CAA4B2J,CAA5B3J,CAAxB;AACI6f,MAAAA,CAAAA,CAAkBhD,UAAlBgD,GACF7f,KAAK8T,GAAL9T,CAAS8f,QAAT9f,CAAkB2J,CAAlB3J,EAAwB,UAAS0I,CAAT,EAAcC,CAAd,EAAcA;AAChCD,QAAAA,CAAAA,GACF1I,KAAK+f,WAAL/f,CAAiB0I,CAAjB1I,EAAsB2J,CAAtB3J,EAA4BiJ,CAA5BjJ,CADE0I,GAGFO,CAAAA,CAASP,CAATO,EAAcN,CAAdM,CAHEP;AAGYC,OAJM,CAMtB/G,IANsB,CAMjB5B,IANiB,CAAxBA,CADE6f,GAQOA,CAAAA,CAAkBvb,KAAlBub,GACT5W,CAAAA,CAAS4W,CAAAA,CAAkBvb,KAA3B2E,CADS4W,GAGT7f,KAAK8T,GAAL9T,CAAS8f,QAAT9f,CAAkB6f,CAAAA,CAAkB7T,OAApChM,EAA6CiJ,CAA7CjJ,CAXE6f;AAW2C5W,KApIjDkR;AAyIA,QAAI6F,CAAAA,GAAmB,CAAC,YAAD,EAAe,WAAf,EAA4B,iBAA5B,EAA+C,WAA/C,EAA4D,cAA5D,EAA4E,cAA5E,EAA4F,OAA5F,EAAqG,WAArG,CAAvB;AAUA7F,IAAAA,CAAAA,CAAMnY,SAANmY,CAAgB4F,WAAhB5F,GAA8B,UAASzR,CAAT,EAAciB,CAAd,EAAoBV,CAApB,EAAoBA;AAChD,UAAIgX,CAAAA,GAAAA,CAAc,CAAlB;AACA,UAAIjgB,KAAK4F,OAAL5F,CAAakgB,aAAjB,EACE,KAAK,IAAI9f,CAAAA,GAAI,CAAR,EAAWqJ,CAAAA,GAAMuW,CAAAA,CAAiBza,MAAvC,EAA+CnF,CAAAA,GAAIqJ,CAAnD,EAAwDrJ,CAAAA,EAAxD,EACE,IAAIsI,CAAAA,CAAItB,IAAJsB,KAAasX,CAAAA,CAAiB5f,CAAjB4f,CAAjB,EAAsC;AACpCC,QAAAA,CAAAA,GAAAA,CAAc,CAAdA;AACA;AAIFA;AAAAA,MAAAA,CAAAA,GACFjgB,KAAKmgB,gBAALngB,CAAsB2J,CAAtB3J,EAA4BiJ,CAA5BjJ,CADEigB,GAGFhX,CAAAA,CAASP,CAATO,CAHEgX;AAGOvX,KAbbyR,EAwBAA,CAAAA,CAAMnY,SAANmY,CAAgBgG,gBAAhBhG,GAAmC,UAASxQ,CAAT,EAAeV,CAAf,EAAeA;AAChDjJ,WAAKwe,UAALxe,CAAgBiG,IAAhBjG,CAAqB;AAAC2J,QAAAA,IAAAA,EAAMA,CAAP;AAAaV,QAAAA,QAAAA,EAAUA;AAAvB,OAArBjJ,GAEKA,KAAKye,WAALze,KACHA,KAAKye,WAALze,GAAmB4f,WAAAA,CAAY,YAAA;AAC7B,eAAO5f,KAAKwe,UAALxe,CAAgBuF,MAAvB,GAA+B;AAC7B,cAAI6a,CAAAA,GAAcpgB,KAAKwe,UAALxe,CAAgBqgB,KAAhBrgB,EAAlB;;AACAA,eAAKwf,eAALxf,CAAqBogB,CAAAA,CAAYzW,IAAjC3J,EAAuCogB,CAAAA,CAAYnX,QAAnDjJ;AAAmDiJ;AAAAA,OAHxB,CAK7BrH,IAL6B,CAKxB5B,IALwB,CAAZ4f,EAKL5f,KAAK4F,OAAL5F,CAAakgB,aALRN,CADhB5f,CAFLA;AAQ6BkgB,KAjC/B/F,EA6CAA,CAAAA,CAAMnY,SAANmY,CAAgBsF,sBAAhBtF,GAAyC,UAASxQ,CAAT,EAASA;AAChD,UAAIoV,CAAAA,GAAM/e,KAAKue,eAALve,CAAqBsG,OAArBtG,CAA6B2J,CAA7B3J,CAAV;AAAuC2J,OAC1B,CAD0BA,KACnCoV,CADmCpV,KAErC3J,KAAKue,eAALve,CAAqBgf,MAArBhf,CAA4B+e,CAA5B/e,EAAiC,CAAjCA,GACAA,KAAK0f,cAAL1f,EAHqC2J;AAGhC+V,KAjDTvF,EAqDAA,CAAAA,CAAMnY,SAANmY,CAAgBoF,SAAhBpF,GAA4B,UAAS9P,CAAT,EAAe6U,CAAf,EAAeA;AACzC,UAAIlf,KAAKyI,MAALzI,IAAeA,KAAK4F,OAAL5F,CAAa4Z,OAAhC,EAAyC;AACvC,YAAItS,CAAAA,GAAU4X,CAAd;AAGA,YADA5X,CAAAA,GAAAA,CADAA,CAAAA,GAAUA,CAAAA,IAAWuG,CAAAA,CAAE5M,GAAF4M,CAAMxD,CAANwD,EAAY,8BAAZA,CACrBvG,KAAqBuG,CAAAA,CAAE5M,GAAF4M,CAAMxD,CAANwD,EAAY,sCAAZA,CACrB,EAEE,OAAA,KADA7N,KAAKyI,MAALzI,CAAYsE,KAAZtE,CAAkBsH,CAAlBtH,CACA;AADkBsH,SAGpBA,CAAAA,GAAUuG,CAAAA,CAAE5M,GAAF4M,CAAMxD,CAANwD,EAAY,mBAAZA,CAHUvG,KAKlBtH,KAAKyI,MAALzI,CAAYsM,GAAZtM,CAAgBsH,CAAhBtH,CALkBsH;AAKFA;AAAAA,KAhEtB6S,EAqEAA,CAAAA,CAAMnY,SAANmY,CAAgBuF,cAAhBvF,GAAiC,YAAA;AAC/B,aAAA,EAAA,CAAItM,CAAAA,CAAEtL,UAAFsL,CAAa7N,KAAK0e,YAAlB7Q,CAAJ,IAAoE,MAA7B7N,KAAKse,YAALte,CAAkBuF,MAAzD,IAAyG,MAAhCvF,KAAKue,eAALve,CAAqBuF,MAA9F,MACMvF,KAAK2e,cAAL3e,KACFA,KAAK2e,cAAL3e,GAAsB2f,aAAAA,CAAc3f,KAAK2e,cAAnBgB,CADpB3f,GAGJA,KAAK0e,YAAL1e,EAHIA,EAGC0e,CACE,CALT,CAAA;AAKS,KA3EXvE,EAgFAta,CAAAA,CAAOD,OAAPC,GAAiBsa,CAhFjBA;AAgFiBA,G;;;ACrQjB,QAAItM,CAAAA,GAAI,CAAA,CAAQ,CAAR,CAAR;;AAWA,aAASuM,CAAT,CAAkB7F,CAAlB,EAAyB3O,CAAzB,EAAyBA;AACvB5F,WAAKuU,KAALvU,GAAauU,CAAbvU,EACAA,KAAK4F,OAAL5F,GAAe4F,CADf5F,EAEAA,KAAKmT,UAALnT,GAAkB,EAFlBA,EAGAA,KAAK6J,UAAL7J,GAAkB,EAHlBA;AAYFoa;;AAAAA,IAAAA,CAAAA,CAASpY,SAAToY,CAAmBvF,SAAnBuF,GAA+B,UAASxU,CAAT,EAASA;AACtC5F,WAAKuU,KAALvU,IAAcA,KAAKuU,KAALvU,CAAW6U,SAAX7U,CAAqB4F,CAArB5F,CAAdA;AACA,UAAIiV,CAAAA,GAAajV,KAAK4F,OAAtB;AAEA,aADA5F,KAAK4F,OAAL5F,GAAe6N,CAAAA,CAAEzL,KAAFyL,CAAQoH,CAARpH,EAAoBjI,CAApBiI,CAAf7N,EACOA,IAAP;AAAOA,KAJToa,EAkBAA,CAAAA,CAASpY,SAAToY,CAAmBtC,YAAnBsC,GAAkC,UAASkG,CAAT,EAASA;AAIzC,aAHIzS,CAAAA,CAAEtL,UAAFsL,CAAayS,CAAbzS,KACF7N,KAAKmT,UAALnT,CAAgBiG,IAAhBjG,CAAqBsgB,CAArBtgB,CADE6N,EAGG7N,IAAP;AAAOA,KAtBToa,EAsCAA,CAAAA,CAASpY,SAAToY,CAAmB9N,GAAnB8N,GAAyB,UAASzQ,CAAT,EAAeV,CAAf,EAAeA;AAKtC,UAJKA,CAAAA,IAAa4E,CAAAA,CAAEtL,UAAFsL,CAAa5E,CAAb4E,CAAb5E,KACHA,CAAAA,GAAW,YAAA,CAAA,CADRA,GACQ,CAGRjJ,KAAK4F,OAAL5F,CAAa6Z,OAAlB,EACE,OAAO5Q,CAAAA,CAAS,IAAIlG,KAAJ,CAAU,wBAAV,CAATkG,CAAP;AAGFjJ,WAAKuU,KAALvU,CAAW6e,cAAX7e,CAA0B2J,CAA1B3J;AACA,UAAIkf,CAAAA,GAAgBvV,CAAAA,CAAKjB,GAAzB;;AACA1I,WAAKugB,gBAALvgB,CAAsB2J,CAAtB3J,EAA4B,UAAS0I,CAAT,EAActI,CAAd,EAAcA;AACxC,YAAIsI,CAAJ,EAEE,OADA1I,KAAKuU,KAALvU,CAAW8e,iBAAX9e,CAA6B2J,CAA7B3J,GACOiJ,CAAAA,CAASP,CAATO,EAAc,IAAdA,CAAP;AAEFjJ,aAAKuU,KAALvU,CAAWif,OAAXjf,CAAmBI,CAAnBJ,EAAsBiJ,CAAtBjJ,EAAgCkf,CAAhClf,EAA+C2J,CAA/C3J;AAA+C2J,OALrB,CAM1B/H,IAN0B,CAMrB5B,IANqB,CAA5BA;AAMOA,KAvDToa,EAqEAA,CAAAA,CAASpY,SAAToY,CAAmBmG,gBAAnBnG,GAAsC,UAASzQ,CAAT,EAAeV,CAAf,EAAeA;AACnD,UAAIuX,CAAAA,GAAAA,CAAkB,CAAtB;AAAA,UACIC,CAAAA,GAAmBzgB,KAAKmT,UAALnT,CAAgBuF,MADvC;AAAA,UAEI4N,CAAAA,GAAanT,KAAKmT,UAFtB;AAAA,UAGIvN,CAAAA,GAAU5F,KAAK4F,OAHnB;AAAA,UAKI8a,CAAAA,GAAK,UAAShY,CAAT,EAActI,CAAd,EAAcA;AACjBsI,QAAAA,CAAAA,GACFO,CAAAA,CAASP,CAATO,EAAc,IAAdA,CADEP,GACY,EAIhB8X,CAJgB,KAMOC,CANP,GAWhBtN,CAAAA,CAAWqN,CAAXrN,CAAAA,CAA2B/S,CAA3B+S,EAA8BvN,CAA9BuN,EAAuCuN,CAAvCvN,CAXgB,GAOdlK,CAAAA,CAAS,IAATA,EAAe7I,CAAf6I,CAREP;AAQatI,OAdnB;;AAqBAsgB,MAAAA,CAAAA,CAAG,IAAHA,EAAS/W,CAAT+W,CAAAA;AAAS/W,KA3FXyQ,EA8FAva,CAAAA,CAAOD,OAAPC,GAAiBua,CA9FjBA;AA8FiBA,G;;;ACtHjB,QAAIvM,CAAAA,GAAI,CAAA,CAAQ,CAAR,CAAR;AAAA,QACI8S,CAAAA,GAAU,CAAA,CAAQ,EAAR,CADd;AAAA,QAGInN,CAAAA,GAAiB;AACnB5M,MAAAA,QAAAA,EAAU,iBADS;AAEnBR,MAAAA,IAAAA,EAAM,cAFa;AAGnBoI,MAAAA,MAAAA,EAAQ,IAHW;AAInBgL,MAAAA,OAAAA,EAAS,GAJU;AAKnB9S,MAAAA,QAAAA,EAAU,QALS;AAMnBC,MAAAA,IAAAA,EAAM;AANa,KAHrB;;AA+BA,aAASia,CAAT,CAAahb,CAAb,EAAsBiO,CAAtB,EAAiCX,CAAjC,EAAyCN,CAAzC,EAAqDiO,CAArD,EAAqDA;AACnD7gB,WAAK4F,OAAL5F,GAAe4F,CAAf5F,EACAA,KAAK6T,SAAL7T,GAAiB6T,CADjB7T,EAEAA,KAAKwE,GAALxE,GAAWkT,CAFXlT,EAGAA,KAAK4S,UAAL5S,GAAkB4S,CAHlB5S,EAIAA,KAAK6gB,UAAL7gB,GAAkB6gB,CAJlB7gB,EAKAA,KAAK2F,WAAL3F,GAAmB4F,CAAAA,CAAQD,WAL3B3F,EAMAA,KAAK8gB,gBAAL9gB,GAAwB+gB,CAAAA,CAAcnb,CAAdmb,EAAuB7N,CAAvB6N,CANxB/gB;AAiEF;;AAAA,aAAS+gB,CAAT,CAAuBnb,CAAvB,EAAgCpB,CAAhC,EAAgCA;AAC9B,aAAOmc,CAAAA,CAAQS,uBAART,CAAgC/a,CAAhC+a,EAAyCnN,CAAzCmN,EAAyDnc,CAAzDmc,CAAP;AApDFC;;AAAAA,IAAAA,CAAAA,CAAI5e,SAAJ4e,CAAcd,QAAdc,GAAyB,UAASvW,CAAT,EAAepB,CAAf,EAAeA;AACtC,UAAI6X,CAAAA,GAAmBH,CAAAA,CAAQG,gBAARH,CAAyB3gB,KAAK8gB,gBAA9BH,EAAgD,MAAhDA,CAAvB;AAAA,UACI3U,CAAAA,GAAU2U,CAAAA,CAAQK,YAARL,CAAqB3gB,KAAK2F,WAA1Bgb,EAAuCtW,CAAvCsW,EAA6C3gB,KAAK6gB,UAAlDF,CADd;AAEA3gB,WAAK6T,SAAL7T,CAAeihB,IAAfjhB,CAAoBA,KAAK2F,WAAzB3F,EAAsC8gB,CAAtC9gB,EAAwDgM,CAAxDhM,EAAiEiJ,CAAjEjJ;AAAiEiJ,KAHnE2X,EAWAA,CAAAA,CAAI5e,SAAJ4e,CAActL,gBAAdsL,GAAiC,UAASvW,CAAT,EAAepB,CAAf,EAAeA;AAC9C,UAEIiY,CAFJ;AAAA,UAAIlV,CAAAA,GAAU2U,CAAAA,CAAQK,YAARL,CAAqB3gB,KAAK2F,WAA1Bgb,EAAuCtW,CAAvCsW,EAA6C3gB,KAAK6gB,UAAlDF,CAAd;AASA,aAAA,CALEO,CAAAA,GADElhB,KAAK4S,UAAL5S,GACgBA,KAAK4S,UAAL5S,CAAgBmhB,QAAhBnhB,CAAyBgM,CAAzBhM,CADhBA,GAGgB6N,CAAAA,CAAErL,SAAFqL,CAAY7B,CAAZ6B,CAGpB,EAAoBvJ,KAApB,IACM2E,CAAAA,IACFA,CAAAA,CAASiY,CAAAA,CAAgB5c,KAAzB2E,CADEA,EAGG,IAJT,IAOOiY,CAAAA,CAAgB7f,KAPvB;AAOuBA,KA5BzBuf,EAoCAA,CAAAA,CAAI5e,SAAJ4e,CAAc1F,eAAd0F,GAAgC,UAASpL,CAAT,EAAsBvM,CAAtB,EAAsBA;AACpD,UAAI6X,CAAAA,GAAmBH,CAAAA,CAAQG,gBAARH,CAAyB3gB,KAAK8gB,gBAA9BH,EAAgD,MAAhDA,CAAvB;AACA3gB,WAAK6T,SAAL7T,CAAekb,eAAflb,CAA+BA,KAAK2F,WAApC3F,EAAiD8gB,CAAjD9gB,EAAmEwV,CAAnExV,EAAgFiJ,CAAhFjJ;AAAgFiJ,KAtClF2X,EAyCAA,CAAAA,CAAI5e,SAAJ4e,CAAc/L,SAAd+L,GAA0B,UAAShb,CAAT,EAASA;AACjC,UAAIqP,CAAAA,GAAajV,KAAKiV,UAAtB;AAMA,aALAjV,KAAK4F,OAAL5F,GAAe6N,CAAAA,CAAEzL,KAAFyL,CAAQoH,CAARpH,EAAoBjI,CAApBiI,CAAf7N,EACAA,KAAK8gB,gBAAL9gB,GAAwB+gB,CAAAA,CAAc/gB,KAAK4F,OAAnBmb,EAA4B/gB,KAAKwE,GAAjCuc,CADxB/gB,EACyDwE,KACxBkF,CADwBlF,KACrDxE,KAAK4F,OAAL5F,CAAa2F,WADwCnB,KAEvDxE,KAAK2F,WAAL3F,GAAmBA,KAAK4F,OAAL5F,CAAa2F,WAFuBnB,CADzDxE,EAKOA,IAAP;AAAOA,KAhDT4gB,EAuDA/gB,CAAAA,CAAOD,OAAPC,GAAiB+gB,CAvDjBA;AAuDiBA,G;;;ACrGjB,QAAI/S,CAAAA,GAAI,CAAA,CAAQ,CAAR,CAAR;AAkFAhO,IAAAA,CAAAA,CAAOD,OAAPC,GAAiB;AACfmhB,MAAAA,YAAAA,EAjFF,UAAsBrb,CAAtB,EAAmC0E,CAAnC,EAAyCwW,CAAzC,EAAyCA;AACvC,YAAA,CAAKhT,CAAAA,CAAEjL,MAAFiL,CAASxD,CAAAA,CAAKrC,OAAd6F,EAAuB,QAAvBA,CAAL,EAAuC;AACrC,cAAIwT,CAAAA,GAAgBxT,CAAAA,CAAErL,SAAFqL,CAAYxD,CAAAA,CAAKrC,OAAjB6F,EAA0BgT,CAA1BhT,CAApB;AACIwT,UAAAA,CAAAA,CAAc/c,KAAd+c,GACFhX,CAAAA,CAAKrC,OAALqC,GAAe,sCADbgX,GAGFhX,CAAAA,CAAKrC,OAALqC,GAAegX,CAAAA,CAAchgB,KAAdggB,IAAuB,EAHpCA,EAKAhX,CAAAA,CAAKrC,OAALqC,CAAa9E,MAAb8E,GAAsB,GAAtBA,KACFA,CAAAA,CAAKrC,OAALqC,GAAeA,CAAAA,CAAKrC,OAALqC,CAAac,MAAbd,CAAoB,CAApBA,EAAuB,GAAvBA,CADbA,CALAgX;AASN;;AAAA,eAAO;AACLvb,UAAAA,YAAAA,EAAcH,CADT;AAEL0E,UAAAA,IAAAA,EAAMA;AAFD,SAAP;AAEQA,OAkEO;AAEf+W,MAAAA,uBAAAA,EAhEF,UAAiCxb,CAAjC,EAA0C2T,CAA1C,EAAoD/U,CAApD,EAAoDA;AAClD,YAAIoC,CAAAA,GAAW2S,CAAAA,CAAS3S,QAAxB;AAAA,YACIF,CAAAA,GAAW6S,CAAAA,CAAS7S,QADxB;AAAA,YAEIC,CAAAA,GAAO4S,CAAAA,CAAS5S,IAFpB;AAAA,YAGIP,CAAAA,GAAOmT,CAAAA,CAASnT,IAHpB;AAAA,YAIIoI,CAAAA,GAAS+K,CAAAA,CAAS/K,MAJtB;AAAA,YAMI8S,CAAAA,GAAQ1b,CAAAA,CAAQ0b,KANpB;;AAOA,YAAI1b,CAAAA,CAAQ+T,QAAZ,EAAsB;AACpB,cAAI4H,CAAAA,GAAO/c,CAAAA,CAAI/B,KAAJ+B,CAAUoB,CAAAA,CAAQ+T,QAAlBnV,CAAX;AACAoC,UAAAA,CAAAA,GAAW2a,CAAAA,CAAK3a,QAAhBA,EACAF,CAAAA,GAAW6a,CAAAA,CAAK7a,QADhBE,EAEAD,CAAAA,GAAO4a,CAAAA,CAAK5a,IAFZC,EAGAR,CAAAA,GAAOmb,CAAAA,CAAKhT,QAHZ3H,EAIA4H,CAAAA,GAAS+S,CAAAA,CAAK/S,MAJd5H;AAMF;;AAAA,eAAO;AACLA,UAAAA,QAAAA,EAAUA,CADL;AAELF,UAAAA,QAAAA,EAAUA,CAFL;AAGLC,UAAAA,IAAAA,EAAMA,CAHD;AAILP,UAAAA,IAAAA,EAAMA,CAJD;AAKLoI,UAAAA,MAAAA,EAAQA,CALH;AAML8S,UAAAA,KAAAA,EAAOA;AANF,SAAP;AAMSA,OAwCM;AAGfR,MAAAA,gBAAAA,EAvCF,UAA0BjN,CAA1B,EAAqC2N,CAArC,EAAqCA;AACnC,YAAI9a,CAAAA,GAAWmN,CAAAA,CAAUnN,QAAVmN,IAAsB,QAArC;AAAA,YACIlN,CAAAA,GAAOkN,CAAAA,CAAUlN,IAAVkN,KAAgC,YAAbnN,CAAa,GAAU,EAAV,GAA4B,aAAbA,CAAa,GAAW,GAAX,GAAW,KAAMgD,CAA7EmK,CADX;AAAA,YAEIjN,CAAAA,GAAWiN,CAAAA,CAAUjN,QAFzB;AAAA,YAGIR,CAAAA,GAAOyN,CAAAA,CAAUzN,IAHrB;AAaA,eATIyN,CAAAA,CAAUrF,MAAVqF,KACFzN,CAAAA,IAAcyN,CAAAA,CAAUrF,MADtBqF,GAGAA,CAAAA,CAAUyN,KAAVzN,KACFzN,CAAAA,GAAOM,CAAAA,GAAW,IAAXA,GAAkBE,CAAlBF,GAA6BN,CAApCA,EACAQ,CAAAA,GAAWiN,CAAAA,CAAUyN,KAAVzN,CAAgBxF,IAAhBwF,IAAwBA,CAAAA,CAAUyN,KAAVzN,CAAgBjN,QADnDR,EAEAO,CAAAA,GAAOkN,CAAAA,CAAUyN,KAAVzN,CAAgBlN,IAFvBP,EAGAM,CAAAA,GAAWmN,CAAAA,CAAUyN,KAAVzN,CAAgBnN,QAAhBmN,IAA4BnN,CAJrCmN,CAHAA,EASG;AACLnN,UAAAA,QAAAA,EAAUA,CADL;AAELE,UAAAA,QAAAA,EAAUA,CAFL;AAGLR,UAAAA,IAAAA,EAAMA,CAHD;AAILO,UAAAA,IAAAA,EAAMA,CAJD;AAKL6a,UAAAA,MAAAA,EAAQA;AALH,SAAP;AAKUA,OAiBK;AAIfI,MAAAA,gBAAAA,EAjBF,UAA0BH,CAA1B,EAAgCrb,CAAhC,EAAgCA;AAC9B,YAAIsb,CAAAA,GAAoB,MAAMhe,IAAN,CAAW+d,CAAX,CAAxB;AAAA,YACIE,CAAAA,GAAqB,MAAMje,IAAN,CAAW0C,CAAX,CADzB;AASA,eANIsb,CAAAA,IAAqBC,CAArBD,GACFtb,CAAAA,GAAOA,CAAAA,CAAKI,SAALJ,CAAe,CAAfA,CADLsb,GAEQA,CAAAA,IAAsBC,CAAtBD,KACVtb,CAAAA,GAAO,MAAMA,CADHsb,CAFRA,EAMGD,CAAAA,GAAOrb,CAAd;AAAcA;AAGC,KAAjBvG;AAHgBuG,G;KC9EhB,UAAUwO,CAAV,EAAUA;AACR;;AACKA,MAAAA,CAAAA,CAAO1G,OAAP0G,KACHA,CAAAA,CAAO1G,OAAP0G,GAAiB,EADdA;;AAUL,WAPA,IACI4C,CADJ,EACUgK,CADV,EAAIK,CAAAA,GAAMjN,CAAAA,CAAO1G,OAAjB,EAEI4T,CAAAA,GAAQ,YAAA,CAAA,CAFZ,EAGIC,CAAAA,GAAa,CAAC,QAAD,CAHjB,EAIIC,CAAAA,GAAU,wMAE0DhX,KAF1D,CAEgE,GAFhE,CAGd,EAAOwM,CAAAA,GAAOuK,CAAAA,CAAWtW,GAAXsW,EAAd,GAAqCF,CAAAA,CAAIrK,CAAJqK,CAAAA,KAAWA,CAAAA,CAAIrK,CAAJqK,CAAAA,GAAY,EAAvBA;;AACrC,aAAOL,CAAAA,GAASQ,CAAAA,CAAQvW,GAARuW,EAAhB,GAAoCH,CAAAA,CAAIL,CAAJK,CAAAA,KAAaA,CAAAA,CAAIL,CAAJK,CAAAA,GAAcC,CAA3BD;AAbtC,KAAA,CAeqB,eAAA,OAAXxZ,MAAW,GAAcrI,IAAd,GAAqBqI,MAf1C,C;AAe0CA,G;;;ACS1C,QAAIka,CAAAA,GAAY;AACdtU,MAAAA,SAAAA,EAnBF,YAAA;AAEC,YAAwB,eAAA,OAAb9F,QAAX,EAAA;AAQC,eAJA,IAAI6I,CAAAA,GAAI,CAAR,EACEkR,CAAAA,GAAM/Z,QAAAA,CAASga,aAATha,CAAuB,KAAvBA,CADR,EAEEia,CAAAA,GAAMF,CAAAA,CAAIG,oBAAJH,CAAyB,GAAzBA,CAER,EACEA,CAAAA,CAAII,SAAJJ,GAAgB,sBAAA,EAAsBlR,CAAtB,GAA2B,0BAA3CkR,EACEE,CAAAA,CAAI,CAAJA,CAFJ,EAEQ;;AAGR,iBAAOpR,CAAAA,GAAI,CAAJA,GAAQA,CAARA,GAAQA,KAdZiR,CAcH;AAdGA;AAAAA;AAiBW,KAAhB;AAIApiB,IAAAA,CAAAA,CAAOD,OAAPC,GAAiB0iB,CAAjB1iB;AAAiB0iB,G;;;ACHjB,aAASO,CAAT,CAA+Bza,CAA/B,EAAuCnH,CAAvC,EAA0C6hB,CAA1C,EAA+Cna,CAA/C,EAA+CA;AACzCP,MAAAA,CAAAA,CAAOiP,oBAAPjP,KACGO,CAAAA,CAAK,CAALA,CAAAA,KACHA,CAAAA,CAAK,CAALA,CAAAA,GAAUP,CAAAA,CAAOiP,oBADd1O,GAGAA,CAAAA,CAAK,CAALA,CAAAA,KACHA,CAAAA,CAAK,CAALA,CAAAA,GAAUP,CAAAA,CAAOiP,oBAAPjP,CAA4B0O,eADnCnO,CAHAA,EAMLP,CAAAA,CAAOiP,oBAAPjP,GAA8B,IAP5BA;AAUJ,UAAIiJ,CAAAA,GAAMpQ,CAAAA,CAAE+U,uBAAF/U,CAA0BiN,KAA1BjN,CAAgCA,CAAhCA,EAAmC0H,CAAnC1H,CAAV;AAEI6hB,MAAAA,CAAAA,IACFA,CAAAA,CAAI5U,KAAJ4U,CAAU1a,CAAV0a,EAAkBna,CAAlBma,CADEA,EAOQ,gBAARzR,CAAQ,KACVpQ,CAAAA,CAAEmT,sBAAFnT,IAA4B,CADlB,CAPR6hB;AAsDNljB;;AAAAA,IAAAA,CAAAA,CAAOD,OAAPC,GAAiB;AACf+V,MAAAA,yBAAAA,EA9FF,UAAmCvN,CAAnC,EAA2Cma,CAA3C,EAAoDC,CAApD,EAAoDA;AAClD,YAAKpa,CAAL,EAAA;AACA,cAAIqa,CAAJ;AAEA,cAA0C,cAAA,OAA/BF,CAAAA,CAAQG,kBAAnB,EACED,CAAAA,GAAaF,CAAAA,CAAQG,kBAArBD,CADF,KAEO,IAAIra,CAAAA,CAAOua,OAAX,EAAoB;AAEzB,iBADAF,CAAAA,GAAara,CAAAA,CAAOua,OACpB,EAAOF,CAAAA,CAAWC,kBAAlB,GACED,CAAAA,GAAaA,CAAAA,CAAWC,kBAAxBD;;AAEFF,YAAAA,CAAAA,CAAQG,kBAARH,GAA6BE,CAA7BF;AAGFA;AAAAA,UAAAA,CAAAA,CAAQjM,qBAARiM;;AAEA,cAAIK,CAAAA,GAAK,YAAA;AACP,gBAAIja,CAAAA,GAAOkF,KAAAA,CAAM9L,SAAN8L,CAAgBnC,KAAhBmC,CAAsBvN,IAAtBuN,CAA2BC,SAA3BD,EAAsC,CAAtCA,CAAX;AACAgV,YAAAA,CAAAA,CAAsBza,CAAtBya,EAA8BN,CAA9BM,EAAuCJ,CAAvCI,EAAmDla,CAAnDka,CAAAA;AAAmDla,WAFrD;;AAII6Z,UAAAA,CAAAA,KACFI,CAAAA,CAAGF,kBAAHE,GAAwBH,CADtBD,CAAAA,EAGJpa,CAAAA,CAAOua,OAAPva,GAAiBwa,CAHbJ;AAGaI;AAAAA,OAsEF;AAEf9M,MAAAA,0BAAAA,EA5CF,UAAoC1N,CAApC,EAA4Cma,CAA5C,EAAqDC,CAArD,EAAqDA;AACnD,YAAKpa,CAAL,EAAA;AAEkC,wBAAA,OAAvBA,CAAAA,CAAO2a,WAAgB,IAAc3a,CAAAA,CAAO2a,WAAP3a,CAAmB4a,aAAjC,IAChC5a,CAAAA,CAAO6a,mBAAP7a,CAA2B,oBAA3BA,EAAiDA,CAAAA,CAAO2a,WAAxD3a,CADgC;;AAIlC,cAAI8a,CAAAA,GAAmB,UAAUC,CAAV,EAAUA;AAC/B,gBAAIxM,CAAJ,EAAYC,CAAZ,EAAqBwM,CAArB;;AACA,gBAAA;AACEzM,cAAAA,CAAAA,GAASwM,CAAAA,CAAIxM,MAAbA;AACA,aAFF,CAEE,OAAO/S,CAAP,EAAOA;AACP+S,cAAAA,CAAAA,GAAAA,KAASlN,CAATkN;AAEF;;AAAA,gBAAA;AACEC,cAAAA,CAAAA,GAAUuM,CAAAA,CAAIvM,OAAdA;AACA,aAFF,CAEE,OAAOhT,CAAP,EAAOA;AACPgT,cAAAA,CAAAA,GAAU,yDAAVA;AAEF;;AAAA,gBAAA;AACEwM,cAAAA,CAAAA,GAASD,CAAAA,CAAIC,MAAbA,EAAaA,CACRzM,CADQyM,IACEA,CADFA,KAEXzM,CAAAA,GAASyM,CAAAA,CAAOzM,MAAhBA,EACAC,CAAAA,GAAUwM,CAAAA,CAAOxM,OAHNwM,CAAbA;AAKA,aANF,CAME,OAAOxf,CAAP,EAAOA,CAGJ+S;;AAAAA,YAAAA,CAAAA,KACHA,CAAAA,GAAS,wDADNA,CAAAA,EAID4L,CAAAA,IAAWA,CAAAA,CAAQ7L,wBAAnB6L,IACFA,CAAAA,CAAQ7L,wBAAR6L,CAAiC5L,CAAjC4L,EAAyC3L,CAAzC2L,CALG5L;AAKsCC,WA1B7C;;AA6BAsM,UAAAA,CAAAA,CAAiBF,aAAjBE,GAAiCV,CAAjCU,EACA9a,CAAAA,CAAO2a,WAAP3a,GAAqB8a,CADrBA,EAEA9a,CAAAA,CAAOib,gBAAPjb,CAAwB,oBAAxBA,EAA8C8a,CAA9C9a,CAFA8a;AAE8CA;AAAAA;AAI/B,KAAjBtjB;AAJgDsjB,G;;;ACvFhD,QAAItV,CAAAA,GAAI,CAAA,CAAQ,CAAR,CAAR;AAAA,QACIpF,CAAAA,GAAS,CAAA,CAAQ,CAAR,CADb;;AAoBA,aAASwK,CAAT,CAAmBL,CAAnB,EAAmBA;AACjB5S,WAAK4S,UAAL5S,GAAkB4S,CAAlB5S;AAqDF;;AAAA,aAASwjB,CAAT,CAA0B7d,CAA1B,EAAuCnB,CAAvC,EAA4Cgd,CAA5C,EAAoDnX,CAApD,EAA0DpB,CAA1D,EAAoEsa,CAApE,EAAoEA;AAClE,UAAIxP,CAAAA,GAA6B,eAAA,OAAV1L,MAAU,IAAgBA,MAAhB,IAA4C,eAAA,OAARkK,IAAQ,IAAgBA,IAA7F;AAAA,UACImR,CAAAA,GAAc3P,CAAAA,IAAWA,CAAAA,CAAQ4P,IAAnB5P,IAA2BA,CAAAA,CAAQ4P,IAAR5P,CAAajI,OAD1D;AAGI4X,MAAAA,CAAAA,IAAqC,cAAtBA,CAAAA,CAAYE,KAA3BF,GACaA,CAAAA,CAAYG,OAAZH,CACNI,GADMJ,CACF,YAAA;AACXK,QAAAA,CAAAA,CAAape,CAAboe,EAA0Bvf,CAA1Buf,EAA+BvC,CAA/BuC,EAAuC1Z,CAAvC0Z,EAA6C9a,CAA7C8a,EAAuDR,CAAvDQ,CAAAA;AAAuDR,OAF1CG,CADbA,GAMFK,CAAAA,CAAape,CAAboe,EAA0Bvf,CAA1Buf,EAA+BvC,CAA/BuC,EAAuC1Z,CAAvC0Z,EAA6C9a,CAA7C8a,EAAuDR,CAAvDQ,CANEL;AAsBN;;AAAA,aAASK,CAAT,CAAsBpe,CAAtB,EAAmCnB,CAAnC,EAAwCgd,CAAxC,EAAgDnX,CAAhD,EAAsDpB,CAAtD,EAAgEsa,CAAhE,EAAgEA;AAC9D,UAA4B,eAAA,OAAjBU,YAAX,EACE,OAbJ,UAAuBD,CAAvB,EAA6B/a,CAA7B,EAA6BA;AACR,YAAIgb,YAAJ,EADQhb,CAEdsM,eAFctM,CAGzB+a,CAHyB/a,EAIzB,UAASib,CAAT,EAASA,CAAAA,CAJgBjb,EAKzB,UAASP,CAAT,EAASA;AACPO,UAAAA,CAAAA,CAAS,IAAIlG,KAAJ,CAAU2F,CAAV,CAATO,CAAAA;AAAmBP,SANIO;AAalBkb,OAbX,CAayB9Z,CAbzB,EAa+BpB,CAb/B,CAaI;AAGF,UAAIC,CAAJ;AAMA,UAAA,EAJEA,CAAAA,GADEqa,CAAAA,GACQA,CAAAA,EADRA,GAmGN,YAAA;AAGE,YAcImC,CAdJ;AAAA,YAeItlB,CAfJ;AAAA,YAAImlB,CAAAA,GAAY,CACd,YAAA;AACE,iBAAO,IAAIC,cAAJ,EAAP;AAAWA,SAFC,EAId,YAAA;AACE,iBAAO,IAAIC,aAAJ,CAAkB,gBAAlB,CAAP;AAAyB,SALb,EAOd,YAAA;AACE,iBAAO,IAAIA,aAAJ,CAAkB,gBAAlB,CAAP;AAAyB,SARb,EAUd,YAAA;AACE,iBAAO,IAAIA,aAAJ,CAAkB,mBAAlB,CAAP;AAAyB,SAXb,CAAhB;AAAA,YAgBIE,CAAAA,GAAeJ,CAAAA,CAAUhgB,MAhB7B;;AAiBA,aAAKnF,CAAAA,GAAI,CAAT,EAAYA,CAAAA,GAAIulB,CAAhB,EAA8BvlB,CAAAA,EAA9B,EAEE,IAAA;AACEslB,UAAAA,CAAAA,GAAUH,CAAAA,CAAUnlB,CAAVmlB,CAAAA,EAAVG;AACA;AACA,SAHF,CAGE,OAAO7hB,CAAP,EAAOA,CAKX;;AAAA,eAAO6hB,CAAP;AA9HYtB,OAgGd,EA9FE,CAAA,EAEE,OAAOnb,CAAAA,CAAS,IAAIlG,KAAJ,CAAU,0BAAV,CAATkG,CAAP;;AAEF,UAAA;AACE,YAAA;AACE,cAAIob,CAAAA,GAAqB,YAAA;AACvB,gBAAA;AACE,kBAAIA,CAAAA,IAA6C,MAAvBnb,CAAAA,CAAQob,UAAlC,EAAoD;AAClDD,gBAAAA,CAAAA,GAAAA,KAAqB3a,CAArB2a;AAEA,oBAAIE,CAAAA,GAAgB1W,CAAAA,CAAET,SAAFS,CAAY3E,CAAAA,CAAQsb,YAApB3W,CAApB;AACA,oBAAA,CAmHQ3M,CAAAA,GAnHOgI,CAAf,KAoHEhI,CAAAA,CAAEwjB,MApHJ,IAoH2B,QAAbxjB,CAAAA,CAAEwjB,MApHhB,EAEE,OAAA,KADAzb,CAAAA,CAASsb,CAAAA,CAAcjgB,KAAvB2E,EAA8Bsb,CAAAA,CAAcljB,KAA5C4H,CACA;;AACK,oBAoHnB,UAA0B/H,CAA1B,EAA0BA;AACxB,yBAAOA,CAAAA,IAAK2M,CAAAA,CAAEjL,MAAFiL,CAAS3M,CAAAA,CAAEwjB,MAAX7W,EAAmB,QAAnBA,CAAL3M,IAAqCA,CAAAA,CAAEwjB,MAAFxjB,IAAY,GAAjDA,IAAwDA,CAAAA,CAAEwjB,MAAFxjB,GAAW,GAA1E;AArHqBujB,iBAoHvB,CApHwCvb,CAoHxC,CApHmB,EAA+B;AACpC,sBAAuB,QAAnBA,CAAAA,CAAQwb,MAAZ,EAA4B;AAE1B,wBAAIpd,CAAAA,GAAUid,CAAAA,CAAcljB,KAAdkjB,IAAuBA,CAAAA,CAAcljB,KAAdkjB,CAAoBjd,OAAzD;AACAmB,oBAAAA,CAAAA,CAAOnE,KAAPmE,CAAanB,CAAbmB;AAGFQ;;AAAAA,kBAAAA,CAAAA,CAAS,IAAIlG,KAAJ,CAAUa,MAAAA,CAAOsF,CAAAA,CAAQwb,MAAf9gB,CAAV,CAATqF,CAAAA;AAAkCyb,iBAP7B,MAQA;AAKLzb,kBAAAA,CAAAA,CAAS0b,CAAAA,CADC,6DACDA,CAAT1b,CAAAA;AADU;AAAA;AAId,aAxBF,CAwBE,OAAO2b,CAAP,EAAOA;AAIP,kBAAIvN,CAAJ;AAEEA,cAAAA,CAAAA,GADEuN,CAAAA,IAAMA,CAAAA,CAAGnV,KAATmV,GACIA,CADJA,GAGI,IAAI7hB,KAAJ,CAAU6hB,CAAV,CAFNvN,EAIFpO,CAAAA,CAASoO,CAATpO,CAJEoO;AA0FZ;;AAAA,gBAAoBnW,CAApB;AAAoBA,WAzHd;;AAuCAgI,UAAAA,CAAAA,CAAQ2b,IAAR3b,CAAasY,CAAbtY,EAAqB1E,CAArB0E,EAAqB1E,CAAK,CAA1B0E,GACIA,CAAAA,CAAQ4b,gBAAR5b,KACFA,CAAAA,CAAQ4b,gBAAR5b,CAAyB,cAAzBA,EAAyC,kBAAzCA,GACAA,CAAAA,CAAQ4b,gBAAR5b,CAAyB,wBAAzBA,EAAmDvD,CAAnDuD,CAFEA,CADJA,EAKAA,CAAAA,CAAQmb,kBAARnb,GAA6Bmb,CAL7Bnb,EAMAA,CAAAA,CAAQ6b,IAAR7b,CAAamB,CAAbnB,CANAA;AAOA,SA/CF,CA+CE,OAAO8b,CAAP,EAAOA;AAEP,cAA8B,eAAA,OAAnBC,cAAX,EAA2C;AAMzC,gBAAA,CAAK5c,MAAL,IAAKA,CAAWA,MAAAA,CAAOV,QAAvB,EACE,OAAOsB,CAAAA,CAAS,IAAIlG,KAAJ,CAAU,yDAAV,CAATkG,CAAP;AAI2C,wBAAzCZ,MAAAA,CAAOV,QAAPU,CAAgBH,IAAhBG,CAAqB7B,SAArB6B,CAA+B,CAA/BA,EAAkC,CAAlCA,CAAyC,IAAmC,YAAxB7D,CAAAA,CAAIgC,SAAJhC,CAAc,CAAdA,EAAiB,CAAjBA,CAAX,KAC3CA,CAAAA,GAAM,SAASA,CAAAA,CAAIgC,SAAJhC,CAAc,CAAdA,CAD4B;AAI7C,gBAAI0gB,CAAAA,GAAiB,IAAID,cAAJ,EAArB;AACAC,YAAAA,CAAAA,CAAeC,UAAfD,GAA4B,YAAA,CAAA,CAA5BA,EACAA,CAAAA,CAAeE,SAAfF,GAA2B,YAAA;AAGzBjc,cAAAA,CAAAA,CAAS0b,CAAAA,CAFC,mBAEDA,EADE,WACFA,CAAT1b,CAAAA;AADW,aAHbic,EAMAA,CAAAA,CAAetC,OAAfsC,GAAyB,YAAA;AACvBjc,cAAAA,CAAAA,CAAS,IAAIlG,KAAJ,CAAU,sBAAV,CAATkG,CAAAA;AAAmB,aAPrBic,EASAA,CAAAA,CAAeG,MAAfH,GAAwB,YAAA;AACtB,kBAAIX,CAAAA,GAAgB1W,CAAAA,CAAET,SAAFS,CAAYqX,CAAAA,CAAeV,YAA3B3W,CAApB;AACA5E,cAAAA,CAAAA,CAASsb,CAAAA,CAAcjgB,KAAvB2E,EAA8Bsb,CAAAA,CAAcljB,KAA5C4H,CAAAA;AAA4C5H,aAX9C6jB,EAaAA,CAAAA,CAAeL,IAAfK,CAAoB1D,CAApB0D,EAA4B1gB,CAA5B0gB,EAA4B1gB,CAAK,CAAjC0gB,CAbAA,EAcAA,CAAAA,CAAeH,IAAfG,CAAoB7a,CAApB6a,CAdAA;AAcoB7a,WA9BtB,MAgCEpB,CAAAA,CAAS,IAAIlG,KAAJ,CAAU,6CAAV,CAATkG,CAAAA;AAAmB;AAGvB,OArFF,CAqFE,OAAOqc,CAAP,EAAOA;AACPrc,QAAAA,CAAAA,CAASqc,CAATrc,CAAAA;AAASqc;AA6Cb;;AAAA,aAASX,CAAT,CAA4Brd,CAA5B,EAAqCF,CAArC,EAAqCA;AACnC,UAAIsB,CAAAA,GAAM,IAAI3F,KAAJ,CAAUuE,CAAV,CAAV;AAEA,aADAoB,CAAAA,CAAItB,IAAJsB,GAAWtB,CAAAA,IAAQ,WAAnBsB,EACOA,CAAP;AAjOFuK;;AAAAA,IAAAA,CAAAA,CAAUjR,SAAViR,CAAoBhS,GAApBgS,GAA0B,UAAStN,CAAT,EAAsBC,CAAtB,EAA+BC,CAA/B,EAAuCoD,CAAvC,EAAiDsa,CAAjD,EAAiDA;AACpEta,MAAAA,CAAAA,IAAa4E,CAAAA,CAAEtL,UAAFsL,CAAa5E,CAAb4E,CAAb5E,KACHA,CAAAA,GAAW,YAAA,CAAA,CADRA,GAGL4E,CAAAA,CAAEpB,6BAAFoB,CAAgClI,CAAhCkI,EAA6CjI,CAA7CiI,EAAsDhI,CAAtDgI,CAHK5E;AAOLua,MAAAA,CAAAA,CAAiB7d,CAAjB6d,EADU3V,CAAAA,CAAEd,SAAFc,CAAYjI,CAAZiI,CACV2V,EAFa,KAEbA,EAA2C,IAA3CA,EAAiDva,CAAjDua,EAA2DD,CAA3DC,CAAAA;AAA2DD,KAR7DtQ,EAWAA,CAAAA,CAAUjR,SAAViR,CAAoBgO,IAApBhO,GAA2B,UAAStN,CAAT,EAAsBC,CAAtB,EAA+BoG,CAA/B,EAAwC/C,CAAxC,EAAkDsa,CAAlD,EAAkDA;AAK3E,UAJKta,CAAAA,IAAa4E,CAAAA,CAAEtL,UAAFsL,CAAa5E,CAAb4E,CAAb5E,KACHA,CAAAA,GAAW,YAAA,CAAA,CADRA,GACQ,CAGR+C,CAAL,EACE,OAAO/C,CAAAA,CAAS,IAAIlG,KAAJ,CAAU,2BAAV,CAATkG,CAAP;AAGF,UAAIiY,CAAJ;AAMA,UAAA,CAJEA,CAAAA,GADElhB,KAAK4S,UAAL5S,GACgBA,KAAK4S,UAAL5S,CAAgBmhB,QAAhBnhB,CAAyBgM,CAAzBhM,CADhBA,GAGgB6N,CAAAA,CAAErL,SAAFqL,CAAY7B,CAAZ6B,CAEpB,EAAoBvJ,KAApB,EACE,OAAO2E,CAAAA,CAASiY,CAAAA,CAAgB5c,KAAzB2E,CAAP;AAGF,UAAIwa,CAAAA,GAAYvC,CAAAA,CAAgB7f,KAAhC;AAGAmiB,MAAAA,CAAAA,CAAiB7d,CAAjB6d,EADU3V,CAAAA,CAAEd,SAAFc,CAAYjI,CAAZiI,CACV2V,EAFa,MAEbA,EAA2CC,CAA3CD,EAAsDva,CAAtDua,EAAgED,CAAhEC,CAAAA;AAAgED,KAjClEtQ,EAoCAA,CAAAA,CAAUjR,SAAViR,CAAoBiI,eAApBjI,GAAsC,UAAUtN,CAAV,EAAuBC,CAAvB,EAAgC4P,CAAhC,EAA6CvM,CAA7C,EAAuDsa,CAAvD,EAAuDA;AACtFta,MAAAA,CAAAA,IAAa4E,CAAAA,CAAEtL,UAAFsL,CAAa5E,CAAb4E,CAAb5E,KACHA,CAAAA,GAAW,YAAA,CAAA,CADRA;AAMLua,MAAAA,CAAAA,CAAiB7d,CAAjB6d,EADU3V,CAAAA,CAAEd,SAAFc,CAAYjI,CAAZiI,CACV2V,EAFa,MAEbA,EAA2ChO,CAA3CgO,EAAwDva,CAAxDua,EAAkED,CAAlEC,CAAAA;AAAkED,KA3CpEtQ,EAoOApT,CAAAA,CAAOD,OAAPC,GAAiBoT,CApOjBA;AAoOiBA,G;;;AC9PjB,QAAIpF,CAAAA,GAAI,CAAA,CAAQ,CAAR,CAAR;AAAA,QACInG,CAAAA,GAAc,CAAA,CAAQ,CAAR,CADlB;AAAA,QAEIe,CAAAA,GAAS,CAAA,CAAQ,CAAR,CAFb;;AAwJA,aAAS0e,CAAT,CAAwBxd,CAAxB,EAA8B/D,CAA9B,EAAuCqD,CAAvC,EAAuCA;AACrC,UAAI3B,CAAAA,GAAUqC,CAAAA,CAAKrC,OAAnB;AAAA,UACI0B,CAAAA,GAASW,CAAAA,CAAKX,MADlB;AAGK1B,MAAAA,CAAAA,KACHA,CAAAA,GAAU,2CADPA,CAAAA;AAGL,UAAIT,CAAAA,GAAS;AACX6W,QAAAA,IAAAA,EAAMpW;AADK,OAAb;AAII0B,MAAAA,CAAAA,KACFnC,CAAAA,CAAO8W,KAAP9W,GAAegH,CAAAA,CAAEzL,KAAFyL,CAAQ7E,CAAR6E,CADb7E,CAAAA,EAIJ6E,CAAAA,CAAEJ,GAAFI,CAAMlE,CAANkE,EAAY,WAAZA,EAAyB;AAACvG,QAAAA,OAAAA,EAAST;AAAV,OAAzBgH,CAJI7E,EAKJC,CAAAA,CAAS,IAATA,EAAeU,CAAfV,CALID;AAQN;;AAAA,aAASoe,CAAT,CAAuBzd,CAAvB,EAAuBA;AAErB,UAAI8F,CAAAA,GAAQ9F,CAAAA,CAAKwM,SAALxM,CAAe8F,KAA3B;AAIA,aAHIA,CAAAA,IAA0B,MAAjBA,CAAAA,CAAMlK,MAAfkK,IAA+B9F,CAAAA,CAAKyM,mBAApC3G,IAA2D9F,CAAAA,CAAKyM,mBAALzM,CAAyB8F,KAApFA,KACFA,CAAAA,GAAQ9F,CAAAA,CAAKyM,mBAALzM,CAAyB8F,KAD/BA,GAGGA,CAAP;AAmCF;;AAAA,aAAS+X,CAAT,CAAoB7d,CAApB,EAA0BwM,CAA1B,EAAqCvQ,CAArC,EAAqCA;AACnC,UAAIigB,CAAAA,GAAclc,CAAAA,IAAQA,CAAAA,CAAKU,IAALV,CAAUkc,WAApC;AAAA,UACI7c,CAAAA,GAASW,CAAAA,IAAQA,CAAAA,CAAKX,MAD1B;AAAA,UAEIyG,CAAAA,GAAQ2X,CAAAA,CAAczd,CAAdyd,CAFZ;AAAA,UAIIM,CAAAA,GAAQhgB,CAAAA,CAAY2I,eAAZ3I,CAA4ByO,CAAAA,CAAU7O,OAAtCI,CAJZ;AAAA,UAOI6f,CAAAA,GAAQ;AACVjY,QAAAA,SAAAA,EAAW;AACT,UAAA,KAAA,EAJYsY,CAAAA,CAAWzR,CAAXyR,EAAsBF,CAAAA,CAAM,CAANA,CAAtBE,EAAgChiB,CAAhCgiB,CAGH;AAETtgB,UAAAA,OAAAA,EAJUogB,CAAAA,CAAM,CAANA;AAED;AADD,OAPZ;;AAkBA,UAJI7B,CAAAA,KACF0B,CAAAA,CAAMjY,SAANiY,CAAgB1B,WAAhB0B,GAA8B1B,CAD5BA,CAAAA,EAIApW,CAAJ,EAAW;AAKT,YAAIV,CAAJ,EACI+Y,CADJ,EAEI1gB,CAFJ,EAGI2gB,CAHJ,EAII9G,CAJJ,EAKI+G,CALJ,EAMI5nB,CANJ,EAMO6nB,CANP;;AASA,aAbqB,MAAjBxY,CAAAA,CAAMlK,MAAW,KACnBgiB,CAAAA,CAAMjY,SAANiY,CAAgB9X,KAAhB8X,GAAwBpR,CAAAA,CAAUvG,QAAlC2X,EACAA,CAAAA,CAAMjY,SAANiY,CAAgBM,GAAhBN,GAAsB3jB,MAAAA,CAAOuS,CAAAA,CAAUtG,YAAjBjM,CAFH,GAYrB2jB,CAAAA,CAAMW,MAANX,GAAe,EAZM,EAahBnnB,CAAAA,GAAI,CAAT,EAAYA,CAAAA,GAAIqP,CAAAA,CAAMlK,MAAtB,EAAsBA,EAAUnF,CAAhC,EAEE0nB,CAAAA,GAAQ;AACNK,UAAAA,QAAAA,EAAAA,CAFFpZ,CAAAA,GAAaU,CAAAA,CAAMrP,CAANqP,CAEX0Y,EAAqB3jB,GAArB2jB,GAA2Bta,CAAAA,CAAEL,WAAFK,CAAckB,CAAAA,CAAWvK,GAAzBqJ,CAA3Bsa,GAA2D,WADrD;AAEN5gB,UAAAA,MAAAA,EAAQwH,CAAAA,CAAWnH,IAAXmH,IAAmB,IAFrB;AAGNyS,UAAAA,MAAAA,EAAUzS,CAAAA,CAAWjH,IAAXiH,IAAuC,QAApBA,CAAAA,CAAWjH,IAA9BiH,GAA8DA,CAAAA,CAAWjH,IAAzEiH,GAA8C,aAHlD;AAINvH,UAAAA,KAAAA,EAAOuH,CAAAA,CAAWlH;AAJZ,SAARigB,EAMIliB,CAAAA,CAAQwiB,YAARxiB,KACFkiB,CAAAA,CAAMtjB,GAANsjB,GAAY/Y,CAAAA,CAAWvK,GADrBoB,CANJkiB,EASIA,CAAAA,CAAMtG,MAANsG,IAAgBA,CAAAA,CAAMtG,MAANsG,CAAaO,QAA7BP,IAAyCA,CAAAA,CAAMtG,MAANsG,CAAaO,QAAbP,CAAsB,kBAAtBA,CAAzCA,KAIJ1gB,CAAAA,GAAO2gB,CAAAA,GAAM9G,CAAAA,GAAO,IAApB7Z,EAAoB,CACpB4gB,CAAAA,GAAgBjZ,CAAAA,CAAW/G,OAAX+G,GAAqBA,CAAAA,CAAW/G,OAAX+G,CAAmBxJ,MAAxCwJ,GAAiD,CAD7C,MAGlBkZ,CAAAA,GAAMjkB,IAAAA,CAAKE,KAALF,CAAWgkB,CAAAA,GAAgB,CAA3BhkB,CAANikB,EACAF,CAAAA,GAAMhZ,CAAAA,CAAW/G,OAAX+G,CAAmBpD,KAAnBoD,CAAyB,CAAzBA,EAA4BkZ,CAA5BlZ,CADNkZ,EAEA7gB,CAAAA,GAAO2H,CAAAA,CAAW/G,OAAX+G,CAAmBkZ,CAAnBlZ,CAFPkZ,EAGAhH,CAAAA,GAAOlS,CAAAA,CAAW/G,OAAX+G,CAAmBpD,KAAnBoD,CAAyBkZ,CAAzBlZ,CANW,CAApB3H,EASIA,CAAAA,KACF0gB,CAAAA,CAAM1gB,IAAN0gB,GAAa1gB,CADXA,CATJA,EAUeA,CAGX2gB,CAAAA,IAAO9G,CAHI7Z,MAIb0gB,CAAAA,CAAM9f,OAAN8f,GAAgB,EAAhBA,EACIC,CAAAA,IAAOA,CAAAA,CAAIxiB,MAAXwiB,KACFD,CAAAA,CAAM9f,OAAN8f,CAAcC,GAAdD,GAAoBC,CADlBA,CADJD,EAII7G,CAAAA,IAAQA,CAAAA,CAAK1b,MAAb0b,KACF6G,CAAAA,CAAM9f,OAAN8f,CAAc7G,IAAd6G,GAAqB7G,CADnBA,CARS7Z,CAVfA,EAuBI2H,CAAAA,CAAWnG,IAAXmG,KACF+Y,CAAAA,CAAMlf,IAANkf,GAAa/Y,CAAAA,CAAWnG,IADtBmG,CAvBJ3H,EA2BAmgB,CAAAA,CAAMW,MAANX,CAAathB,IAAbshB,CAAkBO,CAAlBP,CA/BIO,CATJA;;AA4CFP,QAAAA,CAAAA,CAAMW,MAANX,CAAae,OAAbf,IAEIve,CAAAA,KACFue,CAAAA,CAAM5J,KAAN4J,GAAc1Z,CAAAA,CAAEzL,KAAFyL,CAAQ7E,CAAR6E,CADZ7E,CAFJue;AAOF;;AAAA,aAAOA,CAAP;AAGF;;AAAA,aAASK,CAAT,CAAoBzR,CAApB,EAA+BuR,CAA/B,EAAsC9hB,CAAtC,EAAsCA;AACpC,aAAIuQ,CAAAA,CAAUxV,IAAVwV,GACKA,CAAAA,CAAUxV,IADfwV,GAEOvQ,CAAAA,CAAQyK,eAARzK,GACF8hB,CADE9hB,GAGF,WALT;AAoBF/F;;AAAAA,IAAAA,CAAAA,CAAOD,OAAPC,GAAiB;AACfkY,MAAAA,kBAAAA,EA/TF,UAA4BpO,CAA5B,EAAkC/D,CAAlC,EAA2CqD,CAA3C,EAA2CA;AACzC,YAAGU,CAAAA,CAAKjB,GAALiB,IAAiD,mBAArCjC,CAAAA,CAAY2H,KAAZ3H,CAAkBiC,CAAAA,CAAKjB,GAAvBhB,EAA4B/G,IAA3C,EAAoE;AAClE,cAAIue,CAAAA,GAAgB,IAAInc,KAAJ,EAApB;AACAmc,UAAAA,CAAAA,CAAcve,IAAdue,GAAqBvV,CAAAA,CAAKjB,GAALiB,CAAShJ,IAA9Bue,EACAA,CAAAA,CAAc5X,OAAd4X,GAAwBvV,CAAAA,CAAKjB,GAALiB,CAASrC,OADjC4X,EAEAA,CAAAA,CAAczP,KAAdyP,GAAsBvV,CAAAA,CAAKjB,GAALiB,CAAS8F,KAF/ByP,EAGAA,CAAAA,CAAcpP,MAAdoP,GAAuBvV,CAAAA,CAAKjB,GAH5BwW,EAIAvV,CAAAA,CAAKjB,GAALiB,GAAWuV,CAJXA;AAMFjW;;AAAAA,QAAAA,CAAAA,CAAS,IAATA,EAAeU,CAAfV,CAAAA;AAAeU,OAqTA;AAEfqO,MAAAA,mBAAAA,EApTF,UAA6BrO,CAA7B,EAAmC/D,CAAnC,EAA4CqD,CAA5C,EAA4CA;AAE1C,YADAU,CAAAA,CAAKU,IAALV,GAAYA,CAAAA,CAAKU,IAALV,IAAa,EAAzBA,EACIA,CAAAA,CAAKjB,GAAT,EACE,IAAA;AACEiB,UAAAA,CAAAA,CAAKwM,SAALxM,GAAiBA,CAAAA,CAAKjB,GAALiB,CAASic,gBAATjc,IAA6BjC,CAAAA,CAAYjF,KAAZiF,CAAkBiC,CAAAA,CAAKjB,GAAvBhB,EAA4BiC,CAAAA,CAAKQ,UAAjCzC,CAA9CiC,EAEI/D,CAAAA,CAAQ+G,eAAR/G,IAgBV,UAAyB+D,CAAzB,EAAyBA;AACvB,gBAAImc,CAAAA,GAAQ,EAAZ;AAAA,gBACIpd,CAAAA,GAAMiB,CAAAA,CAAKjB,GADf;AAGAod,YAAAA,CAAAA,CAAM7f,IAAN6f,CAAWpd,CAAXod;;AAEA,mBAAOpd,CAAAA,CAAIoH,MAAX,GACEpH,CAAAA,GAAMA,CAAAA,CAAIoH,MAAVpH,EACAod,CAAAA,CAAM7f,IAAN6f,CAAWpd,CAAXod,CADApd;;AAIFmF,YAAAA,CAAAA,CAAElB,eAAFkB,CAAkBlE,CAAlBkE,EAAwBiY,CAAxBjY;AA1BMlB,WAeR,CAfwBhD,CAexB,CAlBMA;AAKA,SANF,CAME,OAAO9F,CAAP,EAAOA;AACP4E,UAAAA,CAAAA,CAAOnE,KAAPmE,CAAa,uCAAbA,EAAsD5E,CAAtD4E;;AACA,cAAA;AACEkB,YAAAA,CAAAA,CAAKrC,OAALqC,GAAeA,CAAAA,CAAKjB,GAALiB,CAASrC,OAATqC,IAAoBA,CAAAA,CAAKjB,GAALiB,CAASkc,WAA7Blc,IAA4CA,CAAAA,CAAKrC,OAAjDqC,IAA4D/F,MAAAA,CAAO+F,CAAAA,CAAKjB,GAAZ9E,CAA3E+F;AACA,WAFF,CAEE,OAAO2b,CAAP,EAAOA;AACP3b,YAAAA,CAAAA,CAAKrC,OAALqC,GAAe/F,MAAAA,CAAO+F,CAAAA,CAAKjB,GAAZ9E,CAAAA,IAAoBA,MAAAA,CAAO0hB,CAAP1hB,CAAnC+F;AAA0C2b;;AAAAA,iBAErC3b,CAAAA,CAAKjB,GAFgC4c;AAKhDrc;AAAAA,QAAAA,CAAAA,CAAS,IAATA,EAAeU,CAAfV,CAAAA;AAAeU,OA+RA;AAGfsO,MAAAA,2BAAAA,EAjRF,UAAqCtO,CAArC,EAA2C/D,CAA3C,EAAoDqD,CAApD,EAAoDA;AAC7CU,QAAAA,CAAAA,CAAKrC,OAALqC,IAAiBA,CAAAA,CAAKwM,SAAtBxM,IAAoCA,CAAAA,CAAKX,MAAzCW,IACHV,CAAAA,CAAS,IAAIlG,KAAJ,CAAU,wCAAV,CAATkG,EAA8D,IAA9DA,CADGU,EAGLV,CAAAA,CAAS,IAATA,EAAeU,CAAfV,CAHKU;AAGUA,OA0QA;AAIfuO,MAAAA,WAAAA,EA3QF,UAAqBvO,CAArB,EAA2B/D,CAA3B,EAAoCqD,CAApC,EAAoCA;AAClC,YAAIuU,CAAAA,GAAe5X,CAAAA,CAAQoG,OAARpG,IAAmBA,CAAAA,CAAQoG,OAARpG,CAAgB4X,WAAnC5X,IAAmDA,CAAAA,CAAQ4X,WAA9E;AACA7T,QAAAA,CAAAA,CAAKU,IAALV,GAAYkE,CAAAA,CAAEzL,KAAFyL,CAAQlE,CAAAA,CAAKU,IAAbwD,EAAmB;AAC7B2P,UAAAA,WAAAA,EAAaA,CADgB;AAE7BtT,UAAAA,KAAAA,EAAOP,CAAAA,CAAKO,KAFiB;AAG7ByP,UAAAA,QAAAA,EAAU/T,CAAAA,CAAQ+T,QAHW;AAI7BU,UAAAA,QAAAA,EAAU,SAJmB;AAK7BwD,UAAAA,SAAAA,EAAW,YALkB;AAM7BD,UAAAA,QAAAA,EAAU,YANmB;AAO7BmI,UAAAA,MAAAA,EAAQ,EAPqB;AAQ7Bjc,UAAAA,IAAAA,EAAMH,CAAAA,CAAKG,IARkB;AAS7BjB,UAAAA,QAAAA,EAAU;AACRlI,YAAAA,IAAAA,EAAM,oBADE;AAER6Y,YAAAA,OAAAA,EAAS5T,CAAAA,CAAQ4T;AAFT,WATmB;AAa7BxQ,UAAAA,MAAAA,EAAQW,CAAAA,CAAKX;AAbgB,SAAnB6E,CAAZlE,EAeAV,CAAAA,CAAS,IAATA,EAAeU,CAAfV,CAfAU;AAeeA,OAsPA;AAKfwO,MAAAA,cAAAA,EAxPF,UAAwB9P,CAAxB,EAAwBA;AACtB,eAAO,UAASsB,CAAT,EAAe/D,CAAf,EAAwBqD,CAAxB,EAAwBA;AAC7B,cAAA,CAAKZ,CAAL,IAAKA,CAAWA,CAAAA,CAAOV,QAAvB,EACE,OAAOsB,CAAAA,CAAS,IAATA,EAAeU,CAAfV,CAAP;AAEF,cAAI+c,CAAAA,GAAe,YAAnB;AACKpgB,UAAAA,CAAAA,CAAQ0F,SAAR1F,GAAQ0F,CAEoB,CAFpBA,KAEF1F,CAAAA,CAAQ0F,SAFNA,KAGX0a,CAAAA,IAAgB,YAHL1a,CAAR1F,GACHogB,CAAAA,GAAe,IADZpgB,EAKLiI,CAAAA,CAAEJ,GAAFI,CAAMlE,CAANkE,EAAY,cAAZA,EAA4B;AAC1BrJ,YAAAA,GAAAA,EAAK6D,CAAAA,CAAOV,QAAPU,CAAgBH,IADK;AAE1B+d,YAAAA,YAAAA,EAAc5d,CAAAA,CAAOV,QAAPU,CAAgBmG,MAFJ;AAG1B0X,YAAAA,OAAAA,EAASF;AAHiB,WAA5BnY,CALKjI,EAULqD,CAAAA,CAAS,IAATA,EAAeU,CAAfV,CAVKrD;AAUU+D,SAfjB;AAeiBA,OAmOF;AAMfyO,MAAAA,aAAAA,EArOF,UAAuB/P,CAAvB,EAAuBA;AACrB,eAAO,UAASsB,CAAT,EAAe/D,CAAf,EAAwBqD,CAAxB,EAAwBA;AAC7B,cAAA,CAAKZ,CAAL,EACE,OAAOY,CAAAA,CAAS,IAATA,EAAeU,CAAfV,CAAP;AAEF,cAAIkd,CAAAA,GAAM9d,CAAAA,CAAOC,SAAPD,IAAoB,EAA9B;AAAA,cACI+d,CAAAA,GAAM/d,CAAAA,CAAOge,MAAPhe,IAAiB,EAD3B;AAEAwF,UAAAA,CAAAA,CAAEJ,GAAFI,CAAMlE,CAANkE,EAAY,aAAZA,EAA2B;AACzByY,YAAAA,UAAAA,EAAY3c,CAAAA,CAAKC,SAALD,GAAiBtB,CAAAA,CAAO8J,iBADX;AAEzBvI,YAAAA,SAAAA,EAAW5F,IAAAA,CAAKuiB,KAALviB,CAAW2F,CAAAA,CAAKC,SAALD,GAAiB,GAA5B3F,CAFc;AAGzBwiB,YAAAA,UAAAA,EAAY;AACVC,cAAAA,OAAAA,EAASN,CAAAA,CAAI5d,SADH;AAEVqV,cAAAA,QAAAA,EAAUuI,CAAAA,CAAIvI,QAFJ;AAGV8I,cAAAA,cAAAA,EAAgBP,CAAAA,CAAIQ,aAHV;AAIVN,cAAAA,MAAAA,EAAQ;AACNO,gBAAAA,KAAAA,EAAOR,CAAAA,CAAIQ,KADL;AAENC,gBAAAA,MAAAA,EAAQT,CAAAA,CAAIS;AAFN;AAJE;AAHa,WAA3BhZ,GAaA5E,CAAAA,CAAS,IAATA,EAAeU,CAAfV,CAbA4E;AAaelE,SAnBjB;AAmBiBA,OA2MF;AAOf0O,MAAAA,aAAAA,EA9MF,UAAuBhQ,CAAvB,EAAuBA;AACrB,eAAO,UAASsB,CAAT,EAAe/D,CAAf,EAAwBqD,CAAxB,EAAwBA;AAC7B,cAAA,CAAKZ,CAAL,IAAKA,CAAWA,CAAAA,CAAOC,SAAvB,EACE,OAAOW,CAAAA,CAAS,IAATA,EAAeU,CAAfV,CAAP;;AAKF,eAHA,IAEI+d,CAFJ,EAAIF,CAAAA,GAAU,EAAd,EACIC,CAAAA,GAAa1e,CAAAA,CAAOC,SAAPD,CAAiBye,OAAjBze,IAA4B,EAD7C,EAGSjI,CAAAA,GAAE,CAHX,EAGcC,CAAAA,GAAE0mB,CAAAA,CAAWxhB,MAA3B,EAAmCnF,CAAAA,GAAIC,CAAvC,EAAuCA,EAAKD,CAA5C,EACE4mB,CAAAA,GAAMD,CAAAA,CAAW3mB,CAAX2mB,CAANC,EACAF,CAAAA,CAAQ7gB,IAAR6gB,CAAa;AAACnmB,YAAAA,IAAAA,EAAMqmB,CAAAA,CAAIrmB,IAAX;AAAiBklB,YAAAA,WAAAA,EAAamB,CAAAA,CAAInB;AAAlC,WAAbiB,CADAE;;AAGFnZ,UAAAA,CAAAA,CAAEJ,GAAFI,CAAMlE,CAANkE,EAAY,gCAAZA,EAA8CiZ,CAA9CjZ,GACA5E,CAAAA,CAAS,IAATA,EAAeU,CAAfV,CADA4E;AACelE,SAZjB;AAYiBA,OA0LF;AAQf2O,MAAAA,OAAAA,EA9LF,UAAiB3O,CAAjB,EAAuB/D,CAAvB,EAAgCqD,CAAhC,EAAgCA;AAC1BU,QAAAA,CAAAA,CAAKwM,SAALxM,GACEA,CAAAA,CAAKwM,SAALxM,CAAeoG,UAAfpG,GAsCR,UAA2BA,CAA3B,EAAiC/D,CAAjC,EAA0CqD,CAA1C,EAA0CA;AAKxC,eAJA,IAAI8G,CAAAA,GAAapG,CAAAA,CAAKwM,SAALxM,CAAeoG,UAAhC,EACIsX,CAAAA,GAAS,EADb,EAGIC,CAAAA,GAAmBvX,CAAAA,CAAWxK,MAHlC,EAISnF,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAIknB,CAApB,EAAsClnB,CAAAA,EAAtC,EAA2C;AACzC,gBAAImnB,CAAAA,GAAQC,CAAAA,CAAW7d,CAAX6d,EAAiBzX,CAAAA,CAAW3P,CAAX2P,CAAjByX,EAAgC5hB,CAAhC4hB,CAAZ;AACAH,YAAAA,CAAAA,CAAOphB,IAAPohB,CAAYE,CAAZF;AAGFxZ;;AAAAA,UAAAA,CAAAA,CAAEJ,GAAFI,CAAMlE,CAANkE,EAAY,WAAZA,EAAyB;AAAC4Z,YAAAA,WAAAA,EAAaJ;AAAd,WAAzBxZ,GACA5E,CAAAA,CAAS,IAATA,EAAeU,CAAfV,CADA4E;AA/CIoZ,SAqCN,CArCwBtd,CAqCxB,EArC8B/D,CAqC9B,EArCuCqD,CAqCvC,CAtCQU,GAoDR,UAAsBA,CAAtB,EAA4B/D,CAA5B,EAAqCqD,CAArC,EAAqCA;AAGnC,cAFYme,CAAAA,CAAczd,CAAdyd,CAEZ,EAAW;AACT,gBAAIG,CAAAA,GAAQC,CAAAA,CAAW7d,CAAX6d,EAAiB7d,CAAAA,CAAKwM,SAAtBqR,EAAiC5hB,CAAjC4hB,CAAZ;AACA3Z,YAAAA,CAAAA,CAAEJ,GAAFI,CAAMlE,CAANkE,EAAY,WAAZA,EAAyB;AAAC0Z,cAAAA,KAAAA,EAAOA;AAAR,aAAzB1Z,GACA5E,CAAAA,CAAS,IAATA,EAAeU,CAAfV,CADA4E;AACelE,WAHjB,MAIO;AACL,gBAAIwM,CAAAA,GAAYxM,CAAAA,CAAKwM,SAArB;AAAA,gBACIuR,CAAAA,GAAQhgB,CAAAA,CAAY2I,eAAZ3I,CAA4ByO,CAAAA,CAAU7O,OAAtCI,CADZ;AAAA,gBAEIigB,CAAAA,GAAYC,CAAAA,CAAWzR,CAAXyR,EAAsBF,CAAAA,CAAM,CAANA,CAAtBE,EAAgChiB,CAAhCgiB,CAFhB;AAAA,gBAGItgB,CAAAA,GAAUogB,CAAAA,CAAM,CAANA,CAHd;AAKA/d,YAAAA,CAAAA,CAAKrC,OAALqC,GAAege,CAAAA,GAAY,IAAZA,GAAmBrgB,CAAlCqC,EACAwd,CAAAA,CAAexd,CAAfwd,EAAqBvhB,CAArBuhB,EAA8Ble,CAA9Bke,CADAxd;AAC8BV;AA/D5Bie,SAiDN,CAjDmBvd,CAiDnB,EAjDyB/D,CAiDzB,EAjDkCqD,CAiDlC,CArDMU,GAOFwd,CAAAA,CAAexd,CAAfwd,EAAqBvhB,CAArBuhB,EAA8Ble,CAA9Bke,CAPExd;AAO4BV,OA8KjB;AASfyP,MAAAA,WAAAA,EApBF,UAAqB6P,CAArB,EAAqBA;AACnB,eAAO,UAAU5e,CAAV,EAAgB/D,CAAhB,EAAyBqD,CAAzB,EAAyBA;AAC9B,cAAIsf,CAAJ,EAAa;AACX,gBAAIpc,CAAAA,GAAcvG,CAAAA,CAAQuG,WAARvG,IAAuB,EAAzC;AAAA,gBACI2K,CAAAA,GAAa3K,CAAAA,CAAQ2K,UAAR3K,IAAsB,EADvC;AAEA+D,YAAAA,CAAAA,CAAKU,IAALV,GAAY4e,CAAAA,CAAQ5e,CAAAA,CAAKU,IAAbke,EAAmBpc,CAAnBoc,EAAgChY,CAAhCgY,CAAZ5e;AAEFV;;AAAAA,UAAAA,CAAAA,CAAS,IAATA,EAAeU,CAAfV,CAAAA;AAAeU,SANjB;AAMiBA;AAIF,KAAjB9J;AAJmB8J,G;AChUnB,QAAA,CAAA,EAAA,CAAA,EAAA,CAAA;AAAA,KAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACI;;AAKI,MAAA,CAAA,GAA6B,CAAC,CAAA,CAAA,EAAA,CAAD,CAA7B,EAA8B,KAAsB,CAAtB,MAAsB,CAAA,GAAA,cAAA,QAAP,CAAA,GAM7C,UAA0B6e,CAA1B,EAA0BA;AAG9B,YAAIC,CAAAA,GAA8B,cAAlC;AAAA,YACIC,CAAAA,GAAyB,gCAD7B;AAAA,YAEIC,CAAAA,GAA4B,6BAFhC;AAIA,eAAO;AAOHlmB,UAAAA,KAAAA,EAAO,UAAiC6B,CAAjC,EAAiCA;AACpC,gBAAA,KAAgC,CAAhC,KAAWA,CAAAA,CAAMskB,UAAjB,IAAiBA,KAAkE,CAAlEA,KAAqCtkB,CAAAA,CAAM,iBAANA,CAAtD,EACI,OAAOtE,KAAK6oB,UAAL7oB,CAAgBsE,CAAhBtE,CAAP;AACG,gBAAIsE,CAAAA,CAAMmL,KAANnL,IAAeA,CAAAA,CAAMmL,KAANnL,CAAYrB,KAAZqB,CAAkBokB,CAAlBpkB,CAAnB,EACH,OAAOtE,KAAK8oB,WAAL9oB,CAAiBsE,CAAjBtE,CAAP;AACG,gBAAIsE,CAAAA,CAAMmL,KAAV,EACH,OAAOzP,KAAK+oB,eAAL/oB,CAAqBsE,CAArBtE,CAAP;AAEA,kBAAM,IAAI+C,KAAJ,CAAU,iCAAV,CAAN;AAAgB,WAfrB;AAoBHimB,UAAAA,eAAAA,EAAiB,UAA2CC,CAA3C,EAA2CA;AAExD,gBAAA,CAA8B,CAA9B,KAAIA,CAAAA,CAAQ3iB,OAAR2iB,CAAgB,GAAhBA,CAAJ,EACI,OAAO,CAACA,CAAD,CAAP;AAGJ,gBACIzd,CAAAA,GADS,+BACMnG,IADN,CACW4jB,CAAAA,CAAQ3lB,OAAR2lB,CAAgB,OAAhBA,EAAyB,EAAzBA,CADX,CAAb;AAEA,mBAAO,CAACzd,CAAAA,CAAM,CAANA,CAAD,EAAWA,CAAAA,CAAM,CAANA,CAAAA,IAAM,KAAM9B,CAAvB,EAAkC8B,CAAAA,CAAM,CAANA,CAAAA,IAAM,KAAM9B,CAA9C,CAAP;AAAqDA,WA5BtD;AA+BHof,UAAAA,WAAAA,EAAa,UAAuCxkB,CAAvC,EAAuCA;AAKhD,mBAJeA,CAAAA,CAAMmL,KAANnL,CAAY0G,KAAZ1G,CAAkB,IAAlBA,EAAwB4kB,MAAxB5kB,CAA+B,UAASsD,CAAT,EAASA;AACnD,qBAAA,CAAA,CAASA,CAAAA,CAAK3E,KAAL2E,CAAW8gB,CAAX9gB,CAAT;AAAoB8gB,aADTpkB,EAEZtE,IAFYsE,EAIC6kB,GAJD7kB,CAIK,UAASsD,CAAT,EAASA;AACrBA,cAAAA,CAAAA,CAAKtB,OAALsB,CAAa,QAAbA,IAAa,CAAa,CAA1BA,KAEAA,CAAAA,GAAOA,CAAAA,CAAKtE,OAALsE,CAAa,YAAbA,EAA2B,MAA3BA,EAAmCtE,OAAnCsE,CAA2C,8BAA3CA,EAA2E,EAA3EA,CAFPA;AAIJ,kBAAIwhB,CAAAA,GAAgBxhB,CAAAA,CAAKtE,OAALsE,CAAa,MAAbA,EAAqB,EAArBA,EAAyBtE,OAAzBsE,CAAiC,cAAjCA,EAAiD,GAAjDA,CAApB;AAAA,kBAIID,CAAAA,GAAWyhB,CAAAA,CAAcnmB,KAAdmmB,CAAoB,0BAApBA,CAJf;AAAA,kBASIC,CAAAA,GAAAA,CAFJD,CAAAA,GAAgBzhB,CAAAA,GAAWyhB,CAAAA,CAAc9lB,OAAd8lB,CAAsBzhB,CAAAA,CAAS,CAATA,CAAtByhB,EAAmC,EAAnCA,CAAXzhB,GAAoDyhB,CAEhEC,EAAuBre,KAAvBqe,CAA6B,KAA7BA,EAAoC1d,KAApC0d,CAA0C,CAA1CA,CATJ;AAAA,kBAWIC,CAAAA,GAAgBtpB,KAAKgpB,eAALhpB,CAAqB2H,CAAAA,GAAWA,CAAAA,CAAS,CAATA,CAAXA,GAAyB0hB,CAAAA,CAAO5d,GAAP4d,EAA9CrpB,CAXpB;AAAA,kBAYImP,CAAAA,GAAeka,CAAAA,CAAOnjB,IAAPmjB,CAAY,GAAZA,KAAY,KAAQ3f,CAZvC;AAAA,kBAaIuF,CAAAA,GAAW,CAAC,MAAD,EAAS,aAAT,EAAwB3I,OAAxB,CAAgCgjB,CAAAA,CAAc,CAAdA,CAAhC,IAA8C,CAAO,CAArD,GAAqD,KAAI5f,CAAzD,GAAqE4f,CAAAA,CAAc,CAAdA,CAbpF;AAeA,qBAAO,IAAId,CAAJ,CAAe;AAClBrZ,gBAAAA,YAAAA,EAAcA,CADI;AAElBF,gBAAAA,QAAAA,EAAUA,CAFQ;AAGlBC,gBAAAA,UAAAA,EAAYoa,CAAAA,CAAc,CAAdA,CAHM;AAIlBla,gBAAAA,YAAAA,EAAcka,CAAAA,CAAc,CAAdA,CAJI;AAKlB1kB,gBAAAA,MAAAA,EAAQgD;AALU,eAAf,CAAP;AAKYA,aA7BDtD,EA+BZtE,IA/BYsE,CAIf;AA2BGtE,WA/DJ;AAkEH+oB,UAAAA,eAAAA,EAAiB,UAA2CzkB,CAA3C,EAA2CA;AAKxD,mBAJeA,CAAAA,CAAMmL,KAANnL,CAAY0G,KAAZ1G,CAAkB,IAAlBA,EAAwB4kB,MAAxB5kB,CAA+B,UAASsD,CAAT,EAASA;AACnD,qBAAA,CAAQA,CAAAA,CAAK3E,KAAL2E,CAAW+gB,CAAX/gB,CAAR;AAAmB+gB,aADRrkB,EAEZtE,IAFYsE,EAIC6kB,GAJD7kB,CAIK,UAASsD,CAAT,EAASA;AAMzB,kBAJIA,CAAAA,CAAKtB,OAALsB,CAAa,SAAbA,IAAa,CAAc,CAA3BA,KACAA,CAAAA,GAAOA,CAAAA,CAAKtE,OAALsE,CAAa,kDAAbA,EAAiE,KAAjEA,CADPA,GACwE,CAGjD,CAHiD,KAGxEA,CAAAA,CAAKtB,OAALsB,CAAa,GAAbA,CAHwE,IAG3D,CAAsC,CAAtC,KAAeA,CAAAA,CAAKtB,OAALsB,CAAa,GAAbA,CAAhC,EAEI,OAAO,IAAI4gB,CAAJ,CAAe;AAClBrZ,gBAAAA,YAAAA,EAAcvH;AADI,eAAf,CAAP;AAIA,kBAAI2hB,CAAAA,GAAoB,4BAAxB;AAAA,kBACIC,CAAAA,GAAU5hB,CAAAA,CAAK3E,KAAL2E,CAAW2hB,CAAX3hB,CADd;AAAA,kBAEIuH,CAAAA,GAAeqa,CAAAA,IAAWA,CAAAA,CAAQ,CAARA,CAAXA,GAAwBA,CAAAA,CAAQ,CAARA,CAAxBA,GAAgC,KAAK9f,CAFxD;AAAA,kBAGI4f,CAAAA,GAAgBtpB,KAAKgpB,eAALhpB,CAAqB4H,CAAAA,CAAKtE,OAALsE,CAAa2hB,CAAb3hB,EAAgC,EAAhCA,CAArB5H,CAHpB;AAKA,qBAAO,IAAIwoB,CAAJ,CAAe;AAClBrZ,gBAAAA,YAAAA,EAAcA,CADI;AAElBF,gBAAAA,QAAAA,EAAUqa,CAAAA,CAAc,CAAdA,CAFQ;AAGlBpa,gBAAAA,UAAAA,EAAYoa,CAAAA,CAAc,CAAdA,CAHM;AAIlBla,gBAAAA,YAAAA,EAAcka,CAAAA,CAAc,CAAdA,CAJI;AAKlB1kB,gBAAAA,MAAAA,EAAQgD;AALU,eAAf,CAAP;AAKYA,aA1BLtD,EA6BZtE,IA7BYsE,CAIf;AAyBGtE,WAhGJ;AAmGH6oB,UAAAA,UAAAA,EAAY,UAAsChlB,CAAtC,EAAsCA;AAC9C,mBAAA,CAAKA,CAAAA,CAAE+kB,UAAP,IAAsB/kB,CAAAA,CAAEyD,OAAFzD,CAAUyC,OAAVzC,CAAkB,IAAlBA,IAAkB,CAAS,CAA3BA,IAClBA,CAAAA,CAAEyD,OAAFzD,CAAUmH,KAAVnH,CAAgB,IAAhBA,EAAsB0B,MAAtB1B,GAA+BA,CAAAA,CAAE+kB,UAAF/kB,CAAamH,KAAbnH,CAAmB,IAAnBA,EAAyB0B,MAD5D,GAEWvF,KAAKypB,WAALzpB,CAAiB6D,CAAjB7D,CAFX,GAGY6D,CAAAA,CAAE4L,KAAF5L,GAGD7D,KAAK2pB,YAAL3pB,CAAkB6D,CAAlB7D,CAHC6D,GACD7D,KAAK0pB,YAAL1pB,CAAkB6D,CAAlB7D,CAJX;AAI6B6D,WAxG9B;AA8GH4lB,UAAAA,WAAAA,EAAa,UAAuC5lB,CAAvC,EAAuCA;AAKhD,iBAJA,IAAI+lB,CAAAA,GAAS,mCAAb,EACIC,CAAAA,GAAQhmB,CAAAA,CAAEyD,OAAFzD,CAAUmH,KAAVnH,CAAgB,IAAhBA,CADZ,EAEIgD,CAAAA,GAAS,EAFb,EAISzG,CAAAA,GAAI,CAJb,EAIgBqJ,CAAAA,GAAMogB,CAAAA,CAAMtkB,MAA5B,EAAoCnF,CAAAA,GAAIqJ,CAAxC,EAA6CrJ,CAAAA,IAAK,CAAlD,EAAqD;AACjD,kBAAI6C,CAAAA,GAAQ2mB,CAAAA,CAAOvkB,IAAPukB,CAAYC,CAAAA,CAAMzpB,CAANypB,CAAZD,CAAZ;AACI3mB,cAAAA,CAAAA,IACA4D,CAAAA,CAAOZ,IAAPY,CAAY,IAAI2hB,CAAJ,CAAe;AACvBvZ,gBAAAA,QAAAA,EAAUhM,CAAAA,CAAM,CAANA,CADa;AAEvBiM,gBAAAA,UAAAA,EAAYjM,CAAAA,CAAM,CAANA,CAFW;AAGvB2B,gBAAAA,MAAAA,EAAQilB,CAAAA,CAAMzpB,CAANypB;AAHe,eAAf,CAAZhjB,CADA5D;AASR;;AAAA,mBAAO4D,CAAP;AAAOA,WA9HR;AAiIH6iB,UAAAA,YAAAA,EAAc,UAAwC7lB,CAAxC,EAAwCA;AAKlD,iBAJA,IAAI+lB,CAAAA,GAAS,4DAAb,EACIC,CAAAA,GAAQhmB,CAAAA,CAAE+kB,UAAF/kB,CAAamH,KAAbnH,CAAmB,IAAnBA,CADZ,EAEIgD,CAAAA,GAAS,EAFb,EAISzG,CAAAA,GAAI,CAJb,EAIgBqJ,CAAAA,GAAMogB,CAAAA,CAAMtkB,MAA5B,EAAoCnF,CAAAA,GAAIqJ,CAAxC,EAA6CrJ,CAAAA,IAAK,CAAlD,EAAqD;AACjD,kBAAI6C,CAAAA,GAAQ2mB,CAAAA,CAAOvkB,IAAPukB,CAAYC,CAAAA,CAAMzpB,CAANypB,CAAZD,CAAZ;AACI3mB,cAAAA,CAAAA,IACA4D,CAAAA,CAAOZ,IAAPY,CACI,IAAI2hB,CAAJ,CAAe;AACXrZ,gBAAAA,YAAAA,EAAclM,CAAAA,CAAM,CAANA,CAAAA,IAAM,KAAMyG,CADf;AAEXuF,gBAAAA,QAAAA,EAAUhM,CAAAA,CAAM,CAANA,CAFC;AAGXiM,gBAAAA,UAAAA,EAAYjM,CAAAA,CAAM,CAANA,CAHD;AAIX2B,gBAAAA,MAAAA,EAAQilB,CAAAA,CAAMzpB,CAANypB;AAJG,eAAf,CADJhjB,CADA5D;AAYR;;AAAA,mBAAO4D,CAAP;AAAOA,WApJR;AAwJH8iB,UAAAA,YAAAA,EAAc,UAAwCrlB,CAAxC,EAAwCA;AAKlD,mBAJeA,CAAAA,CAAMmL,KAANnL,CAAY0G,KAAZ1G,CAAkB,IAAlBA,EAAwB4kB,MAAxB5kB,CAA+B,UAASsD,CAAT,EAASA;AACnD,qBAAA,CAAA,CAASA,CAAAA,CAAK3E,KAAL2E,CAAW6gB,CAAX7gB,CAAT,IAAoB6gB,CAAiC7gB,CAAAA,CAAK3E,KAAL2E,CAAW,mBAAXA,CAArD;AAAgE,aADrDtD,EAEZtE,IAFYsE,EAIC6kB,GAJD7kB,CAIK,UAASsD,CAAT,EAASA;AACzB,kBAMImiB,CANJ;AAAA,kBAAIV,CAAAA,GAASzhB,CAAAA,CAAKoD,KAALpD,CAAW,GAAXA,CAAb;AAAA,kBACI0hB,CAAAA,GAAgBtpB,KAAKgpB,eAALhpB,CAAqBqpB,CAAAA,CAAO5d,GAAP4d,EAArBrpB,CADpB;AAAA,kBAEI8pB,CAAAA,GAAgBT,CAAAA,CAAOhJ,KAAPgJ,MAAkB,EAFtC;AAAA,kBAGIla,CAAAA,GAAe2a,CAAAA,CACdxmB,OADcwmB,CACN,gCADMA,EAC4B,IAD5BA,EAEdxmB,OAFcwmB,CAEN,YAFMA,EAEQ,EAFRA,KAEQ,KAAOpgB,CALlC;AAOIogB,cAAAA,CAAAA,CAAa7mB,KAAb6mB,CAAmB,aAAnBA,MACAC,CAAAA,GAAUD,CAAAA,CAAaxmB,OAAbwmB,CAAqB,oBAArBA,EAA2C,IAA3CA,CADVA;AAGJ,kBAAIlhB,CAAAA,GAAAA,KAAoBc,CAApBd,KAAQmhB,CAARnhB,IAA6C,gCAAZmhB,CAAjCnhB,GAAiCmhB,KACjCrgB,CADAd,GACYmhB,CAAAA,CAAQ/e,KAAR+e,CAAc,GAAdA,CADhB;AAGA,qBAAO,IAAIvB,CAAJ,CAAe;AAClBrZ,gBAAAA,YAAAA,EAAcA,CADI;AAElBvG,gBAAAA,IAAAA,EAAMA,CAFY;AAGlBqG,gBAAAA,QAAAA,EAAUqa,CAAAA,CAAc,CAAdA,CAHQ;AAIlBpa,gBAAAA,UAAAA,EAAYoa,CAAAA,CAAc,CAAdA,CAJM;AAKlBla,gBAAAA,YAAAA,EAAcka,CAAAA,CAAc,CAAdA,CALI;AAMlB1kB,gBAAAA,MAAAA,EAAQgD;AANU,eAAf,CAAP;AAMYA,aAxBDtD,EA0BZtE,IA1BYsE,CAIf;AAsBGtE;AAnLJ,SAAP;AAmLWA,OAhM6C,CAAA,GAAA,CAAA,CAAA,KAAA,CAAA,CAAA,EAAA,CAAA,CAAA,GAAA,CAAtB,MAAsB,CAAA,CAAA,OAAA,GAAA,CAAtB,CAA9B;AANR,KAAA,EAAA;AAAA,G;ACAA,QAAA,CAAA,EAAA,CAAA,EAAA,CAAA;AAAA,KAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACI;;AAKI,MAAA,CAAA,GAAqB,EAArB,EAAqB,KAAW,CAAX,MAAW,CAAA,GAAA,cAAA,QAAP,CAAA,GAMzB,YAAA;AAMJ,iBAASmqB,CAAT,CAAqB/kB,CAArB,EAAqBA;AACjB,iBAAOA,CAAAA,CAAIglB,MAAJhlB,CAAW,CAAXA,EAAcilB,WAAdjlB,KAA8BA,CAAAA,CAAIoB,SAAJpB,CAAc,CAAdA,CAArC;AAGJ;;AAAA,iBAASklB,CAAT,CAAiBpoB,CAAjB,EAAiBA;AACb,iBAAO,YAAA;AACH,mBAAOlC,KAAKkC,CAALlC,CAAP;AAAYkC,WADhB;AAKJ;;AAAA,YAAIqoB,CAAAA,GAAe,CAAC,eAAD,EAAkB,QAAlB,EAA4B,UAA5B,EAAwC,YAAxC,CAAnB;AAAA,YACIC,CAAAA,GAAe,CAAC,cAAD,EAAiB,YAAjB,CADnB;AAAA,YAEIC,CAAAA,GAAc,CAAC,UAAD,EAAa,cAAb,EAA6B,QAA7B,CAFlB;AAAA,YAKIC,CAAAA,GAAQH,CAAAA,CAAa1e,MAAb0e,CAAoBC,CAApBD,EAAkCE,CAAlCF,EAFK,CAAC,MAAD,CAELA,CALZ;;AAOA,iBAAS/B,CAAT,CAAoB1hB,CAApB,EAAoBA;AAChB,cAAKA,CAAL,EACA,KAAK,IAAI1G,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAIsqB,CAAAA,CAAMnlB,MAA1B,EAAkCnF,CAAAA,EAAlC,EAAkCA,KACRsJ,CADQtJ,KAC1B0G,CAAAA,CAAI4jB,CAAAA,CAAMtqB,CAANsqB,CAAJ5jB,CAD0B1G,IAE1BJ,KAAK,QAAQmqB,CAAAA,CAAYO,CAAAA,CAAMtqB,CAANsqB,CAAZP,CAAbnqB,EAAoC8G,CAAAA,CAAI4jB,CAAAA,CAAMtqB,CAANsqB,CAAJ5jB,CAApC9G,CAF0BI;AAOtCooB;;AAAAA,QAAAA,CAAAA,CAAWxmB,SAAXwmB,GAAuB;AACnBmC,UAAAA,OAAAA,EAAS,YAAA;AACL,mBAAO3qB,KAAK4I,IAAZ;AAAYA,WAFG;AAInBgiB,UAAAA,OAAAA,EAAS,UAAS5Z,CAAT,EAASA;AACd,gBAA0C,qBAAtClQ,MAAAA,CAAOkB,SAAPlB,CAAiBkC,QAAjBlC,CAA0BP,IAA1BO,CAA+BkQ,CAA/BlQ,CAAJ,EACI,MAAM,IAAI+pB,SAAJ,CAAc,uBAAd,CAAN;AAEJ7qB,iBAAK4I,IAAL5I,GAAYgR,CAAZhR;AAAYgR,WARG;AAWnB8Z,UAAAA,aAAAA,EAAe,YAAA;AACX,mBAAO9qB,KAAK+qB,UAAZ;AAAYA,WAZG;AAcnBC,UAAAA,aAAAA,EAAe,UAASha,CAAT,EAASA;AACpB,gBAAIA,CAAAA,YAAawX,CAAjB,EACIxoB,KAAK+qB,UAAL/qB,GAAkBgR,CAAlBhR,CADJ,KAEO;AAAA,kBAAA,EAAIgR,CAAAA,YAAalQ,MAAjB,CAAA,EAGH,MAAM,IAAI+pB,SAAJ,CAAc,6CAAd,CAAN;AAFA7qB,mBAAK+qB,UAAL/qB,GAAkB,IAAIwoB,CAAJ,CAAexX,CAAf,CAAlBhR;AAAiCgR;AAAAA,WAlBtB;AAwBnBhO,UAAAA,QAAAA,EAAU,YAAA;AACN,gBAAIiM,CAAAA,GAAWjP,KAAKirB,WAALjrB,MAAsB,EAArC;AAAA,gBACIkP,CAAAA,GAAalP,KAAKkrB,aAALlrB,MAAwB,EADzC;AAAA,gBAEIoP,CAAAA,GAAepP,KAAKmrB,eAALnrB,MAA0B,EAF7C;AAAA,gBAGImP,CAAAA,GAAenP,KAAKorB,eAALprB,MAA0B,EAH7C;AAIA,mBAAIA,KAAKqrB,SAALrrB,KACIiP,CAAAA,GACO,aAAaA,CAAb,GAAwB,GAAxB,GAA8BC,CAA9B,GAA2C,GAA3C,GAAiDE,CAAjD,GAAgE,GADvEH,GAGG,YAAYC,CAAZ,GAAyB,GAAzB,GAA+BE,CAJtCpP,GAMAmP,CAAAA,GACOA,CAAAA,GAAe,IAAfA,GAAsBF,CAAtBE,GAAiC,GAAjCA,GAAuCD,CAAvCC,GAAoD,GAApDA,GAA0DC,CAA1DD,GAAyE,GADhFA,GAGGF,CAAAA,GAAW,GAAXA,GAAiBC,CAAjBD,GAA8B,GAA9BA,GAAoCG,CAT3C;AAS2CA;AAtC5B,SAAvBoZ,EA0CAA,CAAAA,CAAW8C,UAAX9C,GAAwB,UAAgCpjB,CAAhC,EAAgCA;AACpD,cAAImmB,CAAAA,GAAiBnmB,CAAAA,CAAIkB,OAAJlB,CAAY,GAAZA,CAArB;AAAA,cACIomB,CAAAA,GAAepmB,CAAAA,CAAIqmB,WAAJrmB,CAAgB,GAAhBA,CADnB;AAAA,cAGI+J,CAAAA,GAAe/J,CAAAA,CAAIoB,SAAJpB,CAAc,CAAdA,EAAiBmmB,CAAjBnmB,CAHnB;AAAA,cAIIwD,CAAAA,GAAOxD,CAAAA,CAAIoB,SAAJpB,CAAcmmB,CAAAA,GAAiB,CAA/BnmB,EAAkComB,CAAlCpmB,EAAgD4F,KAAhD5F,CAAsD,GAAtDA,CAJX;AAAA,cAKIsmB,CAAAA,GAAiBtmB,CAAAA,CAAIoB,SAAJpB,CAAcomB,CAAAA,GAAe,CAA7BpmB,CALrB;AAOA,cAAoC,MAAhCsmB,CAAAA,CAAeplB,OAAfolB,CAAuB,GAAvBA,CAAJ,EACI,IAAIlgB,CAAAA,GAAQ,gCAAgCnG,IAAhC,CAAqCqmB,CAArC,EAAqD,EAArD,CAAZ;AAAA,cACIzc,CAAAA,GAAWzD,CAAAA,CAAM,CAANA,CADf;AAAA,cAEI0D,CAAAA,GAAa1D,CAAAA,CAAM,CAANA,CAFjB;AAAA,cAGI4D,CAAAA,GAAe5D,CAAAA,CAAM,CAANA,CAHnB;AAMJ,iBAAO,IAAIgd,CAAJ,CAAe;AAClBrZ,YAAAA,YAAAA,EAAcA,CADI;AAElBvG,YAAAA,IAAAA,EAAMA,CAAAA,IAAAA,KAAQc,CAFI;AAGlBuF,YAAAA,QAAAA,EAAUA,CAHQ;AAIlBC,YAAAA,UAAAA,EAAYA,CAAAA,IAAAA,KAAcxF,CAJR;AAKlB0F,YAAAA,YAAAA,EAAcA,CAAAA,IAAAA,KAAgB1F;AALZ,WAAf,CAAP;AAKkCA,SA9DtC8e;;AAkEA,aAAK,IAAIpoB,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAImqB,CAAAA,CAAahlB,MAAjC,EAAyCnF,CAAAA,EAAzC,EACIooB,CAAAA,CAAWxmB,SAAXwmB,CAAqB,QAAQ2B,CAAAA,CAAYI,CAAAA,CAAanqB,CAAbmqB,CAAZJ,CAA7B3B,IAA6D8B,CAAAA,CAAQC,CAAAA,CAAanqB,CAAbmqB,CAARD,CAA7D9B,EACAA,CAAAA,CAAWxmB,SAAXwmB,CAAqB,QAAQ2B,CAAAA,CAAYI,CAAAA,CAAanqB,CAAbmqB,CAAZJ,CAA7B3B,IAA6D,UAAUtmB,CAAV,EAAUA;AACnE,iBAAO,UAAS8O,CAAT,EAASA;AACZhR,iBAAKkC,CAALlC,IAAU2rB,OAAAA,CAAQ3a,CAAR2a,CAAV3rB;AAAkBgR,WADtB;AADyD,SAAA,CAI1DuZ,CAAAA,CAAanqB,CAAbmqB,CAJ0D,CAD7D/B;;AAQJ,aAAK,IAAIhf,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAIghB,CAAAA,CAAajlB,MAAjC,EAAyCiE,CAAAA,EAAzC,EACIgf,CAAAA,CAAWxmB,SAAXwmB,CAAqB,QAAQ2B,CAAAA,CAAYK,CAAAA,CAAahhB,CAAbghB,CAAZL,CAA7B3B,IAA6D8B,CAAAA,CAAQE,CAAAA,CAAahhB,CAAbghB,CAARF,CAA7D9B,EACAA,CAAAA,CAAWxmB,SAAXwmB,CAAqB,QAAQ2B,CAAAA,CAAYK,CAAAA,CAAahhB,CAAbghB,CAAZL,CAA7B3B,IAA6D,UAAUtmB,CAAV,EAAUA;AACnE,iBAAO,UAAS8O,CAAT,EAASA;AACZ,gBA7GOnP,CAAAA,GA6GQmP,CA7GRnP,EACPmoB,KAAAA,CAAMC,UAAAA,CAAWpoB,CAAXooB,CAAND,CAAAA,IAAiBnoB,CAAOqoB,QAAAA,CAASroB,CAATqoB,CA4GxB,EACI,MAAM,IAAIW,SAAJ,CAAc3oB,CAAAA,GAAI,mBAAlB,CAAN;AA9GhB,gBAAmBL,CAAnB;AAgHY7B,iBAAKkC,CAALlC,IAAU4rB,MAAAA,CAAO5a,CAAP4a,CAAV5rB;AAAiBgR,WAJrB;AADyD,SAAA,CAO1DwZ,CAAAA,CAAahhB,CAAbghB,CAP0D,CAD7DhC;;AAWJ,aAAK,IAAIxiB,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAIykB,CAAAA,CAAYllB,MAAhC,EAAwCS,CAAAA,EAAxC,EACIwiB,CAAAA,CAAWxmB,SAAXwmB,CAAqB,QAAQ2B,CAAAA,CAAYM,CAAAA,CAAYzkB,CAAZykB,CAAZN,CAA7B3B,IAA4D8B,CAAAA,CAAQG,CAAAA,CAAYzkB,CAAZykB,CAARH,CAA5D9B,EACAA,CAAAA,CAAWxmB,SAAXwmB,CAAqB,QAAQ2B,CAAAA,CAAYM,CAAAA,CAAYzkB,CAAZykB,CAAZN,CAA7B3B,IAA4D,UAAUtmB,CAAV,EAAUA;AAClE,iBAAO,UAAS8O,CAAT,EAASA;AACZhR,iBAAKkC,CAALlC,IAAU4D,MAAAA,CAAOoN,CAAPpN,CAAV5D;AAAiBgR,WADrB;AADwD,SAAA,CAIzDyZ,CAAAA,CAAYzkB,CAAZykB,CAJyD,CAD5DjC;;AAQJ,eAAOA,CAAP;AAAOA,OAtI6B,CAAA,GAAA,CAAA,CAAA,KAAA,CAAA,CAAA,EAAA,CAAA,CAAA,GAAA,CAAX,MAAW,CAAA,CAAA,OAAA,GAAA,CAAX,CAArB;AANR,KAAA,EAAA;AAAA,G;;;ACEA,QAAI3a,CAAAA,GAAI,CAAA,CAAQ,CAAR,CAAR;;AA6EA,aAASoe,CAAT,CAA2BrmB,CAA3B,EAAoCjF,CAApC,EAAoCA;AAC/BkN,MAAAA,CAAAA,CAAEtL,UAAFsL,CAAajI,CAAAA,CAAQjF,CAARiF,CAAbiI,MACDjI,CAAAA,CAAQjF,CAARiF,CAAAA,GAAgBA,CAAAA,CAAQjF,CAARiF,CAAAA,CAAc5C,QAAd4C,EADfiI;AAiDLhO;;AAAAA,IAAAA,CAAAA,CAAOD,OAAPC,GAAiB;AACfiZ,MAAAA,aAAAA,EA9HF,UAAuBnP,CAAvB,EAA6B/D,CAA7B,EAAsCqD,CAAtC,EAAsCA;AACpC,YAAI4iB,CAAAA,GAAiBjmB,CAAAA,CAAQoG,OAARpG,IAAmB,EAAxC;AACIimB,QAAAA,CAAAA,CAAenO,IAAfmO,IAAenO,OACVmO,CAAAA,CAAenO,IADpBmO;AAIJ,YAAIxhB,CAAAA,GAAOwD,CAAAA,CAAEzL,KAAFyL,CAAQlE,CAAAA,CAAKU,IAAbwD,EAAmBge,CAAnBhe,CAAX;AACIlE,QAAAA,CAAAA,CAAK2M,WAAL3M,KACFU,CAAAA,CAAKiM,WAALjM,GAAKiM,CAAc,CADjB3M,GAGAA,CAAAA,CAAKK,aAALL,KACFU,CAAAA,CAAKL,aAALK,GAAqBV,CAAAA,CAAKK,aADxBL,CAHAA,EAMJV,CAAAA,CAAS,IAATA,EAAeoB,CAAfpB,CANIU;AAMWU,OAgHA;AAEfmO,MAAAA,gBAAAA,EA/GF,UAA0B7O,CAA1B,EAAgC/D,CAAhC,EAAyCqD,CAAzC,EAAyCA;AACnCU,QAAAA,CAAAA,CAAK4R,eAAL5R,IACFkE,CAAAA,CAAEJ,GAAFI,CAAMlE,CAANkE,EAAY,qBAAZA,EAAmClE,CAAAA,CAAK4R,eAAxC1N,CADElE,EAGJV,CAAAA,CAAS,IAATA,EAAeU,CAAfV,CAHIU;AAGWA,OAyGA;AAGf4O,MAAAA,mBAAAA,EAzGF,UAA6B5O,CAA7B,EAAmC/D,CAAnC,EAA4CqD,CAA5C,EAA4CA;AAC1C,YAAKU,CAAAA,CAAKrC,OAAV,EAAA;AAIA,cAAIwkB,CAAAA,GAAY,yBAAhB;AAAA,cACIvE,CAAAA,GAAQ1Z,CAAAA,CAAE5M,GAAF4M,CAAMlE,CAANkE,EAAYie,CAAZje,CADZ;;AAMA,cAJK0Z,CAAAA,KACHuE,CAAAA,GAAY,iBAAZA,EACAvE,CAAAA,GAAQ1Z,CAAAA,CAAE5M,GAAF4M,CAAMlE,CAANkE,EAAYie,CAAZje,CAFL0Z,CAAAA,EAIDA,CAAJ,EAAW;AACT,gBAAA,CAAMA,CAAAA,CAAMjY,SAAZ,IAAYA,CAAaiY,CAAAA,CAAMjY,SAANiY,CAAgB1B,WAAzC,EAGE,OAFAhY,CAAAA,CAAEJ,GAAFI,CAAMlE,CAANkE,EAAYie,CAAAA,GAAU,wBAAtBje,EAAgDlE,CAAAA,CAAKrC,OAArDuG,GAAqDvG,KACrD2B,CAAAA,CAAS,IAATA,EAAeU,CAAfV,CACA;AAEF,gBAAI0U,CAAAA,GAAQ9P,CAAAA,CAAE5M,GAAF4M,CAAMlE,CAANkE,EAAYie,CAAAA,GAAU,QAAtBje,KAAmC,EAA/C;AAAA,gBACIke,CAAAA,GAAYle,CAAAA,CAAEzL,KAAFyL,CAAQ8P,CAAR9P,EAAe;AAACvG,cAAAA,OAAAA,EAASqC,CAAAA,CAAKrC;AAAf,aAAfuG,CADhB;AAEAA,YAAAA,CAAAA,CAAEJ,GAAFI,CAAMlE,CAANkE,EAAYie,CAAAA,GAAU,QAAtBje,EAAgCke,CAAhCle;AAEF5E;;AAAAA,UAAAA,CAAAA,CAAS,IAATA,EAAeU,CAAfV,CAAAA;AAAeU,SApBf,MACEV,CAAAA,CAAS,IAATA,EAAeU,CAAfV,CAAAA;AAAeU,OAoGF;AAIfgP,MAAAA,aAAAA,EAlFF,UAAuBlQ,CAAvB,EAAuBA;AACrB,eAAO,UAASkB,CAAT,EAAe/D,CAAf,EAAwBqD,CAAxB,EAAwBA;AAC7B,cAAI+iB,CAAAA,GAAUne,CAAAA,CAAEzL,KAAFyL,CAAQlE,CAARkE,CAAd;;AACA,cAAA;AACMA,YAAAA,CAAAA,CAAEtL,UAAFsL,CAAajI,CAAAA,CAAQ0a,SAArBzS,KACFjI,CAAAA,CAAQ0a,SAAR1a,CAAkBomB,CAAAA,CAAQ3hB,IAA1BzE,EAAgC+D,CAAhC/D,CADEiI;AAGJ,WAJF,CAIE,OAAOhK,CAAP,EAAOA;AAIP,mBAHA+B,CAAAA,CAAQ0a,SAAR1a,GAAoB,IAApBA,EACA6C,CAAAA,CAAOnE,KAAPmE,CAAa,+EAAbA,EAA8F5E,CAA9F4E,CADA7C,EAC8F/B,KAC9FoF,CAAAA,CAAS,IAATA,EAAeU,CAAfV,CACA;AAEFA;;AAAAA,UAAAA,CAAAA,CAAS,IAATA,EAAe+iB,CAAf/iB,CAAAA;AAAe+iB,SAZjB;AAYiBA,OAiEF;AAKfvT,MAAAA,kBAAAA,EAlEF,UAA4B9O,CAA5B,EAAkC/D,CAAlC,EAA2CqD,CAA3C,EAA2CA;AACzC,YAAA,CAAKrD,CAAAA,CAAQmU,UAAb,EACE,OAAO9Q,CAAAA,CAAS,IAATA,EAAeU,CAAfV,CAAP;AAEF,YACID,CAAAA,GAAS6E,CAAAA,CAAE5M,GAAF4M,CAAMlE,CAANkE,EAAY,aAAZA,KAA8B,EAD3C;AAEA7E,QAAAA,CAAAA,CAAgB,cAAhBA,GAAoBpD,CAApBoD,EACAW,CAAAA,CAAKU,IAALV,CAAUX,MAAVW,GAAmBX,CADnBA,EAEAC,CAAAA,CAAS,IAATA,EAAeU,CAAfV,CAFAD;AAEeW,OAqDA;AAMfiP,MAAAA,oBAAAA,EAlDF,UAA8BjP,CAA9B,EAAoC/D,CAApC,EAA6CqD,CAA7C,EAA6CA;AAC3C,YAAIijB,CAAAA,GAAoBtmB,CAAAA,CAAQ6N,kBAAhC;AAGAwY,QAAAA,CAAAA,CAAkBC,CAAlBD,EAAqC,WAArCA,CAAAA,EACAA,CAAAA,CAAkBC,CAAlBD,EAAqC,aAArCA,CADAA,EAEAA,CAAAA,CAAkBC,CAAlBD,EAAqC,gBAArCA,CAFAA,EAEqC,OAE9BC,CAAAA,CAAkBvmB,WAJzBsmB,EAKAtiB,CAAAA,CAAKU,IAALV,CAAUd,QAAVc,CAAmBwiB,kBAAnBxiB,GAAwCuiB,CALxCD,EAMAhjB,CAAAA,CAAS,IAATA,EAAeU,CAAfV,CANAgjB;AAMetiB,OAkCA;AAOfkP,MAAAA,iBAAAA,EAtCF,UAA2BlP,CAA3B,EAAiC/D,CAAjC,EAA0CqD,CAA1C,EAA0CA;AACxC,YAAIY,CAAAA,GAAagE,CAAAA,CAAEzL,KAAFyL,CAAQlE,CAAAA,CAAKd,QAALc,CAAc4J,MAAd5J,CAAqBd,QAArBc,CAA8BE,UAAtCgE,EAAkDlE,CAAAA,CAAKE,UAAvDgE,CAAjB;AAUA,YARIA,CAAAA,CAAE5M,GAAF4M,CAAMlE,CAANkE,EAAY,kBAAZA,MACFhE,CAAAA,CAAWuiB,YAAXviB,GAAWuiB,CAAe,CADxBve,GAIAlE,CAAAA,CAAK2M,WAAL3M,KACFE,CAAAA,CAAWwiB,WAAXxiB,GAAyBF,CAAAA,CAAK2M,WAD5B3M,CAJAkE,EAQAlE,CAAAA,CAAKjB,GAAT,EACE,IAAA;AACEmB,UAAAA,CAAAA,CAAWyiB,SAAXziB,GAAuB;AACrBvC,YAAAA,OAAAA,EAASqC,CAAAA,CAAKjB,GAALiB,CAASrC,OADG;AAErB3G,YAAAA,IAAAA,EAAMgJ,CAAAA,CAAKjB,GAALiB,CAAShJ,IAFM;AAGrB4rB,YAAAA,gBAAAA,EAAkB5iB,CAAAA,CAAKjB,GAALiB,CAASyG,WAATzG,IAAwBA,CAAAA,CAAKjB,GAALiB,CAASyG,WAATzG,CAAqBhJ,IAH1C;AAIrBwnB,YAAAA,QAAAA,EAAUxe,CAAAA,CAAKjB,GAALiB,CAASsF,QAJE;AAKrBrH,YAAAA,IAAAA,EAAM+B,CAAAA,CAAKjB,GAALiB,CAASuF,UALM;AAMrBrH,YAAAA,MAAAA,EAAQ8B,CAAAA,CAAKjB,GAALiB,CAASyF,YANI;AAOrBK,YAAAA,KAAAA,EAAO9F,CAAAA,CAAKjB,GAALiB,CAAS8F;AAPK,WAAvB5F;AASA,SAVF,CAUE,OAAOhG,CAAP,EAAOA;AACPgG,UAAAA,CAAAA,CAAWyiB,SAAXziB,GAAuB;AAAE2iB,YAAAA,MAAAA,EAAQ5oB,MAAAA,CAAOC,CAAPD;AAAV,WAAvBiG;AAIJF;AAAAA,QAAAA,CAAAA,CAAKU,IAALV,CAAUd,QAAVc,CAAmBE,UAAnBF,GAAgCkE,CAAAA,CAAEzL,KAAFyL,CAAQlE,CAAAA,CAAKU,IAALV,CAAUd,QAAVc,CAAmBE,UAA3BgE,EAAuChE,CAAvCgE,CAAhClE,EACAV,CAAAA,CAAS,IAATA,EAAeU,CAAfV,CADAU;AACeA;AAGA,KAAjB9J;AAHiB8J,G;;;AC5HjB,QAAIkE,CAAAA,GAAI,CAAA,CAAQ,CAAR,CAAR;AASAhO,IAAAA,CAAAA,CAAOD,OAAPC,GAAiB;AACfoZ,MAAAA,WAAAA,EARF,UAAqBtP,CAArB,EAA2B8iB,CAA3B,EAA2BA;AACzB,eAAA,CAAI5e,CAAAA,CAAE5M,GAAF4M,CAAM4e,CAAN5e,EAAgB,iCAAhBA,CAAJ,IAAoB,CACVA,CAAAA,CAAE5M,GAAF4M,CAAMlE,CAANkE,EAAY,2BAAZA,CADV;AACsB;AAKP,KAAjBhO;AALwB,G;;;ACJxB,QAAIgO,CAAAA,GAAI,CAAA,CAAQ,CAAR,CAAR;;AAoDA,aAASif,CAAT,CAAqBvF,CAArB,EAA4BwF,CAA5B,EAAkCC,CAAlC,EAAkCA;AAChC,UAAA,CAAKzF,CAAL,EAAc,OAAA,CAAQyF,CAAR;AAEd,UAIW7E,CAJX;AAAA,UAIqB3jB,CAJrB;AAAA,UAAI0jB,CAAAA,GAASX,CAAAA,CAAMW,MAAnB;AAEA,UAAA,CAAKA,CAAL,IAAiC,MAAlBA,CAAAA,CAAO3iB,MAAtB,EAAsC,OAAA,CAAQynB,CAAR;;AAKtC,WAFA,IAAIC,CAAAA,GAAaF,CAAAA,CAAKxnB,MAAtB,EACI2nB,CAAAA,GAAchF,CAAAA,CAAO3iB,MADzB,EAESnF,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAI8sB,CAApB,EAAiC9sB,CAAAA,EAAjC,EAAsC;AAIpC,YAFA+nB,CAAAA,GADQD,CAAAA,CAAO9nB,CAAP8nB,CAAAA,CACSC,QAAjBA,EAAiBA,CAEZta,CAAAA,CAAEjL,MAAFiL,CAASsa,CAATta,EAAmB,QAAnBA,CAAL,EAAqC,OAAA,CAAQmf,CAAR;;AAErC,aAAK,IAAIxjB,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAIyjB,CAApB,EAAgCzjB,CAAAA,EAAhC,EAIE,IAHAhF,CAAAA,GAAMuoB,CAAAA,CAAKvjB,CAALujB,CAANvoB,EACW,IAAIhB,MAAJ,CAAWgB,CAAX,EAEEd,IAFF,CAEOykB,CAFP,CAEX,EACE,OAAA,CAAO,CAAP;AAIN;;AAAA,aAAA,CAAO,CAAP;AAGF;;AAAA,aAAS0E,CAAT,CAAsBljB,CAAtB,EAA4B8iB,CAA5B,EAAsCU,CAAtC,EAAmD1kB,CAAnD,EAAmDA;AAEjD,UAKIskB,CALJ;AAAA,UAKU1F,CALV;AAAA,UAAI2F,CAAAA,GAAAA,CAAQ,CAAZ;AACoB,sBAAhBG,CAAgB,KAClBH,CAAAA,GAAAA,CAAQ,CADU;;AAKpB,UAAA;AAME,YALAD,CAAAA,GAAOC,CAAAA,GAAQP,CAAAA,CAASjgB,aAAjBwgB,GAAiCP,CAAAA,CAASpgB,YAAjD0gB,EACA1F,CAAAA,GAASxZ,CAAAA,CAAE5M,GAAF4M,CAAMlE,CAANkE,EAAY,kBAAZA,KAAmC,CAACA,CAAAA,CAAE5M,GAAF4M,CAAMlE,CAANkE,EAAY,YAAZA,CAAD,CAD5Ckf,EACyD,CAIpDA,CAJoD,IAI5B,MAAhBA,CAAAA,CAAKxnB,MAAlB,EACE,OAAA,CAAQynB,CAAR;AAEF,YAAsB,MAAlB3F,CAAAA,CAAO9hB,MAAW,IAAXA,CAAiB8hB,CAAAA,CAAO,CAAPA,CAA5B,EACE,OAAA,CAAQ2F,CAAR;;AAIF,aADA,IAAII,CAAAA,GAAe/F,CAAAA,CAAO9hB,MAA1B,EACSnF,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAIgtB,CAApB,EAAkChtB,CAAAA,EAAlC,EACE,IAAG0sB,CAAAA,CAAYzF,CAAAA,CAAOjnB,CAAPinB,CAAZyF,EAAuBC,CAAvBD,EAA6BE,CAA7BF,CAAH,EACE,OAAA,CAAO,CAAP;AAGJ,OAnBF,CAmBE,OAAOjpB,CAAP,EAAOA;AAGHmpB,QAAAA,CAAAA,GACFP,CAAAA,CAASjgB,aAATigB,GAAyB,IADvBO,GAGFP,CAAAA,CAASpgB,YAATogB,GAAwB,IAHtBO;AAKJ,YAAIK,CAAAA,GAAWL,CAAAA,GAAQ,eAARA,GAA0B,cAAzC;AAEA,eADAvkB,CAAAA,CAAOnE,KAAPmE,CAAa,8CAA+C4kB,CAA/C,GAA0D,2BAA1D,GAAwFA,CAAxF,GAAmG,GAAhH5kB,EAAqH5E,CAArH4E,GAAqH5E,CAC7GmpB,CAAR;AAEF;;AAAA,aAAA,CAAO,CAAP;AA+CFntB;;AAAAA,IAAAA,CAAAA,CAAOD,OAAPC,GAAiB;AACfmZ,MAAAA,UAAAA,EArKF,UAAoBrP,CAApB,EAA0B8iB,CAA1B,EAA0BA;AACxB,YAAIviB,CAAAA,GAAQP,CAAAA,CAAKO,KAAjB;AAAA,YACIwiB,CAAAA,GAAW7e,CAAAA,CAAER,MAAFQ,CAAS3D,CAAT2D,KAAmB,CADlC;AAAA,YAEI6L,CAAAA,GAAc+S,CAAAA,CAAS/S,WAF3B;AAKA,eAAA,EAAIgT,CAAAA,IAFiB7e,CAAAA,CAAER,MAAFQ,CAAS6L,CAAT7L,KAAyB,CAE1C6e,CAAJ,CAAA;AAF8C,OAgK/B;AAEfxT,MAAAA,eAAAA,EA1JF,UAAyBzQ,CAAzB,EAAyBA;AACvB,eAAO,UAASkB,CAAT,EAAe8iB,CAAf,EAAeA;AACpB,cAAIE,CAAAA,GAAAA,CAAAA,CAAehjB,CAAAA,CAAK2M,WAAxB;AAAwBA,iBACjB3M,CAAAA,CAAK2M,WADYA;AAExB,cAAI1N,CAAAA,GAAOe,CAAAA,CAAKK,aAAhB;AAAgBA,iBACTL,CAAAA,CAAKK,aADIA;;AAEhB,cAAA;AACM6D,YAAAA,CAAAA,CAAEtL,UAAFsL,CAAa4e,CAAAA,CAASG,cAAtB/e,KACF4e,CAAAA,CAASG,cAATH,CAAwBE,CAAxBF,EAAoC7jB,CAApC6jB,EAA0C9iB,CAA1C8iB,CADE5e;AAGJ,WAJF,CAIE,OAAOhK,CAAP,EAAOA;AACP4oB,YAAAA,CAAAA,CAASG,cAATH,GAA0B,IAA1BA,EACAhkB,CAAAA,CAAOnE,KAAPmE,CAAa,8CAAbA,EAA6D5E,CAA7D4E,CADAgkB;AAGF;;AAAA,cAAA;AACE,gBAAI5e,CAAAA,CAAEtL,UAAFsL,CAAa4e,CAAAA,CAASxT,WAAtBpL,KAAsC4e,CAAAA,CAASxT,WAATwT,CAAqBE,CAArBF,EAAiC7jB,CAAjC6jB,EAAuC9iB,CAAvC8iB,CAA1C,EACE,OAAA,CAAO,CAAP;AAEF,WAJF,CAIE,OAAO5oB,CAAP,EAAOA;AACP4oB,YAAAA,CAAAA,CAASxT,WAATwT,GAAuB,IAAvBA,EACAhkB,CAAAA,CAAOnE,KAAPmE,CAAa,oDAAbA,EAAmE5E,CAAnE4E,CADAgkB;AAGF;;AAAA,iBAAA,CAAO,CAAP;AAAO,SArBT;AAqBS,OAkIM;AAGftT,MAAAA,mBAAAA,EAjIF,UAA6B1Q,CAA7B,EAA6BA;AAC3B,eAAO,UAASkB,CAAT,EAAe8iB,CAAf,EAAeA;AACpB,iBAAA,CAAQI,CAAAA,CAAaljB,CAAbkjB,EAAmBJ,CAAnBI,EAA6B,WAA7BA,EAA0CpkB,CAA1CokB,CAAR;AAAkDpkB,SADpD;AACoDA,OA4HrC;AAIf2Q,MAAAA,eAAAA,EA5HF,UAAyB3Q,CAAzB,EAAyBA;AACvB,eAAO,UAASkB,CAAT,EAAe8iB,CAAf,EAAeA;AACpB,iBAAOI,CAAAA,CAAaljB,CAAbkjB,EAAmBJ,CAAnBI,EAA6B,UAA7BA,EAAyCpkB,CAAzCokB,CAAP;AAAgDpkB,SADlD;AACkDA,OAsHnC;AAKf4Q,MAAAA,gBAAAA,EAjDF,UAA0B5Q,CAA1B,EAA0BA;AACxB,eAAO,UAASkB,CAAT,EAAe8iB,CAAf,EAAeA;AACpB,cAAIa,CAAJ,EAAsBltB,CAAtB,EAAyBmtB,CAAzB,EACI9jB,CADJ,EACS4P,CADT,EAEIqE,CAFJ,EAEU8P,CAFV,EAEwBC,CAFxB;;AAIA,cAAA;AAIE,gBAHApU,CAAAA,GAAAA,CAAmB,CAAnBA,EAAmB,EACnBkU,CAAAA,GAAkBd,CAAAA,CAASc,eADR,KAGgC,MAA3BA,CAAAA,CAAgBhoB,MAAxC,EACE,OAAA,CAAO,CAAP;AASF,gBANAmY,CAAAA,GAAO/T,CAAAA,CAAK+T,IAAZA,EACA8P,CAAAA,GAAe3f,CAAAA,CAAE5M,GAAF4M,CAAM6P,CAAN7P,EAAY,yBAAZA,CADf6P,EAEA+P,CAAAA,GAAc5f,CAAAA,CAAE5M,GAAF4M,CAAM6P,CAAN7P,EAAY,cAAZA,CAFd6P,EAE0B,EAE1B4P,CAAAA,GAAmBE,CAAAA,IAAgBC,CAFT,CAI1B,EACE,OAAA,CAAO,CAAP;;AAIF,iBADAhkB,CAAAA,GAAM8jB,CAAAA,CAAgBhoB,MAAtBkE,EACKrJ,CAAAA,GAAI,CAAT,EAAYA,CAAAA,GAAIqJ,CAAJrJ,IAAIqJ,EAEd4P,CAAAA,GADkB,IAAI7V,MAAJ,CAAW+pB,CAAAA,CAAgBntB,CAAhBmtB,CAAX,EAA+B,IAA/B,EACiB7pB,IADjB,CACsB4pB,CADtB,CADJ7jB,CAAhB,EAAqBrJ,CAAAA,EAArB,CAAqBA;AAQrB,WA3BF,CA2BE,OAAMyD,CAAN,EAAMA;AAGN4oB,YAAAA,CAAAA,CAASc,eAATd,GAA2B,IAA3BA,EACAhkB,CAAAA,CAAOnE,KAAPmE,CAAa,mGAAbA,CADAgkB;AAIF;;AAAA,iBAAA,CAAQpT,CAAR;AAAQA,SAvCV;AAuCUA;AAIK,KAAjBxZ;AAJYwZ,G;;;AClKZxZ,IAAAA,CAAAA,CAAOD,OAAPC,GAAiB;AACf2Z,MAAAA,OAAAA,EAAS,QADM;AAEfG,MAAAA,QAAAA,EAAU,6BAFK;AAGfF,MAAAA,QAAAA,EAAU,OAHK;AAIfC,MAAAA,WAAAA,EAAa,OAJE;AAKfrD,MAAAA,kBAAAA,EAAoB,OALL;AAMfwE,MAAAA,QAAAA,EAAU,CANK;AAOf6S,MAAAA,WAAAA,EAAa;AAPE,KAAjB7tB;AAOe,G;;;ACPfA,IAAAA,CAAAA,CAAOD,OAAPC,GAAiB;AACfsM,MAAAA,WAAAA,EAAa,CACX,IADW,EAEX,MAFW,EAGX,QAHW,EAIX,UAJW,EAKX,QALW,EAMX,kBANW,EAOX,iBAPW,EAQX,uBARW,EASX,sBATW,EAUX,cAVW,EAWX,aAXW,EAYX,wBAZW,EAaX,YAbW,EAcX,WAdW,EAeX,aAfW,EAgBX,WAhBW,EAiBX,aAjBW,EAkBX,YAlBW,EAmBX,SAnBW,EAoBX,OApBW,EAqBX,UArBW,EAsBX,QAtBW,EAuBX,kBAvBW,EAwBX,oBAxBW,EAyBX,qBAzBW,EA0BX,iBA1BW,EA2BX,cA3BW,EA4BX,gBA5BW,EA6BX,OA7BW,EA8BX,QA9BW,EA+BX,QA/BW,EAgCX,KAhCW,EAiCX,MAjCW,EAkCX,MAlCW,EAmCX,MAnCW,EAoCX,eApCW,EAqCX,mBArCW,EAsCX,qBAtCW,EAuCX,cAvCW,EAwCX,YAxCW,EAyCX,YAzCW,EA0CX,aA1CW,EA2CX,yBA3CW,EA4CX,QA5CW,EA6CX,WA7CW,EA8CX,UA9CW,EA+CX,SA/CW,EAgDX,QAhDW,EAiDX,cAjDW,EAkDX,iBAlDW,EAmDX,gBAnDW,EAoDX,SApDW,EAqDX,QArDW,EAsDX,SAtDW,EAuDX,QAvDW;AADE,KAAjBtM;AAwDI,G;;;ACxDJ,QAAIgO,CAAAA,GAAI,CAAA,CAAQ,CAAR,CAAR;;AAIA,aAAS6F,CAAT,CAAmB9N,CAAnB,EAAmBA;AACjB5F,WAAKuU,KAALvU,GAAa,EAAbA,EACAA,KAAK4F,OAAL5F,GAAe6N,CAAAA,CAAEzL,KAAFyL,CAAQjI,CAARiI,CADf7N;AAEA,UAAI2tB,CAAAA,GAAqB3tB,KAAK4F,OAAL5F,CAAa2tB,kBAAb3tB,IALV,GAKf;AACAA,WAAK4tB,YAAL5tB,GAAoBgE,IAAAA,CAAK6pB,GAAL7pB,CAAS,CAATA,EAAYA,IAAAA,CAAK8pB,GAAL9pB,CAAS2pB,CAAT3pB,EANjB,GAMiBA,CAAZA,CAApBhE;AA6JF;;AAAA,aAASquB,CAAT,CAAkB1qB,CAAlB,EAAwBuG,CAAxB,EAAwBA;AACtB,UAAIA,CAAJ,EACE,OAAOA,CAAP;AAMF,aAJmB;AACjB5F,QAAAA,KAAAA,EAAO,OADU;AAEjBgrB,QAAAA,MAAAA,EAAQ;AAFS,QAIC3rB,CAJD,KAIU,MAA7B;AAlKF+P;;AAAAA,IAAAA,CAAAA,CAAU1R,SAAV0R,CAAoBmB,SAApBnB,GAAgC,UAAS9N,CAAT,EAASA;AACvC,UAAIqP,CAAAA,GAAajV,KAAK4F,OAAtB;AACA5F,WAAK4F,OAAL5F,GAAe6N,CAAAA,CAAEzL,KAAFyL,CAAQoH,CAARpH,EAAoBjI,CAApBiI,CAAf7N;AACA,UAAI2tB,CAAAA,GAAqB3tB,KAAK4F,OAAL5F,CAAa2tB,kBAAb3tB,IAZV,GAYf;AAAA,UACI+tB,CAAAA,GAAe/pB,IAAAA,CAAK6pB,GAAL7pB,CAAS,CAATA,EAAYA,IAAAA,CAAK8pB,GAAL9pB,CAAS2pB,CAAT3pB,EAbhB,GAagBA,CAAZA,CADnB;AAAA,UAEIgqB,CAAAA,GAAc,CAFlB;AAGIhuB,WAAK4tB,YAAL5tB,GAAoB+tB,CAApB/tB,KACFguB,CAAAA,GAAchuB,KAAK4tB,YAAL5tB,GAAoB+tB,CADhC/tB,GAGJA,KAAK4tB,YAAL5tB,GAAoB+tB,CAHhB/tB,EAIJA,KAAKuU,KAALvU,CAAWgf,MAAXhf,CAAkB,CAAlBA,EAAqBguB,CAArBhuB,CAJIA;AAIiBguB,KAVvBta,EAaAA,CAAAA,CAAU1R,SAAV0R,CAAoB8H,UAApB9H,GAAiC,YAAA;AAC/B,UAAIua,CAAAA,GAASngB,KAAAA,CAAM9L,SAAN8L,CAAgBnC,KAAhBmC,CAAsBvN,IAAtBuN,CAA2B9N,KAAKuU,KAAhCzG,EAAuC,CAAvCA,CAAb;AACA,UAAID,CAAAA,CAAEtL,UAAFsL,CAAa7N,KAAK4F,OAAL5F,CAAakuB,eAA1BrgB,CAAJ,EACE,IAAA;AAEE,aADA,IAAIzN,CAAAA,GAAI6tB,CAAAA,CAAO1oB,MACf,EAAOnF,CAAAA,EAAP,GACMJ,KAAK4F,OAAL5F,CAAakuB,eAAbluB,CAA6BiuB,CAAAA,CAAO7tB,CAAP6tB,CAA7BjuB,KACFiuB,CAAAA,CAAOjP,MAAPiP,CAAc7tB,CAAd6tB,EAAiB,CAAjBA,CADEjuB;AAIN,OAPF,CAOE,OAAO6D,CAAP,EAAOA;AACP7D,aAAK4F,OAAL5F,CAAakuB,eAAbluB,GAA+B,IAA/BA;AAGJ;AAAA,aAAOiuB,CAAP;AAAOA,KA3BTva,EA8BAA,CAAAA,CAAU1R,SAAV0R,CAAoBya,OAApBza,GAA8B,UAAS/P,CAAT,EAAemH,CAAf,EAAyBZ,CAAzB,EAAgCkkB,CAAhC,EAA6CxkB,CAA7C,EAA6CA;AACzE,UAAI/F,CAAAA,GAAI;AACNqG,QAAAA,KAAAA,EAAOmkB,CAAAA,CAAS1qB,CAAT0qB,EAAenkB,CAAfmkB,CADD;AAEN1qB,QAAAA,IAAAA,EAAMA,CAFA;AAGN2qB,QAAAA,YAAAA,EAAc1kB,CAAAA,IAAaiE,CAAAA,CAAE9J,GAAF8J,EAHrB;AAIN6P,QAAAA,IAAAA,EAAM5S,CAJA;AAKNlG,QAAAA,MAAAA,EAAQ;AALF,OAAR;AAOIwpB,MAAAA,CAAAA,KACFvqB,CAAAA,CAAEiG,IAAFjG,GAASuqB,CADPA,CAAAA;;AAIJ,UAAA;AACE,YAAIvgB,CAAAA,CAAEtL,UAAFsL,CAAa7N,KAAK4F,OAAL5F,CAAakuB,eAA1BrgB,KAA8C7N,KAAK4F,OAAL5F,CAAakuB,eAAbluB,CAA6B6D,CAA7B7D,CAAlD,EACE,OAAA,CAAO,CAAP;AAEF,OAJF,CAIE,OAAOqX,CAAP,EAAOA;AACPrX,aAAK4F,OAAL5F,CAAakuB,eAAbluB,GAA+B,IAA/BA;AAIF;;AAAA,aADAA,KAAKiG,IAALjG,CAAU6D,CAAV7D,GACO6D,CAAP;AAAOA,KAnDT6P,EAsDAA,CAAAA,CAAU1R,SAAV0R,CAAoB+D,YAApB/D,GAAmC,UAAS/P,CAAT,EAAemH,CAAf,EAAyBZ,CAAzB,EAAgCkkB,CAAhC,EAAgCA;AACjE,aAAOpuB,KAAKmuB,OAALnuB,CAAa2D,CAAb3D,EAAmB8K,CAAnB9K,EAA6BkK,CAA7BlK,EAAoCouB,CAApCpuB,CAAP;AAA2CouB,KAvD7C1a,EA0DAA,CAAAA,CAAU1R,SAAV0R,CAAoB6a,YAApB7a,GAAmC,UAAShL,CAAT,EAAcwB,CAAd,EAAqBkkB,CAArB,EAAkCxkB,CAAlC,EAAkCA;AACnE,UAAIkB,CAAAA,GAAW;AACbxD,QAAAA,OAAAA,EAASoB,CAAAA,CAAIpB,OAAJoB,IAAe9E,MAAAA,CAAO8E,CAAP9E;AADX,OAAf;AAMA,aAHI8E,CAAAA,CAAI+G,KAAJ/G,KACFoC,CAAAA,CAAS2E,KAAT3E,GAAiBpC,CAAAA,CAAI+G,KADnB/G,GAGG1I,KAAKmuB,OAALnuB,CAAa,OAAbA,EAAsB8K,CAAtB9K,EAAgCkK,CAAhClK,EAAuCouB,CAAvCpuB,EAAoD4J,CAApD5J,CAAP;AAA2D4J,KAjE7D8J,EAoEAA,CAAAA,CAAU1R,SAAV0R,CAAoB8a,UAApB9a,GAAiC,UAASpM,CAAT,EAAkB4C,CAAlB,EAAyBkkB,CAAzB,EAAsCxkB,CAAtC,EAAsCA;AACrE,aAAO5J,KAAKmuB,OAALnuB,CAAa,KAAbA,EAAoB;AACzBsH,QAAAA,OAAAA,EAASA;AADgB,OAApBtH,EAEJkK,CAFIlK,EAEGouB,CAFHpuB,EAEgB4J,CAFhB5J,CAAP;AAEuB4J,KAvEzB8J,EA0EAA,CAAAA,CAAU1R,SAAV0R,CAAoB+a,cAApB/a,GAAqC,UAAS5I,CAAT,EAAmB4jB,CAAnB,EAA4BN,CAA5B,EAAyC/iB,CAAzC,EAAyCA;AAC5EqjB,MAAAA,CAAAA,GAAUA,CAAAA,IAAW,KAArBA,EACA5jB,CAAAA,CAAS4jB,OAAT5jB,GAAmBA,CAAAA,CAAS4jB,OAAT5jB,IAAoB4jB,CADvCA,EAEIrjB,CAAAA,KACFP,CAAAA,CAAS5B,OAAT4B,GAAmBO,CADjBA,CAFJqjB;AAKA,UAAIxkB,CAAAA,GAAQlK,KAAK2uB,eAAL3uB,CAAqB8K,CAAAA,CAAS8jB,WAA9B5uB,CAAZ;AACA,aAAOA,KAAKmuB,OAALnuB,CAAa,SAAbA,EAAwB8K,CAAxB9K,EAAkCkK,CAAlClK,EAAyCouB,CAAzCpuB,CAAP;AAAgDouB,KAjFlD1a,EAoFAA,CAAAA,CAAU1R,SAAV0R,CAAoBib,eAApBjb,GAAsC,UAASmb,CAAT,EAASA;AAC7C,aAAIA,CAAAA,IAAc,GAAdA,IAAqBA,CAAAA,GAAa,GAAlCA,GACK,MADLA,GAGe,MAAfA,CAAe,IAAKA,CAAAA,IAAc,GAAnB,GACV,OADU,GAGZ,MANP;AAMO,KA3FTnb,EA8FAA,CAAAA,CAAU1R,SAAV0R,CAAoBob,UAApBpb,GAAiC,UAASgb,CAAT,EAAkBK,CAAlB,EAA2B1tB,CAA3B,EAAkC2tB,CAAlC,EAA2CZ,CAA3C,EAA2CA;AAC1E,UAAItjB,CAAAA,GAAW;AACb4jB,QAAAA,OAAAA,EAASA,CADI;AAEbK,QAAAA,OAAAA,EAASA;AAFI,OAAf;AAUA,aAAA,KANcrlB,CAMd,KANIrI,CAMJ,KALEyJ,CAAAA,CAASzJ,KAATyJ,GAAiBzJ,CAKnB,GALmBA,KAEHqI,CAFGrI,KAEf2tB,CAFe3tB,KAGjByJ,CAAAA,CAASkkB,OAATlkB,GAAmBkkB,CAHF3tB,CAKnB,EAAOrB,KAAKmuB,OAALnuB,CAAa,KAAbA,EAAoB8K,CAApB9K,EAA8B,MAA9BA,EAAsCouB,CAAtCpuB,CAAP;AAA6CouB,KAzG/C1a,EA4GAA,CAAAA,CAAU1R,SAAV0R,CAAoBub,iBAApBvb,GAAwC,UAASwb,CAAT,EAAeC,CAAf,EAAmBf,CAAnB,EAAmBA;AACzD,aAAOpuB,KAAKmuB,OAALnuB,CAAa,YAAbA,EAA2B;AAACkvB,QAAAA,IAAAA,EAAMA,CAAP;AAAaC,QAAAA,EAAAA,EAAIA;AAAjB,OAA3BnvB,EAAiD,MAAjDA,EAAyDouB,CAAzDpuB,CAAP;AAAgEouB,KA7GlE1a,EAgHAA,CAAAA,CAAU1R,SAAV0R,CAAoBiE,uBAApBjE,GAA8C,UAASkE,CAAT,EAASA;AACrD,aAAO5X,KAAKmuB,OAALnuB,CAAa,YAAbA,EAA2B;AAAC0uB,QAAAA,OAAAA,EAAS;AAAV,OAA3B1uB,EAA0D,MAA1DA,EAA0D,KAAQ0J,CAAlE1J,EAA6E4X,CAAAA,IAAMA,CAAAA,CAAGxF,OAAHwF,EAAnF5X,CAAP;AAA6FoS,KAjH/FsB,EAuHAA,CAAAA,CAAU1R,SAAV0R,CAAoBmE,WAApBnE,GAAkC,UAASkE,CAAT,EAASA;AACzC,aAAO5X,KAAKmuB,OAALnuB,CAAa,YAAbA,EAA2B;AAAC0uB,QAAAA,OAAAA,EAAS;AAAV,OAA3B1uB,EAA8C,MAA9CA,EAA8C,KAAQ0J,CAAtD1J,EAAiE4X,CAAAA,IAAMA,CAAAA,CAAGxF,OAAHwF,EAAvE5X,CAAP;AAAiFoS,KAxHnFsB,EA+HAA,CAAAA,CAAU1R,SAAV0R,CAAoB0b,yBAApB1b,GAAgD,UAAS/P,CAAT,EAAeyqB,CAAf,EAAeA;AAC7D,aAAOpuB,KAAKyuB,cAALzuB,CAAoB;AAACqvB,QAAAA,MAAAA,EAAQ1rB;AAAT,OAApB3D,EAAoC,cAApCA,EAAoDouB,CAApDpuB,CAAP;AAA2DouB,KAhI7D1a,EAoIAA,CAAAA,CAAU1R,SAAV0R,CAAoB4H,mBAApB5H,GAA0C,UAAS/J,CAAT,EAASA;AACjD,UAAK3J,KAAK4F,OAAL5F,CAAaga,uBAAlB,EAGA,OAAIrQ,CAAAA,CAAKjB,GAALiB,GACK3J,KAAKuuB,YAALvuB,CAAkB2J,CAAAA,CAAKjB,GAAvB1I,EAA4B2J,CAAAA,CAAKO,KAAjClK,EAAwC2J,CAAAA,CAAKG,IAA7C9J,EAAmD2J,CAAAA,CAAKC,SAAxD5J,CADL2J,GAGAA,CAAAA,CAAKrC,OAALqC,GACK3J,KAAKwuB,UAALxuB,CAAgB2J,CAAAA,CAAKrC,OAArBtH,EAA8B2J,CAAAA,CAAKO,KAAnClK,EAA0C2J,CAAAA,CAAKG,IAA/C9J,EAAqD2J,CAAAA,CAAKC,SAA1D5J,CADL2J,GAGAA,CAAAA,CAAKX,MAALW,GACK3J,KAAKmuB,OAALnuB,CAAa,KAAbA,EAAoB2J,CAAAA,CAAKX,MAAzBhJ,EAAiC2J,CAAAA,CAAKO,KAAtClK,EAA6C2J,CAAAA,CAAKG,IAAlD9J,EAAwD2J,CAAAA,CAAKC,SAA7D5J,CADL2J,GACkEC,KADtE,CANA;AAMA,KA9IF8J,EAmJAA,CAAAA,CAAU1R,SAAV0R,CAAoBzN,IAApByN,GAA2B,UAAS7P,CAAT,EAASA;AAClC7D,WAAKuU,KAALvU,CAAWiG,IAAXjG,CAAgB6D,CAAhB7D,GACIA,KAAKuU,KAALvU,CAAWuF,MAAXvF,GAAoBA,KAAK4tB,YAAzB5tB,IACFA,KAAKuU,KAALvU,CAAWqgB,KAAXrgB,EAFFA;AAEaqgB,KAtJf3M,EAqKA7T,CAAAA,CAAOD,OAAPC,GAAiB6T,CArKjBA;AAqKiBA,G;;;AChLjB,QAAI7F,CAAAA,GAAI,CAAA,CAAQ,CAAR,CAAR;AAAA,QACI8E,CAAAA,GAAQ,CAAA,CAAQ,CAAR,CADZ;AAAA,QAEI4c,CAAAA,GAAY,CAAA,CAAQ,CAAR,CAFhB;AAAA,QAGIC,CAAAA,GAAU,CAAA,CAAQ,EAAR,CAHd;AAAA,QAKIjW,CAAAA,GAAW;AACbkW,MAAAA,OAAAA,EAAAA,CAAS,CADI;AAEbC,MAAAA,sBAAAA,EAAAA,CAAwB,CAFX;AAGbC,MAAAA,mBAAAA,EAAAA,CAAqB,CAHR;AAIbC,MAAAA,qBAAAA,EAAAA,CAAuB,CAJV;AAKbC,MAAAA,kBAAAA,EAAAA,CAAoB,CALP;AAMbC,MAAAA,qBAAAA,EAAAA,CAAuB,CANV;AAObC,MAAAA,qBAAAA,EAAAA,CAAuB,CAPV;AAQbC,MAAAA,mBAAAA,EAAAA,CAAqB,CARR;AASb1jB,MAAAA,GAAAA,EAAAA,CAAK,CATQ;AAUb2jB,MAAAA,GAAAA,EAAAA,CAAK,CAVQ;AAWbC,MAAAA,UAAAA,EAAAA,CAAY,CAXC;AAYbC,MAAAA,YAAAA,EAAAA,CAAc,CAZD;AAabC,MAAAA,qBAAAA,EAAAA,CAAuB,CAbV;AAcbC,MAAAA,4BAAAA,EAAAA,CAA8B;AAdjB,KALf;;AAsBA,aAAS/sB,CAAT,CAAiBwD,CAAjB,EAAsBnG,CAAtB,EAA4BuK,CAA5B,EAAyColB,CAAzC,EAAuD3sB,CAAvD,EAAuDA;AACrD,UAAI4sB,CAAAA,GAAOzpB,CAAAA,CAAInG,CAAJmG,CAAX;AACAA,MAAAA,CAAAA,CAAInG,CAAJmG,CAAAA,GAAYoE,CAAAA,CAAYqlB,CAAZrlB,CAAZpE,EACIwpB,CAAAA,IACFA,CAAAA,CAAa3sB,CAAb2sB,CAAAA,CAAmBrqB,IAAnBqqB,CAAwB,CAACxpB,CAAD,EAAMnG,CAAN,EAAY4vB,CAAZ,CAAxBD,CAFFxpB;AAMF;;AAAA,aAAS0pB,CAAT,CAAiBF,CAAjB,EAA+B3sB,CAA/B,EAA+BA;AAE7B,WADA,IAAI8sB,CACJ,EAAOH,CAAAA,CAAa3sB,CAAb2sB,CAAAA,CAAmB/qB,MAA1B,GAA0BA,CACxBkrB,CAAAA,GAAIH,CAAAA,CAAa3sB,CAAb2sB,CAAAA,CAAmBjQ,KAAnBiQ,EADoB/qB,EAEtB,CAFsBA,EAEnBkrB,CAAAA,CAAE,CAAFA,CAFmBlrB,IAEXkrB,CAAAA,CAAE,CAAFA,CAFWlrB;AAkC5B;;AAAA,aAASqO,CAAT,CAAsBhO,CAAtB,EAA+B4M,CAA/B,EAA0CX,CAA1C,EAAmDkf,CAAnD,EAA4DC,CAA5D,EAA4DA;AAC1DhxB,WAAK4F,OAAL5F,GAAe4F,CAAf5F;AACA,UAAIixB,CAAAA,GAAiBrrB,CAAAA,CAAQqrB,cAA7B;AAA6BA,OACL,CADKA,KACzBrrB,CAAAA,CAAQiU,OADiBoX,IACjBpX,CAAwC,CAAxCA,KAAqBoX,CADJA,GAE3BjxB,KAAKixB,cAALjxB,GAAsB,EAFKixB,IAItBpjB,CAAAA,CAAEjL,MAAFiL,CAASojB,CAATpjB,EAAyB,QAAzBA,MACHojB,CAAAA,GAAiB1X,CADd1L,GAGL7N,KAAKixB,cAALjxB,GAAsB6N,CAAAA,CAAEzL,KAAFyL,CAAQ0L,CAAR1L,EAAkBojB,CAAlBpjB,CAPKojB,GAS7BjxB,KAAKkxB,oBAALlxB,GAAKkxB,CAAAA,CAAyBtrB,CAAAA,CAAQsrB,oBATTD,EAU7BjxB,KAAKmxB,iBAALnxB,GAAyB4F,CAAAA,CAAQurB,iBAVJF,EAW7BjxB,KAAKoxB,oBAALpxB,GA9BF,UAA8BmM,CAA9B,EAA8BA;AAE5B,aADA,IAAI0kB,CAAAA,GAAW,EAAf,EACSzwB,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAI+L,CAAAA,CAAY5G,MAAhC,EAAgCA,EAAUnF,CAA1C,EACEywB,CAAAA,CAAS5qB,IAAT4qB,CAAc,IAAIrtB,MAAJ,CAAW2I,CAAAA,CAAY/L,CAAZ+L,CAAX,EAA2B,GAA3B,CAAd0kB;;AAEF,eAAO,UAAShL,CAAT,EAASA;AACd,cAAIllB,CAAAA,GAjBR,UAA6BklB,CAA7B,EAA6BA;AAC3B,gBAAA,CAAKA,CAAL,IAAKA,CAAgBA,CAAAA,CAAY6K,UAAjC,EAA+C,OAAO,IAAP;;AAE/C,iBADA,IAAIC,CAAAA,GAAQ9K,CAAAA,CAAY6K,UAAxB,EACSE,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAID,CAAAA,CAAMprB,MAA1B,EAA0BA,EAAUqrB,CAApC,EACE,IAAqB,WAAjBD,CAAAA,CAAMC,CAAND,CAAAA,CAAShvB,GAAb,EACE,OAAOgvB,CAAAA,CAAMC,CAAND,CAAAA,CAAStvB,KAAhB;;AAGJ,mBAAO,IAAP;AASayvB,WAjBf,CAiBmCjL,CAjBnC,CAiBI;;AACA,cAAA,CAAKllB,CAAL,EAAa,OAAA,CAAO,CAAP;;AACb,eAAK,IAAIP,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAIywB,CAAAA,CAAStrB,MAA7B,EAA6BA,EAAUnF,CAAvC,EACE,IAAIywB,CAAAA,CAASzwB,CAATywB,CAAAA,CAAYntB,IAAZmtB,CAAiBlwB,CAAjBkwB,CAAJ,EACE,OAAA,CAAO,CAAP;;AAGJ,iBAAA,CAAO,CAAP;AAAO,SART;AAyB4BO,OA9B9B,CA8BmDxrB,CAAAA,CAAQuG,WA9B3D,CAmB+B8kB,EAY7BjxB,KAAKwS,SAALxS,GAAiBwS,CAZYye,EAa7BjxB,KAAK6R,OAAL7R,GAAe6R,CAbcof,EAc7BjxB,KAAK6J,UAAL7J,GAAkB6R,CAAAA,CAAQ0B,MAAR1B,CAAehJ,QAAfgJ,CAAwBhI,UAdbonB,EAe7BjxB,KAAK+wB,OAAL/wB,GAAe+wB,CAAAA,IAAW,EAfGE,EAgB7BjxB,KAAKgxB,SAALhxB,GAAiBgxB,CAAAA,IAAa,EAhBDC,EAiB7BjxB,KAAKswB,YAALtwB,GAAoB;AAClByvB,QAAAA,OAAAA,EAAS,EADS;AAElBnjB,QAAAA,GAAAA,EAAK,EAFa;AAGlB4jB,QAAAA,UAAAA,EAAY,EAHM;AAIlBC,QAAAA,YAAAA,EAAc;AAJI,OAjBSc,EAuB7BjxB,KAAKqxB,aAALrxB,GAAqB;AACnBiwB,QAAAA,GAAAA,EAAK,EADc;AAEnBE,QAAAA,YAAAA,EAAc,EAFK;AAGnBmB,QAAAA,qBAAAA,EAAuB;AAHJ,OAvBQL,EA6B7BjxB,KAAKuxB,SAALvxB,GAAiBA,KAAK+wB,OAAL/wB,CAAa2H,QA7BDspB,EA8B7BjxB,KAAKwxB,SAALxxB,GAAiBA,KAAKuxB,SAALvxB,IAAkBA,KAAKuxB,SAALvxB,CAAekI,IA9BrB+oB;AAiC/Brd;;AAAAA,IAAAA,CAAAA,CAAa5R,SAAb4R,CAAuBiB,SAAvBjB,GAAmC,UAAShO,CAAT,EAASA;AAC1C5F,WAAK4F,OAAL5F,GAAe6N,CAAAA,CAAEzL,KAAFyL,CAAQ7N,KAAK4F,OAAbiI,EAAsBjI,CAAtBiI,CAAf7N;AACA,UAAIixB,CAAAA,GAAiBrrB,CAAAA,CAAQqrB,cAA7B;AAAA,UACIQ,CAAAA,GAAc5jB,CAAAA,CAAEzL,KAAFyL,CAAQ7N,KAAKixB,cAAbpjB,CADlB;AAC+BojB,OACP,CADOA,KAC3BrrB,CAAAA,CAAQiU,OADmBoX,IACnBpX,CAAwC,CAAxCA,KAAqBoX,CADFA,GAE7BjxB,KAAKixB,cAALjxB,GAAsB,EAFOixB,IAIxBpjB,CAAAA,CAAEjL,MAAFiL,CAASojB,CAATpjB,EAAyB,QAAzBA,MACHojB,CAAAA,GAAiB1X,CADd1L,GAGL7N,KAAKixB,cAALjxB,GAAsB6N,CAAAA,CAAEzL,KAAFyL,CAAQ0L,CAAR1L,EAAkBojB,CAAlBpjB,CAPOojB,GAS/BjxB,KAAKyU,UAALzU,CAAgByxB,CAAhBzxB,CAT+BixB,EASfQ,KACqB/nB,CADrB+nB,KACZ7rB,CAAAA,CAAQsrB,oBADIO,KAEdzxB,KAAKkxB,oBAALlxB,GAAKkxB,CAAAA,CAAyBtrB,CAAAA,CAAQsrB,oBAFxBO,CATeR,EAWSC,KAENxnB,CAFMwnB,KAEpCtrB,CAAAA,CAAQurB,iBAF4BD,KAGtClxB,KAAKmxB,iBAALnxB,GAAyB4F,CAAAA,CAAQurB,iBAHKD,CAXTD;AAcIE,KAjBrCvd,EAsBAA,CAAAA,CAAa5R,SAAb4R,CAAuBa,UAAvBb,GAAoC,UAAS6d,CAAT,EAASA;AAAAA,OACvCzxB,KAAKixB,cAALjxB,CAAoByvB,OADmBgC,IACNA,CAAAA,IAAeA,CAAAA,CAAYhC,OADrBgC,GACqBhC,CAEpDzvB,KAAKixB,cAALjxB,CAAoByvB,OAFgCA,IAErBgC,CAFqBhC,IAENgC,CAAAA,CAAYhC,OAFNA,IAG9DzvB,KAAK2xB,mBAAL3xB,EAJyCyxB,GAEzCzxB,KAAK0xB,iBAAL1xB,EAFyCyxB,EAEpCC,CAKH1xB,KAAKixB,cAALjxB,CAAoBsM,GALjBolB,IAK0BD,CAAAA,IAAeA,CAAAA,CAAYnlB,GALrDolB,GAKqDplB,CAEhDtM,KAAKixB,cAALjxB,CAAoBsM,GAF4BA,IAErBmlB,CAFqBnlB,IAENmlB,CAAAA,CAAYnlB,GAFNA,IAG1DtM,KAAK6xB,mBAAL7xB,EARK0xB,GAML1xB,KAAK4xB,iBAAL5xB,EARyCyxB,EAQpCG,CAKH5xB,KAAKixB,cAALjxB,CAAoBiwB,GALjB2B,IAK0BH,CAAAA,IAAeA,CAAAA,CAAYxB,GALrD2B,GAKqD3B,CAEhDjwB,KAAKixB,cAALjxB,CAAoBiwB,GAF4BA,IAErBwB,CAFqBxB,IAENwB,CAAAA,CAAYxB,GAFNA,IAG1DjwB,KAAK+xB,eAAL/xB,EARK4xB,GAML5xB,KAAK8xB,aAAL9xB,EAdyCyxB,EAcpCK,CAKH9xB,KAAKixB,cAALjxB,CAAoBkwB,UALjB4B,IAKiCL,CAAAA,IAAeA,CAAAA,CAAYvB,UAL5D4B,GAK4D5B,CAEvDlwB,KAAKixB,cAALjxB,CAAoBkwB,UAFmCA,IAErBuB,CAFqBvB,IAENuB,CAAAA,CAAYvB,UAFNA,IAGjElwB,KAAKiyB,sBAALjyB,EARK8xB,GAML9xB,KAAKgyB,oBAALhyB,EApByCyxB,EAoBpCO,CAKHhyB,KAAKixB,cAALjxB,CAAoBmwB,YALjB6B,IAKmCP,CAAAA,IAAeA,CAAAA,CAAYtB,YAL9D6B,GAK8D7B,CAEzDnwB,KAAKixB,cAALjxB,CAAoBmwB,YAFqCA,IAErBsB,CAFqBtB,IAENsB,CAAAA,CAAYtB,YAFNA,IAGnEnwB,KAAKmyB,wBAALnyB,EARKgyB,GAMLhyB,KAAKkyB,sBAALlyB,EA1ByCyxB,EA0BpCS,CAKHlyB,KAAKixB,cAALjxB,CAAoBowB,qBALjB8B,IAK4CT,CAAAA,IAAeA,CAAAA,CAAYrB,qBALvE8B,GAKuE9B,CAElEpwB,KAAKixB,cAALjxB,CAAoBowB,qBAF8CA,IAErBqB,CAFqBrB,IAENqB,CAAAA,CAAYrB,qBAFNA,IAG5EpwB,KAAKqyB,iCAALryB,EARKkyB,GAMLlyB,KAAKoyB,+BAALpyB,EAhCyCyxB;AAgCpCW,KAtDTxe,EA4DAA,CAAAA,CAAa5R,SAAb4R,CAAuB+d,mBAAvB/d,GAA6C,YAAA;AAC3C4c,MAAAA,CAAAA,CAAQxwB,KAAKswB,YAAbE,EAA2B,SAA3BA,CAAAA;AAA2B,KA7D7B5c,EAgEAA,CAAAA,CAAa5R,SAAb4R,CAAuB8d,iBAAvB9d,GAA2C,YAAA;AACzC,UAAIrB,CAAAA,GAAOvS,IAAX;;AAEA,eAASsyB,CAAT,CAAkB9a,CAAlB,EAAwB+a,CAAxB,EAAwBA;AAClB/a,QAAAA,CAAAA,IAAQ+a,CAAR/a,IAAe3J,CAAAA,CAAEtL,UAAFsL,CAAa0kB,CAAAA,CAAI/a,CAAJ+a,CAAb1kB,CAAf2J,IACFlU,CAAAA,CAAQivB,CAARjvB,EAAakU,CAAblU,EAAmB,UAASitB,CAAT,EAASA;AAC1B,iBAAOhe,CAAAA,CAAKV,OAALU,CAAayE,IAAbzE,CAAkBge,CAAlBhe,CAAP;AAAyBge,SAD3BjtB,CADEkU;AAON;;AAAA,UAAI,oBAAoBxX,KAAK+wB,OAA7B,EAAsC;AACpC,YAAIyB,CAAAA,GAAOxyB,KAAK+wB,OAAL/wB,CAAawlB,cAAbxlB,CAA4BgC,SAAvC;AACAsB,QAAAA,CAAAA,CAAQkvB,CAARlvB,EAAc,MAAdA,EAAsB,UAASitB,CAAT,EAASA;AAC7B,iBAAO,UAAS/O,CAAT,EAAiBhd,CAAjB,EAAiBA;AAkBtB,mBAjBIqJ,CAAAA,CAAEjL,MAAFiL,CAASrJ,CAATqJ,EAAc,QAAdA,MACE7N,KAAKyyB,aAALzyB,IACFA,KAAKyyB,aAALzyB,CAAmBwhB,MAAnBxhB,GAA4BwhB,CAA5BxhB,EACAA,KAAKyyB,aAALzyB,CAAmBwE,GAAnBxE,GAAyBwE,CADzBxE,EAEAA,KAAKyyB,aAALzyB,CAAmB4uB,WAAnB5uB,GAAiC,IAFjCA,EAGAA,KAAKyyB,aAALzyB,CAAmB0yB,aAAnB1yB,GAAmC6N,CAAAA,CAAE9J,GAAF8J,EAHnC7N,EAIAA,KAAKyyB,aAALzyB,CAAmB2yB,WAAnB3yB,GAAiC,IAL/BA,IAOFA,KAAKyyB,aAALzyB,GAAqB;AACnBwhB,cAAAA,MAAAA,EAAQA,CADW;AAEnBhd,cAAAA,GAAAA,EAAKA,CAFc;AAGnBoqB,cAAAA,WAAAA,EAAa,IAHM;AAInB8D,cAAAA,aAAAA,EAAe7kB,CAAAA,CAAE9J,GAAF8J,EAJI;AAKnB8kB,cAAAA,WAAAA,EAAa;AALM,aARrB9kB,GAiBG0iB,CAAAA,CAAKpiB,KAALoiB,CAAWvwB,IAAXuwB,EAAiBxiB,SAAjBwiB,CAAP;AAAwBxiB,WAlB1B;AAkB0BA,SAnB5BzK,EAqBGtD,KAAKswB,YArBRhtB,EAqBsB,SArBtBA,CAAAA,EAuBAA,CAAAA,CAAQkvB,CAARlvB,EAAc,kBAAdA,EAAkC,UAASitB,CAAT,EAASA;AACzC,iBAAO,UAASqC,CAAT,EAAiBvxB,CAAjB,EAAiBA;AAiBtB,mBAfKrB,KAAKyyB,aAALzyB,KACHA,KAAKyyB,aAALzyB,GAAqB,EADlBA,GAGD6N,CAAAA,CAAEjL,MAAFiL,CAAS+kB,CAAT/kB,EAAiB,QAAjBA,KAA8BA,CAAAA,CAAEjL,MAAFiL,CAASxM,CAATwM,EAAgB,QAAhBA,CAA9BA,KACE0E,CAAAA,CAAK0e,cAAL1e,CAAoBqd,qBAApBrd,KACGvS,KAAKyyB,aAALzyB,CAAmB6yB,eAAnB7yB,KACHA,KAAKyyB,aAALzyB,CAAmB6yB,eAAnB7yB,GAAqC,EADlCA,GAGLA,KAAKyyB,aAALzyB,CAAmB6yB,eAAnB7yB,CAAmC4yB,CAAnC5yB,IAA6CqB,CAJ3CkR,GAOyB,mBAAzBqgB,CAAAA,CAAO1vB,WAAP0vB,EAAyB,KAC3B5yB,KAAKyyB,aAALzyB,CAAmB8yB,oBAAnB9yB,GAA0CqB,CADf,CAR3BwM,CAHC7N,EAeEuwB,CAAAA,CAAKpiB,KAALoiB,CAAWvwB,IAAXuwB,EAAiBxiB,SAAjBwiB,CAAP;AAAwBxiB,WAjB1B;AAiB0BA,SAlB5BzK,EAoBGtD,KAAKswB,YApBRhtB,EAoBsB,SApBtBA,CAvBAA,EA6CAA,CAAAA,CAAQkvB,CAARlvB,EAAc,MAAdA,EAAsB,UAASitB,CAAT,EAASA;AAE7B,iBAAO,UAASlmB,CAAT,EAASA;AAEd,gBAAIkoB,CAAAA,GAAMvyB,IAAV;;AAEA,qBAAS+yB,CAAT,GAASA;AACP,kBAAIR,CAAAA,CAAIE,aAAJF,KACoC,SAAlCA,CAAAA,CAAIE,aAAJF,CAAkB3D,WAAgB,KACpC2D,CAAAA,CAAIE,aAAJF,CAAkB3D,WAAlB2D,GAAgC,CAAhCA,EACIhgB,CAAAA,CAAK0e,cAAL1e,CAAoBsd,kBAApBtd,KACFggB,CAAAA,CAAIE,aAAJF,CAAkBrpB,OAAlBqpB,GAA4BloB,CAD1BkI,CADJggB,EAIAA,CAAAA,CAAIS,eAAJT,GAAsBhgB,CAAAA,CAAKkc,cAALlc,CAAoBggB,CAAAA,CAAIE,aAAxBlgB,EAAuC,KAAvCA,EAAuC,KAAO7I,CAA9C6I,CALc,GAOlCggB,CAAAA,CAAIjO,UAAJiO,GAAiB,CAAjBA,KACFA,CAAAA,CAAIE,aAAJF,CAAkBG,aAAlBH,GAAkC1kB,CAAAA,CAAE9J,GAAF8J,EADhC0kB,CAPkC,EAUlCA,CAAAA,CAAIjO,UAAJiO,GAAiB,CAXnBA,CAAJ,EAW0B;AACtBA,gBAAAA,CAAAA,CAAIE,aAAJF,CAAkBI,WAAlBJ,GAAgC1kB,CAAAA,CAAE9J,GAAF8J,EAAhC0kB;AAEA,oBAAIU,CAAAA,GAAU,IAAd;;AAEA,oBADAV,CAAAA,CAAIE,aAAJF,CAAkBW,qBAAlBX,GAA0CA,CAAAA,CAAIY,iBAAJZ,CAAsB,cAAtBA,CAA1CA,EACIhgB,CAAAA,CAAK0e,cAAL1e,CAAoBmd,sBAAxB,EAAgD;AAC9C,sBAAI0D,CAAAA,GAAgB7gB,CAAAA,CAAK0e,cAAL1e,CAAoBmd,sBAAxC;AACAuD,kBAAAA,CAAAA,GAAU,EAAVA;;AACA,sBAAA;AACE,wBAAIL,CAAJ,EAAYxyB,CAAZ;;AACA,wBAAA,CAAsB,CAAtB,KAAIgzB,CAAJ,EAA4B;AAC1B,0BAAIC,CAAAA,GAAad,CAAAA,CAAIe,qBAAJf,EAAjB;;AACA,0BAAIc,CAAJ,EAAgB;AACd,4BACI7nB,CADJ;AAAA,4BACWnK,CADX;AAAA,4BAAIuJ,CAAAA,GAAMyoB,CAAAA,CAAWE,IAAXF,GAAkBroB,KAAlBqoB,CAAwB,SAAxBA,CAAV;;AAEA,6BAAKjzB,CAAAA,GAAE,CAAP,EAAUA,CAAAA,GAAIwK,CAAAA,CAAIrF,MAAlB,EAA0BnF,CAAAA,EAA1B,EAEEwyB,CAAAA,GAAAA,CADApnB,CAAAA,GAAQZ,CAAAA,CAAIxK,CAAJwK,CAAAA,CAAOI,KAAPJ,CAAa,IAAbA,CACRgoB,EAAevS,KAAfuS,EAAAA,EACAvxB,CAAAA,GAAQmK,CAAAA,CAAMtF,IAANsF,CAAW,IAAXA,CADRonB,EAEAK,CAAAA,CAAQL,CAARK,CAAAA,GAAkB5xB,CAFlBuxB;AAEkBvxB;AAAAA,qBATxB,MAaE,KAAKjB,CAAAA,GAAE,CAAP,EAAUA,CAAAA,GAAIgzB,CAAAA,CAAc7tB,MAA5B,EAAoCnF,CAAAA,EAApC,EAEE6yB,CAAAA,CADAL,CAAAA,GAASQ,CAAAA,CAAchzB,CAAdgzB,CACTH,CAAAA,GAAkBV,CAAAA,CAAIY,iBAAJZ,CAAsBK,CAAtBL,CAAlBU;AAGJ,mBApBF,CAoBE,OAAOpvB,CAAP,EAAOA,CAAAA;AAKX;;AAAA,oBAAI6Z,CAAAA,GAAO,IAAX;AACA,oBAAInL,CAAAA,CAAK0e,cAAL1e,CAAoBod,mBAAxB,EACE,IAAA;AACEjS,kBAAAA,CAAAA,GAAO6U,CAAAA,CAAI/N,YAAX9G;AACA,iBAFF,CAEE,OAAO7Z,CAAP,EAAOA,CAIX;AAAA,oBAAI2vB,CAAAA,GAAW,IAAf;AAAe,iBACX9V,CAAAA,IAAQuV,CADG,MAEbO,CAAAA,GAAW,EAAXA,EACI9V,CAAAA,KACEnL,CAAAA,CAAKkhB,iBAALlhB,CAAuBggB,CAAAA,CAAIE,aAAJF,CAAkBW,qBAAzC3gB,IACFihB,CAAAA,CAAS9V,IAAT8V,GAAgBjhB,CAAAA,CAAKmhB,SAALnhB,CAAemL,CAAfnL,CADdA,GAGFihB,CAAAA,CAAS9V,IAAT8V,GAAgB9V,CAJhBA,CADJ8V,EAQIP,CAAAA,KACFO,CAAAA,CAASP,OAATO,GAAmBP,CADjBA,CAVS,GAcXO,CAAAA,KACFjB,CAAAA,CAAIE,aAAJF,CAAkBiB,QAAlBjB,GAA6BiB,CAD3BA,CAdW;;AAiBf,oBAAA;AACE,sBAAIpsB,CAAAA,GAAOmrB,CAAAA,CAAI7N,MAAf;AACAtd,kBAAAA,CAAAA,GAAgB,SAATA,CAAS,GAAO,GAAP,GAAaA,CAA7BA,EACAmrB,CAAAA,CAAIE,aAAJF,CAAkB3D,WAAlB2D,GAAgCnrB,CADhCA,EAEAmrB,CAAAA,CAAIS,eAAJT,CAAoBroB,KAApBqoB,GAA4BhgB,CAAAA,CAAKC,SAALD,CAAeoc,eAAfpc,CAA+BnL,CAA/BmL,CAF5BnL,EAGAmL,CAAAA,CAAKohB,iBAALphB,CAAuBggB,CAAAA,CAAIE,aAA3BlgB,CAHAnL;AAIA,iBANF,CAME,OAAOvD,CAAP,EAAOA,CAAAA;AAAAA;AAqBf;;AAAA,mBAdAyuB,CAAAA,CAAS,QAATA,EAAmBC,CAAnBD,CAAAA,EACAA,CAAAA,CAAS,SAATA,EAAoBC,CAApBD,CADAA,EAEAA,CAAAA,CAAS,YAATA,EAAuBC,CAAvBD,CAFAA,EAII,wBAAwBC,CAAxB,IAA+B1kB,CAAAA,CAAEtL,UAAFsL,CAAa0kB,CAAAA,CAAIlO,kBAAjBxW,CAA/B,GACFvK,CAAAA,CAAQivB,CAARjvB,EAAa,oBAAbA,EAAmC,UAASitB,CAAT,EAASA;AAC1C,qBAAOhe,CAAAA,CAAKV,OAALU,CAAayE,IAAbzE,CAAkBge,CAAlBhe,EAAkBge,KAAM7mB,CAAxB6I,EAAmCwgB,CAAnCxgB,CAAP;AAA0CwgB,aAD5CzvB,CADE,GAKFivB,CAAAA,CAAIlO,kBAAJkO,GAAyBQ,CAT3BT,EAWIC,CAAAA,CAAIE,aAAJF,IAAqBhgB,CAAAA,CAAKqhB,eAALrhB,EAArBggB,KACFA,CAAAA,CAAIE,aAAJF,CAAkB9iB,KAAlB8iB,GAA0B,IAAKxvB,KAAL,EAAR0M,CAAsBA,KADtC8iB,CAXJD,EAcO/B,CAAAA,CAAKpiB,KAALoiB,CAAWvwB,IAAXuwB,EAAiBxiB,SAAjBwiB,CAAP;AAAwBxiB,WArG1B;AAqG0BA,SAvG5BzK,EAyGGtD,KAAKswB,YAzGRhtB,EAyGsB,SAzGtBA,CA7CAA;AAyJE;;AAAA,iBAAWtD,KAAK+wB,OAAhB,IACFztB,CAAAA,CAAQtD,KAAK+wB,OAAbztB,EAAsB,OAAtBA,EAA+B,UAASitB,CAAT,EAASA;AAEtC,eAAO,UAAS1N,CAAT,EAAavhB,CAAb,EAAaA;AAGlB,eADA,IAAIsH,CAAAA,GAAO,IAAIkF,KAAJ,CAAUC,SAAAA,CAAUxI,MAApB,CAAX,EACSnF,CAAAA,GAAE,CADX,EACcqJ,CAAAA,GAAIb,CAAAA,CAAKrD,MAAvB,EAA+BnF,CAAAA,GAAIqJ,CAAnC,EAAwCrJ,CAAAA,EAAxC,EACEwI,CAAAA,CAAKxI,CAALwI,CAAAA,GAAUmF,SAAAA,CAAU3N,CAAV2N,CAAVnF;;AAEF,cAEIpE,CAFJ;AAAA,cAAIuH,CAAAA,GAAQnD,CAAAA,CAAK,CAALA,CAAZ;AAAA,cACI4Y,CAAAA,GAAS,KADb;AAGI3T,UAAAA,CAAAA,CAAEjL,MAAFiL,CAAS9B,CAAT8B,EAAgB,QAAhBA,IACFrJ,CAAAA,GAAMuH,CADJ8B,GAEO9B,CAAAA,KACTvH,CAAAA,GAAMuH,CAAAA,CAAMvH,GAAZA,EACIuH,CAAAA,CAAMyV,MAANzV,KACFyV,CAAAA,GAASzV,CAAAA,CAAMyV,MADbzV,CAFKA,CAFP8B,EAQAjF,CAAAA,CAAK,CAALA,CAAAA,IAAWA,CAAAA,CAAK,CAALA,CAAAA,CAAQ4Y,MAAnB5Y,KACF4Y,CAAAA,GAAS5Y,CAAAA,CAAK,CAALA,CAAAA,CAAQ4Y,MADf5Y,CARAiF;AAWJ,cAAI/C,CAAAA,GAAW;AACb0W,YAAAA,MAAAA,EAAQA,CADK;AAEbhd,YAAAA,GAAAA,EAAKA,CAFQ;AAGboqB,YAAAA,WAAAA,EAAa,IAHA;AAIb8D,YAAAA,aAAAA,EAAe7kB,CAAAA,CAAE9J,GAAF8J,EAJF;AAKb8kB,YAAAA,WAAAA,EAAa;AALA,WAAf;;AAOA,cAAI/pB,CAAAA,CAAK,CAALA,CAAAA,IAAWA,CAAAA,CAAK,CAALA,CAAAA,CAAQqqB,OAAvB,EAAgC;AAG9B,gBAAIY,CAAAA,GAAa,IAAIC,OAAJ,CAAYlrB,CAAAA,CAAK,CAALA,CAAAA,CAAQqqB,OAApB,CAAjB;AAEAnoB,YAAAA,CAAAA,CAASgoB,oBAAThoB,GAAgC+oB,CAAAA,CAAW5yB,GAAX4yB,CAAe,cAAfA,CAAhC/oB,EAEIyH,CAAAA,CAAK0e,cAAL1e,CAAoBqd,qBAApBrd,KACFzH,CAAAA,CAAS+nB,eAAT/nB,GAA2ByH,CAAAA,CAAKwhB,YAALxhB,CAAkBshB,CAAlBthB,EAA8BA,CAAAA,CAAK0e,cAAL1e,CAAoBqd,qBAAlDrd,CADzBA,CAFJzH;AAkBF;;AAAA,iBAXIyH,CAAAA,CAAK0e,cAAL1e,CAAoBsd,kBAApBtd,KACE3J,CAAAA,CAAK,CAALA,CAAAA,IAAWA,CAAAA,CAAK,CAALA,CAAAA,CAAQ8U,IAAnB9U,GACFkC,CAAAA,CAAS5B,OAAT4B,GAAmBlC,CAAAA,CAAK,CAALA,CAAAA,CAAQ8U,IADzB9U,GAEOA,CAAAA,CAAK,CAALA,CAAAA,IAAK,CAAOiF,CAAAA,CAAEjL,MAAFiL,CAASjF,CAAAA,CAAK,CAALA,CAATiF,EAAkB,QAAlBA,CAAZjF,IAA2CA,CAAAA,CAAK,CAALA,CAAAA,CAAQ8U,IAAnD9U,KACTkC,CAAAA,CAAS5B,OAAT4B,GAAmBlC,CAAAA,CAAK,CAALA,CAAAA,CAAQ8U,IADlB9U,CAHT2J,GAOJA,CAAAA,CAAKkc,cAALlc,CAAoBzH,CAApByH,EAA8B,OAA9BA,EAA8B,KAAS7I,CAAvC6I,CAPIA,EAQAA,CAAAA,CAAKqhB,eAALrhB,OACFzH,CAAAA,CAAS2E,KAAT3E,GAAiB,IAAK/H,KAAL,EAAR0M,CAAsBA,KAD7B8C,CARAA,EAWGge,CAAAA,CAAKpiB,KAALoiB,CAAWvwB,IAAXuwB,EAAiB3nB,CAAjB2nB,EAAuByD,IAAvBzD,CAA4B,UAAU5nB,CAAV,EAAUA;AAC3CmC,YAAAA,CAAAA,CAAS6nB,WAAT7nB,GAAuB+C,CAAAA,CAAE9J,GAAF8J,EAAvB/C,EACAA,CAAAA,CAAS8jB,WAAT9jB,GAAuBnC,CAAAA,CAAK+b,MAD5B5Z,EAEAA,CAAAA,CAASooB,qBAATpoB,GAAiCnC,CAAAA,CAAKsqB,OAALtqB,CAAa1H,GAAb0H,CAAiB,cAAjBA,CAFjCmC;AAGA,gBAAImoB,CAAAA,GAAU,IAAd;AACI1gB,YAAAA,CAAAA,CAAK0e,cAAL1e,CAAoBmd,sBAApBnd,KACF0gB,CAAAA,GAAU1gB,CAAAA,CAAKwhB,YAALxhB,CAAkB5J,CAAAA,CAAKsqB,OAAvB1gB,EAAgCA,CAAAA,CAAK0e,cAAL1e,CAAoBmd,sBAApDnd,CADRA;AAGJ,gBAAImL,CAAAA,GAAO,IAAX;AA0BA,mBAzBInL,CAAAA,CAAK0e,cAAL1e,CAAoBod,mBAApBpd,IACuB,cAAA,OAAd5J,CAAAA,CAAKsrB,IADd1hB,KAGAmL,CAAAA,GAAO/U,CAAAA,CAAK0V,KAAL1V,GAAasrB,IAAbtrB,EAHP4J,GAGoB0hB,CAGpBhB,CAAAA,IAAWvV,CAHSuW,MAItBnpB,CAAAA,CAAS0oB,QAAT1oB,GAAoB,EAApBA,EACI4S,CAAAA,KAEuB,cAAA,OAAdA,CAAAA,CAAKsW,IAAS,GACvBtW,CAAAA,CAAKsW,IAALtW,CAAU,UAAUuW,CAAV,EAAUA;AACd1hB,cAAAA,CAAAA,CAAKkhB,iBAALlhB,CAAuBzH,CAAAA,CAASooB,qBAAhC3gB,MACFzH,CAAAA,CAAS0oB,QAAT1oB,CAAkB4S,IAAlB5S,GAAyByH,CAAAA,CAAKmhB,SAALnhB,CAAe0hB,CAAf1hB,CADvBA;AACsC0hB,aAF5CvW,CADuB,GAOvB5S,CAAAA,CAAS0oB,QAAT1oB,CAAkB4S,IAAlB5S,GAAyB4S,CATzBA,CADJ5S,EAaImoB,CAAAA,KACFnoB,CAAAA,CAAS0oB,QAAT1oB,CAAkBmoB,OAAlBnoB,GAA4BmoB,CAD1BA,CAjBkBgB,CAHpB1hB,EAwBJA,CAAAA,CAAKohB,iBAALphB,CAAuBzH,CAAvByH,CAxBIA,EAyBG5J,CAAP;AAAOA,WAlCF4nB,CAAP;AAkCS5nB,SApFX;AAoFWA,OAtFbrF,EAyFGtD,KAAKswB,YAzFRhtB,EAyFsB,SAzFtBA,CADE;AA0FoB,KAhU1BsQ,EAoUAA,CAAAA,CAAa5R,SAAb4R,CAAuB6a,cAAvB7a,GAAwC,UAAS9I,CAAT,EAAmB4jB,CAAnB,EAA4BN,CAA5B,EAA4BA;AAIlE,aAHItjB,CAAAA,CAAS5B,OAAT4B,IAAoB9K,KAAKyzB,iBAALzzB,CAAuB8K,CAAAA,CAASgoB,oBAAhC9yB,CAApB8K,KACFA,CAAAA,CAAS5B,OAAT4B,GAAmB9K,KAAK0zB,SAAL1zB,CAAe8K,CAAAA,CAAS5B,OAAxBlJ,CADjB8K,GAGG9K,KAAKwS,SAALxS,CAAeyuB,cAAfzuB,CAA8B8K,CAA9B9K,EAAwC0uB,CAAxC1uB,EAAiDouB,CAAjDpuB,CAAP;AAAwDouB,KAxU1Dxa,EA2UAA,CAAAA,CAAa5R,SAAb4R,CAAuB6f,iBAAvB7f,GAA2C,UAASsgB,CAAT,EAASA;AAClD,aAAA,CAAA,EAAQA,CAAAA,IAAermB,CAAAA,CAAEjL,MAAFiL,CAASqmB,CAATrmB,EAAsB,QAAtBA,CAAfqmB,IAAkDA,CAAAA,CAAYhxB,WAAZgxB,GAA0BC,QAA1BD,CAAmC,MAAnCA,CAA1D,CAAA;AAA6F,KA5U/FtgB,EA+UAA,CAAAA,CAAa5R,SAAb4R,CAAuB8f,SAAvB9f,GAAmC,UAASoQ,CAAT,EAASA;AAC1C,aAAOthB,IAAAA,CAAKF,SAALE,CAAeiQ,CAAAA,CAAMjQ,IAAAA,CAAKD,KAALC,CAAWshB,CAAXthB,CAANiQ,EAAwB3S,KAAK4F,OAAL5F,CAAamM,WAArCwG,CAAfjQ,CAAP;AAA2DyJ,KAhV7DyH,EAmVAA,CAAAA,CAAa5R,SAAb4R,CAAuBmgB,YAAvBngB,GAAsC,UAASwgB,CAAT,EAAoBhB,CAApB,EAAoBA;AACxD,UAAIiB,CAAAA,GAAa,EAAjB;;AACA,UAAA;AACE,YAAIj0B,CAAJ;;AACA,YAAA,CAAsB,CAAtB,KAAIgzB,CAAJ,EAAIA;AACF,cAAiC,cAAA,OAAtBgB,CAAAA,CAAUE,OAArB,EAGE,KAFA,IAAIjB,CAAAA,GAAae,CAAAA,CAAUE,OAAVF,EAAjB,EACIG,CAAAA,GAAgBlB,CAAAA,CAAWmB,IAAXnB,EACpB,EAD+BmB,CACvBD,CAAAA,CAAcE,IAAtB,GACEJ,CAAAA,CAAWE,CAAAA,CAAclzB,KAAdkzB,CAAoB,CAApBA,CAAXF,CAAAA,GAAqCE,CAAAA,CAAclzB,KAAdkzB,CAAoB,CAApBA,CAArCF,EACAE,CAAAA,GAAgBlB,CAAAA,CAAWmB,IAAXnB,EADhBgB;AAC2BG,SANjC,MAUE,KAAKp0B,CAAAA,GAAE,CAAP,EAAUA,CAAAA,GAAIgzB,CAAAA,CAAc7tB,MAA5B,EAAoCnF,CAAAA,EAApC,EAAyC;AACvC,cAAIwyB,CAAAA,GAASQ,CAAAA,CAAchzB,CAAdgzB,CAAb;AACAiB,UAAAA,CAAAA,CAAWzB,CAAXyB,CAAAA,GAAqBD,CAAAA,CAAUnzB,GAAVmzB,CAAcxB,CAAdwB,CAArBC;AAAmCzB;AAGvC,OAjBF,CAiBE,OAAO/uB,CAAP,EAAOA,CAGT;;AAAA,aAAOwwB,CAAP;AAAOA,KAzWTzgB,EA4WAA,CAAAA,CAAa5R,SAAb4R,CAAuBggB,eAAvBhgB,GAAyC,YAAA;AACvC,aAAO5T,KAAKixB,cAALjxB,CAAoB8vB,qBAApB9vB,IACLA,KAAKixB,cAALjxB,CAAoB+vB,qBADf/vB,IAELA,KAAKixB,cAALjxB,CAAoBgwB,mBAFtB;AAEsBA,KA/WxBpc,EAkXAA,CAAAA,CAAa5R,SAAb4R,CAAuB+f,iBAAvB/f,GAA2C,UAAS9I,CAAT,EAASA;AAClD,UAAI4Z,CAAAA,GAAS5Z,CAAAA,CAAS8jB,WAAtB;;AAEA,UAAKlK,CAAAA,IAAU,GAAVA,IAAiB1kB,KAAKixB,cAALjxB,CAAoB8vB,qBAArCpL,IACFA,CAAAA,IAAU,GAAVA,IAAiB1kB,KAAKixB,cAALjxB,CAAoB+vB,qBADnCrL,IAES,MAAXA,CAAW,IAAK1kB,KAAKixB,cAALjxB,CAAoBgwB,mBAFvC,EAE6D;AAC3D,YAAI1rB,CAAAA,GAAQ,IAAIvB,KAAJ,CAAU,qCAAqC2hB,CAA/C,CAAZ;AACApgB,QAAAA,CAAAA,CAAMmL,KAANnL,GAAcwG,CAAAA,CAAS2E,KAAvBnL,EACAtE,KAAK6R,OAAL7R,CAAasE,KAAbtE,CAAmBsE,CAAnBtE,EAA0B;AAAEmK,UAAAA,UAAAA,EAAY;AAAd,SAA1BnK,CADAsE;AACwC;AAAA,KA1X5CsP,EA8XAA,CAAAA,CAAa5R,SAAb4R,CAAuBie,mBAAvBje,GAA6C,YAAA;AAC3C,UAAM,aAAa5T,KAAK+wB,OAAlB,IAA6B/wB,KAAK+wB,OAAL/wB,CAAakO,OAAblO,CAAqBsM,GAAxD,EAIA,KADA,IAAImkB,CACJ,EAAOzwB,KAAKswB,YAALtwB,CAAuB,GAAvBA,CAAyBuF,MAAhC,GACEkrB,CAAAA,GAAIzwB,KAAKswB,YAALtwB,CAAuB,GAAvBA,CAAyBqgB,KAAzBrgB,EAAJywB,EACAzwB,KAAK+wB,OAAL/wB,CAAakO,OAAblO,CAAqBywB,CAAAA,CAAE,CAAFA,CAArBzwB,IAA6BywB,CAAAA,CAAE,CAAFA,CAD7BA;AAC+B,KArYnC7c,EAyYAA,CAAAA,CAAa5R,SAAb4R,CAAuBge,iBAAvBhe,GAA2C,YAAA;AACzC,UAAM,aAAa5T,KAAK+wB,OAAlB,IAA6B/wB,KAAK+wB,OAAL/wB,CAAakO,OAAblO,CAAqBsM,GAAxD,EAAA;AAIA,YAAIiG,CAAAA,GAAOvS,IAAX;AAAA,YACIS,CAAAA,GAAIT,KAAK+wB,OAAL/wB,CAAakO,OADrB;AAAA,YAmBI8T,CAAAA,GAAU,CAAC,OAAD,EAAS,MAAT,EAAgB,MAAhB,EAAuB,OAAvB,EAA+B,KAA/B,CAnBd;;AAoBA,YAAA;AACE,eAAK,IAAI5hB,CAAAA,GAAE,CAAN,EAASqJ,CAAAA,GAAIuY,CAAAA,CAAQzc,MAA1B,EAAkCnF,CAAAA,GAAIqJ,CAAtC,EAA2CrJ,CAAAA,EAA3C,EACEs0B,CAAAA,CAAY1S,CAAAA,CAAQ5hB,CAAR4hB,CAAZ0S,CAAAA;AAEF,SAJF,CAIE,OAAO7wB,CAAP,EAAOA;AACP7D,eAAK6J,UAAL7J,CAAgB4xB,iBAAhB5xB,GAAoC;AAAEsE,YAAAA,KAAAA,EAAOT,CAAAA,CAAEyD;AAAX,WAApCtH;AAA+CsH;AAtBjD;;AAAA,eAASotB,CAAT,CAAqBlT,CAArB,EAAqBA;AAGnB,YAAI+O,CAAAA,GAAO9vB,CAAAA,CAAE+gB,CAAF/gB,CAAX;AAAA,YACIk0B,CAAAA,GAAcl0B,CADlB;AAAA,YAEIyJ,CAAAA,GAAmB,WAAXsX,CAAW,GAAS,SAAT,GAAqBA,CAF5C;AAGA/gB,QAAAA,CAAAA,CAAE+gB,CAAF/gB,CAAAA,GAAY,YAAA;AACV,cAAImI,CAAAA,GAAOkF,KAAAA,CAAM9L,SAAN8L,CAAgBnC,KAAhBmC,CAAsBvN,IAAtBuN,CAA2BC,SAA3BD,CAAX;AAAA,cACIxG,CAAAA,GAAUuG,CAAAA,CAAEf,kBAAFe,CAAqBjF,CAArBiF,CADd;AAEA0E,UAAAA,CAAAA,CAAKC,SAALD,CAAeic,UAAfjc,CAA0BjL,CAA1BiL,EAAmCrI,CAAnCqI,GACIge,CAAAA,IACFltB,QAAAA,CAASrB,SAATqB,CAAmB8K,KAAnB9K,CAAyB9C,IAAzB8C,CAA8BktB,CAA9BltB,EAAoCsxB,CAApCtxB,EAAiDuF,CAAjDvF,CAFFkP;AAEmD3J,SALrDnI,EAQA8R,CAAAA,CAAK+d,YAAL/d,CAAuB,GAAvBA,CAAyBtM,IAAzBsM,CAA8B,CAACiP,CAAD,EAAS+O,CAAT,CAA9Bhe,CARA9R;AAQuC8vB;AAAAA,KA/Z3C3c,EA2aAA,CAAAA,CAAa5R,SAAb4R,CAAuBme,eAAvBne,GAAyC,YAAA;AAAA,OACjC,sBAAsB5T,KAAK+wB,OAA3B,IAAsC,iBAAiB/wB,KAAK+wB,OAD3B,KAIvC/wB,KAAK40B,eAAL50B,CAAqB,KAArBA,CAJuC;AAIlB,KA/avB4T,EAkbAA,CAAAA,CAAa5R,SAAb4R,CAAuBke,aAAvBle,GAAuC,YAAA;AACrC,UAAM,sBAAsB5T,KAAK+wB,OAA3B,IAAsC,iBAAiB/wB,KAAK+wB,OAAlE,EAAA;AAGA,YAAI8D,CAAAA,GAAe70B,KAAK80B,WAAL90B,CAAiB4B,IAAjB5B,CAAsBA,IAAtBA,CAAnB;AAAA,YACI+0B,CAAAA,GAAc/0B,KAAKg1B,UAALh1B,CAAgB4B,IAAhB5B,CAAqBA,IAArBA,CADlB;AAEAA,aAAKi1B,WAALj1B,CAAiB,KAAjBA,EAAwBA,KAAK+wB,OAA7B/wB,EAAsC,OAAtCA,EAA+C,SAA/CA,EAA0D60B,CAA1D70B,EAA0D60B,CAAc,CAAxE70B,GACAA,KAAKi1B,WAALj1B,CAAiB,KAAjBA,EAAwBA,KAAK+wB,OAA7B/wB,EAAsC,MAAtCA,EAA8C,YAA9CA,EAA4D+0B,CAA5D/0B,EAA4D+0B,CAAa,CAAzE/0B,CADAA;AACyE;AAAA,KAzb3E4T,EA4bAA,CAAAA,CAAa5R,SAAb4R,CAAuBkhB,WAAvBlhB,GAAqC,UAASwP,CAAT,EAASA;AAC5C,UAAA;AACE,YAAIvf,CAAAA,GAAI2rB,CAAAA,CAAQ0F,mBAAR1F,CAA4BpM,CAA5BoM,EAAiCxvB,KAAKgxB,SAAtCxB,CAAR;AAAA,YACI2F,CAAAA,GAAStxB,CAAAA,IAAKA,CAAAA,CAAEuxB,OADpB;AAAA,YAEIC,CAAAA,GAAiB7F,CAAAA,CAAQ8F,kBAAR9F,CAA2B3rB,CAA3B2rB,EAA8B,GAA9BA,KAAsCA,CAAAA,CAAQ8F,kBAAR9F,CAA2B3rB,CAA3B2rB,EAA8B,QAA9BA,CAF3D;AAGI2F,QAAAA,CAAAA,KAAWE,CAAAA,IAAkB7F,CAAAA,CAAQ8F,kBAAR9F,CAA2B3rB,CAA3B2rB,EAA8B,OAA9BA,EAAuC,CAAC,QAAD,EAAW,QAAX,CAAvCA,CAA7B2F,CAAAA,GACAn1B,KAAKu1B,eAALv1B,CAAqB,OAArBA,EAA8B6D,CAA9B7D,CADAm1B,GAEO3F,CAAAA,CAAQ8F,kBAAR9F,CAA2B3rB,CAA3B2rB,EAA8B,OAA9BA,EAAuC,CAAC,UAAD,EAAa,OAAb,CAAvCA,KACTxvB,KAAKu1B,eAALv1B,CAAqB,OAArBA,EAA8B6D,CAA9B7D,EAAiC6D,CAAAA,CAAExC,KAAnCrB,EAA0C6D,CAAAA,CAAEmrB,OAA5ChvB,CAHEm1B;AAKJ,OATF,CASE,OAAO9d,CAAP,EAAOA,CAAAA;AAAAA,KAtcXzD,EA2cAA,CAAAA,CAAa5R,SAAb4R,CAAuBohB,UAAvBphB,GAAoC,UAASwP,CAAT,EAASA;AAC3C,UAAA;AACE,YAAIvf,CAAAA,GAAI2rB,CAAAA,CAAQ0F,mBAAR1F,CAA4BpM,CAA5BoM,EAAiCxvB,KAAKgxB,SAAtCxB,CAAR;AACI3rB,QAAAA,CAAAA,IAAKA,CAAAA,CAAEuxB,OAAPvxB,KACE2rB,CAAAA,CAAQ8F,kBAAR9F,CAA2B3rB,CAA3B2rB,EAA8B,UAA9BA,IACFxvB,KAAKu1B,eAALv1B,CAAqB,OAArBA,EAA8B6D,CAA9B7D,EAAiC6D,CAAAA,CAAExC,KAAnCrB,CADEwvB,GAEOA,CAAAA,CAAQ8F,kBAAR9F,CAA2B3rB,CAA3B2rB,EAA8B,QAA9BA,KAA2C3rB,CAAAA,CAAE+B,OAA7C4pB,IAAwD3rB,CAAAA,CAAE+B,OAAF/B,CAAU0B,MAAlEiqB,GACTxvB,KAAKw1B,wBAALx1B,CAA8B6D,CAA9B7D,CADSwvB,GAEAA,CAAAA,CAAQ8F,kBAAR9F,CAA2B3rB,CAA3B2rB,EAA8B,OAA9BA,KAA8B,CAAaA,CAAAA,CAAQ8F,kBAAR9F,CAA2B3rB,CAA3B2rB,EAA8B,OAA9BA,EAAuC,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,UAA/B,EAA2C,OAA3C,CAAvCA,CAA3CA,IACTxvB,KAAKu1B,eAALv1B,CAAqB,OAArBA,EAA8B6D,CAA9B7D,EAAiC6D,CAAAA,CAAExC,KAAnCrB,CANA6D;AASJ,OAXF,CAWE,OAAOwT,CAAP,EAAOA,CAAAA;AAAAA,KAvdXzD,EA4dAA,CAAAA,CAAa5R,SAAb4R,CAAuB4hB,wBAAvB5hB,GAAkD,UAAS6hB,CAAT,EAASA;AACzD,UAAIA,CAAAA,CAAKC,QAAT,EACE,KAAK,IAAIt1B,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAIq1B,CAAAA,CAAK7vB,OAAL6vB,CAAalwB,MAAjC,EAAyCnF,CAAAA,EAAzC,EACMq1B,CAAAA,CAAK7vB,OAAL6vB,CAAar1B,CAAbq1B,EAAgBE,QAAhBF,IACFz1B,KAAKu1B,eAALv1B,CAAqB,OAArBA,EAA8By1B,CAA9Bz1B,EAAoCy1B,CAAAA,CAAK7vB,OAAL6vB,CAAar1B,CAAbq1B,EAAgBp0B,KAApDrB,CADEy1B,CAFR,KAMWA,CAAAA,CAAKG,aAALH,IAAsB,CAAtBA,IAA2BA,CAAAA,CAAK7vB,OAAL6vB,CAAaA,CAAAA,CAAKG,aAAlBH,CAA3BA,IACTz1B,KAAKu1B,eAALv1B,CAAqB,OAArBA,EAA8By1B,CAA9Bz1B,EAAoCy1B,CAAAA,CAAK7vB,OAAL6vB,CAAaA,CAAAA,CAAKG,aAAlBH,EAAiCp0B,KAArErB,CADSy1B;AAC4Dp0B,KApezEuS,EAweAA,CAAAA,CAAa5R,SAAb4R,CAAuB2hB,eAAvB3hB,GAAyC,UAAS8a,CAAT,EAAkBK,CAAlB,EAA2B1tB,CAA3B,EAAkCw0B,CAAlC,EAAkCA;AACzE,UAAA,KAAcnsB,CAAd,KAAIrI,CAAJ,EACE,IAAIrB,KAAKkxB,oBAALlxB,IAAkE,eAApCwvB,CAAAA,CAAQsG,cAARtG,CAAuBT,CAAvBS,CAAlC,EACEnuB,CAAAA,GAAQ,YAARA,CADF,KAEO;AACL,YAAIwkB,CAAAA,GAAc2J,CAAAA,CAAQuG,eAARvG,CAAwBT,CAAxBS,CAAlB;AACIxvB,aAAKmxB,iBAALnxB,GACEA,KAAKmxB,iBAALnxB,CAAuB6lB,CAAvB7lB,MACFqB,CAAAA,GAAQ,YADNrB,CADFA,GAIOA,KAAKoxB,oBAALpxB,CAA0B6lB,CAA1B7lB,MACTqB,CAAAA,GAAQ,YADCrB,CAJPA;AASR;AAAA,UAAIg2B,CAAAA,GAAgBxG,CAAAA,CAAQyG,oBAARzG,CAA6BA,CAAAA,CAAQ0G,WAAR1G,CAAoBT,CAApBS,CAA7BA,CAApB;AACAxvB,WAAKwS,SAALxS,CAAe8uB,UAAf9uB,CAA0B0uB,CAA1B1uB,EAAmCg2B,CAAnCh2B,EAAkDqB,CAAlDrB,EAAyD61B,CAAzD71B;AAAyD61B,KAxf3DjiB,EA2fAA,CAAAA,CAAa5R,SAAb4R,CAAuBqe,sBAAvBre,GAAgD,YAAA;AAC9C,UAAIO,CAAAA,GAASnU,KAAK+wB,OAAL/wB,CAAamU,MAA1B;AAA0BA,QACFA,CAAAA,IAAUA,CAAAA,CAAOgiB,GAAjBhiB,IAAwBA,CAAAA,CAAOgiB,GAAPhiB,CAAWC,OADjCD,KAGenU,KAAK+wB,OAAL/wB,CAAao2B,OAH5BjiB,IAGuCnU,KAAK+wB,OAAL/wB,CAAao2B,OAAbp2B,CAAqBq2B,SAH5DliB,IAO1Bqc,CAAAA,CAAQxwB,KAAKswB,YAAbE,EAA2B,YAA3BA,CAP0Brc;AAOC,KAngB7BP,EAsgBAA,CAAAA,CAAa5R,SAAb4R,CAAuBoe,oBAAvBpe,GAA8C,YAAA;AAC5C,UAAIO,CAAAA,GAASnU,KAAK+wB,OAAL/wB,CAAamU,MAA1B;;AAIA,UAAA,EAHwBA,CAAAA,IAAUA,CAAAA,CAAOgiB,GAAjBhiB,IAAwBA,CAAAA,CAAOgiB,GAAPhiB,CAAWC,OAG3D,KADyCpU,KAAK+wB,OAAL/wB,CAAao2B,OACtD,IADiEp2B,KAAK+wB,OAAL/wB,CAAao2B,OAAbp2B,CAAqBq2B,SACtF,EAAA;AAGA,YAAI9jB,CAAAA,GAAOvS,IAAX;AACAsD,QAAAA,CAAAA,CAAQtD,KAAK+wB,OAAbztB,EAAsB,YAAtBA,EAAoC,UAASitB,CAAT,EAASA;AAC3C,iBAAO,YAAA;AACL,gBAAIzkB,CAAAA,GAAUyG,CAAAA,CAAKgf,SAALhf,CAAerK,IAA7B;AACAqK,YAAAA,CAAAA,CAAK+jB,eAAL/jB,CAAqBA,CAAAA,CAAKif,SAA1Bjf,EAAqCzG,CAArCyG,GACIge,CAAAA,IACFA,CAAAA,CAAKpiB,KAALoiB,CAAWvwB,IAAXuwB,EAAiBxiB,SAAjBwiB,CAFFhe;AAEmBxE,WAJrB;AAIqBA,SALvBzK,EAQGtD,KAAKswB,YARRhtB,EAQsB,YARtBA,CAAAA,EAUAA,CAAAA,CAAQtD,KAAK+wB,OAAL/wB,CAAao2B,OAArB9yB,EAA8B,WAA9BA,EAA2C,UAASitB,CAAT,EAASA;AAClD,iBAAO,YAAA;AACL,gBAAI/rB,CAAAA,GAAMuJ,SAAAA,CAAUxI,MAAVwI,GAAmB,CAAnBA,GAAuBA,SAAAA,CAAU,CAAVA,CAAvBA,GAAiC,KAAKrE,CAAhD;AAIA,mBAHIlF,CAAAA,IACF+N,CAAAA,CAAK+jB,eAAL/jB,CAAqBA,CAAAA,CAAKif,SAA1Bjf,EAAqC/N,CAAAA,GAAM,EAA3C+N,CADE/N,EAGG+rB,CAAAA,CAAKpiB,KAALoiB,CAAWvwB,IAAXuwB,EAAiBxiB,SAAjBwiB,CAAP;AAAwBxiB,WAL1B;AAK0BA,SAN5BzK,EAQGtD,KAAKswB,YARRhtB,EAQsB,YARtBA,CAVAA;AAkBsB;AAAA,KAjiBxBsQ,EAoiBAA,CAAAA,CAAa5R,SAAb4R,CAAuB0iB,eAAvB1iB,GAAyC,UAASsb,CAAT,EAAeC,CAAf,EAAeA;AACtD,UAAIoH,CAAAA,GAAahH,CAAAA,CAAU9sB,KAAV8sB,CAAgBvvB,KAAKuxB,SAALvxB,CAAekI,IAA/BqnB,CAAjB;AAAA,UACIiH,CAAAA,GAAWjH,CAAAA,CAAU9sB,KAAV8sB,CAAgBJ,CAAhBI,CADf;AAAA,UAEIkH,CAAAA,GAAalH,CAAAA,CAAU9sB,KAAV8sB,CAAgBL,CAAhBK,CAFjB;AAGAvvB,WAAKwxB,SAALxxB,GAAiBmvB,CAAjBnvB,EACIu2B,CAAAA,CAAW7vB,QAAX6vB,KAAwBC,CAAAA,CAAS9vB,QAAjC6vB,IAA6CA,CAAAA,CAAWloB,IAAXkoB,KAAoBC,CAAAA,CAASnoB,IAA1EkoB,KACFpH,CAAAA,GAAKqH,CAAAA,CAASpwB,IAATowB,IAAiBA,CAAAA,CAASloB,IAATkoB,IAAiB,EAAlCA,CADHD,CADJv2B,EAIIu2B,CAAAA,CAAW7vB,QAAX6vB,KAAwBE,CAAAA,CAAW/vB,QAAnC6vB,IAA+CA,CAAAA,CAAWloB,IAAXkoB,KAAoBE,CAAAA,CAAWpoB,IAA9EkoB,KACFrH,CAAAA,GAAOuH,CAAAA,CAAWrwB,IAAXqwB,IAAmBA,CAAAA,CAAWnoB,IAAXmoB,IAAmB,EAAtCA,CADLF,CAJJv2B,EAOAA,KAAKwS,SAALxS,CAAeivB,iBAAfjvB,CAAiCkvB,CAAjClvB,EAAuCmvB,CAAvCnvB,CAPAA;AAOuCmvB,KA/iBzCvb,EAkjBAA,CAAAA,CAAa5R,SAAb4R,CAAuBue,wBAAvBve,GAAkD,YAAA;AAAA,OAC1C,sBAAsB5T,KAAK+wB,OAA3B,IAAsC,UAAU/wB,KAAKgxB,SADX,MAI5ChxB,KAAK+wB,OAAL/wB,CAAasjB,gBAAbtjB,GACFA,KAAK40B,eAAL50B,CAAqB,cAArBA,CADEA,GAGFwwB,CAAAA,CAAQxwB,KAAKswB,YAAbE,EAA2B,cAA3BA,CAP8C;AAOnB,KAzjB/B5c,EA6jBAA,CAAAA,CAAa5R,SAAb4R,CAAuBse,sBAAvBte,GAAgD,YAAA;AAC9C,UAAM,sBAAsB5T,KAAK+wB,OAA3B,IAAsC,UAAU/wB,KAAKgxB,SAA3D,EAGA,IAAIhxB,KAAK+wB,OAAL/wB,CAAasjB,gBAAjB,EACEtjB,KAAKi1B,WAALj1B,CAAiB,cAAjBA,EAAiCA,KAAK+wB,OAAtC/wB,EAA+C,QAA/CA,EAA+C,KAAU0J,CAAzD1J,EAAoE,YAAA;AAClEA,aAAKwS,SAALxS,CAAeovB,yBAAfpvB,CAAyC,QAAzCA;AAAyC,OADyB,CAElE4B,IAFkE,CAE7D5B,IAF6D,CAApEA,EAEOA,CAAO,CAFdA,GAGAA,KAAKi1B,WAALj1B,CAAiB,cAAjBA,EAAiCA,KAAK+wB,OAAtC/wB,EAA+C,SAA/CA,EAA+C,KAAW0J,CAA1D1J,EAAqE,YAAA;AACnEA,aAAKwS,SAALxS,CAAeovB,yBAAfpvB,CAAyC,SAAzCA;AAAyC,OAD0B,CAEnE4B,IAFmE,CAE9D5B,IAF8D,CAArEA,EAEOA,CAAO,CAFdA,CAHAA,CADF,KAOO;AACL,YAAIuS,CAAAA,GAAOvS,IAAX;AACAsD,QAAAA,CAAAA,CAAQtD,KAAKgxB,SAALhxB,CAAe0d,IAAvBpa,EAA6B,UAA7BA,EAAyC,UAASitB,CAAT,EAASA;AAChD,iBAAO,YAAA;AACLhe,YAAAA,CAAAA,CAAKC,SAALD,CAAe6c,yBAAf7c,CAAyC,QAAzCA,GACIge,CAAAA,IACFA,CAAAA,CAAKpiB,KAALoiB,CAAWvwB,IAAXuwB,EAAiBxiB,SAAjBwiB,CAFFhe;AAEmBxE,WAHrB;AAGqBA,SAJvBzK,EAOGtD,KAAKswB,YAPRhtB,EAOsB,cAPtBA,CAAAA,EAQAA,CAAAA,CAAQtD,KAAKgxB,SAALhxB,CAAe0d,IAAvBpa,EAA6B,WAA7BA,EAA0C,UAASitB,CAAT,EAASA;AACjD,iBAAO,YAAA;AACLhe,YAAAA,CAAAA,CAAKC,SAALD,CAAe6c,yBAAf7c,CAAyC,SAAzCA,GACIge,CAAAA,IACFA,CAAAA,CAAKpiB,KAALoiB,CAAWvwB,IAAXuwB,EAAiBxiB,SAAjBwiB,CAFFhe;AAEmBxE,WAHrB;AAGqBA,SAJvBzK,EAOGtD,KAAKswB,YAPRhtB,EAOsB,cAPtBA,CARAA;AAesB;AAAA,KAzlB1BsQ,EA6lBAA,CAAAA,CAAa5R,SAAb4R,CAAuB8iB,cAAvB9iB,GAAwC,UAAS+iB,CAAT,EAASA;AAC/C,UAAIrvB,CAAAA,GAAU,4CACKqvB,CAAAA,CAASC,UADd,GAAA,uBAAA,GAEYD,CAAAA,CAASE,iBAFrB,GAAA,wBAAA,GAGaF,CAAAA,CAASG,kBAHtB,GAG2C,IAHzD;AAKIH,MAAAA,CAAAA,CAASI,UAATJ,KACFrvB,CAAAA,IAAW,eAAeqvB,CAAAA,CAASI,UAAxB,GAAA,UAAA,GACEJ,CAAAA,CAASznB,UADX,GAAA,SAAA,GAECynB,CAAAA,CAASvnB,YAFV,GAEyB,IAHlCunB,GAMJrvB,CAAAA,IAAW,qBAAqBqvB,CAAAA,CAASK,cANrCL,EAQJ32B,KAAKwS,SAALxS,CAAewuB,UAAfxuB,CAA0BsH,CAA1BtH,EAAmC,OAAnCA,CARI22B,EASJ32B,KAAKi3B,cAALj3B,CAAoBsH,CAApBtH,CATI22B;AASgBrvB,KA5mBtBsM,EA+mBAA,CAAAA,CAAa5R,SAAb4R,CAAuBqjB,cAAvBrjB,GAAwC,UAAStM,CAAT,EAASA;AAC3CtH,WAAKixB,cAALjxB,CAAoBqwB,4BAApBrwB,IACFA,KAAK6R,OAAL7R,CAAasE,KAAbtE,CAAmBsH,CAAnBtH,CADEA;AACiBsH,KAjnBvBsM,EAqnBAA,CAAAA,CAAa5R,SAAb4R,CAAuBye,iCAAvBze,GAA2D,YAAA;AACnD,4BAAsB5T,KAAK+wB,OAA3B,IAEN/wB,KAAK40B,eAAL50B,CAAqB,uBAArBA,CAFM;AAEe,KAxnBvB4T,EA2nBAA,CAAAA,CAAa5R,SAAb4R,CAAuBwe,+BAAvBxe,GAAyD,YAAA;AACvD,UAAM,sBAAsB5T,KAAK+wB,OAAjC,EAAA;AAEA,YAAImG,CAAAA,GAAal3B,KAAK02B,cAAL12B,CAAoB4B,IAApB5B,CAAyBA,IAAzBA,CAAjB;AACAA,aAAKi1B,WAALj1B,CAAiB,uBAAjBA,EAA0CA,KAAK+wB,OAA/C/wB,EAAwD,yBAAxDA,EAAmF,IAAnFA,EAAyFk3B,CAAzFl3B,EAAyFk3B,CAAY,CAArGl3B;AAAqG;AAAA,KA/nBvG4T,EAkoBAA,CAAAA,CAAa5R,SAAb4R,CAAuBqhB,WAAvBrhB,GAAqC,UAASujB,CAAT,EAAkBrwB,CAAlB,EAAuBnD,CAAvB,EAA6ByzB,CAA7B,EAAsC5U,CAAtC,EAA+C2L,CAA/C,EAA+CA;AAC9ErnB,MAAAA,CAAAA,CAAIwc,gBAAJxc,IACFA,CAAAA,CAAIwc,gBAAJxc,CAAqBnD,CAArBmD,EAA2B0b,CAA3B1b,EAAoCqnB,CAApCrnB,GACA9G,KAAKqxB,aAALrxB,CAAmBm3B,CAAnBn3B,EAA4BiG,IAA5BjG,CAAiC,YAAA;AAC/B8G,QAAAA,CAAAA,CAAIoc,mBAAJpc,CAAwBnD,CAAxBmD,EAA8B0b,CAA9B1b,EAAuCqnB,CAAvCrnB;AAAuCqnB,OADzCnuB,CAFE8G,IAKOswB,CAAAA,KACTtwB,CAAAA,CAAIuwB,WAAJvwB,CAAgBswB,CAAhBtwB,EAAyB0b,CAAzB1b,GACA9G,KAAKqxB,aAALrxB,CAAmBm3B,CAAnBn3B,EAA4BiG,IAA5BjG,CAAiC,YAAA;AAC/B8G,QAAAA,CAAAA,CAAIwwB,WAAJxwB,CAAgBswB,CAAhBtwB,EAAyB0b,CAAzB1b;AAAyB0b,OAD3BxiB,CAFSo3B,CALPtwB;AAQyB0b,KA3oB/B5O,EAgpBAA,CAAAA,CAAa5R,SAAb4R,CAAuBghB,eAAvBhhB,GAAyC,UAASujB,CAAT,EAASA;AAEhD,aAAOn3B,KAAKqxB,aAALrxB,CAAmBm3B,CAAnBn3B,EAA4BuF,MAAnC,GACMvF,KAAKqxB,aAALrxB,CAAmBm3B,CAAnBn3B,EAA4BqgB,KAA5BrgB;AACJkB,KAppBJ0S,EAwpBA/T,CAAAA,CAAOD,OAAPC,GAAiB+T,CAxpBjBA;AAwpBiBA,G;;;AC7vBjB,aAASkiB,CAAT,CAAwBjyB,CAAxB,EAAwBA;AACtB,aAAA,CAAQA,CAAAA,CAAE0zB,YAAF1zB,CAAe,MAAfA,KAA0B,EAAlC,EAAsCX,WAAtC,EAAA;AA8DF;;AAAA,aAASk1B,CAAT,CAA6BE,CAA7B,EAA6BA;AAC3B,UAAA,CAAKA,CAAL,IAAKA,CAASA,CAAAA,CAAKlD,OAAnB,EACE,OAAO,EAAP;AAEF,UAAI0C,CAAAA,GAAM,CAACQ,CAAAA,CAAKlD,OAAN,CAAV;AACIkD,MAAAA,CAAAA,CAAKC,EAALD,IACFR,CAAAA,CAAI7xB,IAAJ6xB,CAAS,MAAMQ,CAAAA,CAAKC,EAApBT,CADEQ,EAGAA,CAAAA,CAAKE,OAALF,IACFR,CAAAA,CAAI7xB,IAAJ6xB,CAAS,MAAMQ,CAAAA,CAAKE,OAALF,CAAapyB,IAAboyB,CAAkB,GAAlBA,CAAfR,CAJEQ;;AAMJ,WAAK,IAAIl4B,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAIk4B,CAAAA,CAAK5H,UAAL4H,CAAgB/yB,MAApC,EAA4CnF,CAAAA,EAA5C,EACE03B,CAAAA,CAAI7xB,IAAJ6xB,CAAS,MAAMQ,CAAAA,CAAK5H,UAAL4H,CAAgBl4B,CAAhBk4B,EAAmB32B,GAAzB,GAA+B,IAA/B,GAAsC22B,CAAAA,CAAK5H,UAAL4H,CAAgBl4B,CAAhBk4B,EAAmBj3B,KAAzD,GAAiE,IAA1Ey2B;;AAGF,aAAOA,CAAAA,CAAI5xB,IAAJ4xB,CAAS,EAATA,CAAP;AAkBF;;AAAA,aAAS/B,CAAT,CAAyBN,CAAzB,EAAyBA;AACvB,UAAA,CAAKA,CAAL,IAAKA,CAASA,CAAAA,CAAKL,OAAnB,EACE,OAAO,IAAP;AAEF,UAAczN,CAAd;AAAA,UAAyBhmB,CAAzB;AAAA,UAA8B82B,CAA9B;AAAA,UAAoCr4B,CAApC;AAAA,UAAI03B,CAAAA,GAAM,EAAV;AACAA,MAAAA,CAAAA,CAAI1C,OAAJ0C,GAAcrC,CAAAA,CAAKL,OAALK,CAAavyB,WAAbuyB,EAAdqC,EACIrC,CAAAA,CAAK8C,EAAL9C,KACFqC,CAAAA,CAAIS,EAAJT,GAASrC,CAAAA,CAAK8C,EADZ9C,CADJqC,EAEgBS,CAEhB5Q,CAAAA,GAAY8N,CAAAA,CAAK9N,SAFD4Q,KAGuB,YAAA,OAAd5Q,CAHT4Q,KAIdT,CAAAA,CAAIU,OAAJV,GAAcnQ,CAAAA,CAAU3c,KAAV2c,CAAgB,KAAhBA,CAJA4Q,CAFhBT;AAQA,UAAIpH,CAAAA,GAAa,CAAC,MAAD,EAAS,MAAT,EAAiB,OAAjB,EAA0B,KAA1B,CAAjB;;AAEA,WADAoH,CAAAA,CAAIpH,UAAJoH,GAAiB,EAAjBA,EACK13B,CAAAA,GAAI,CAAT,EAAYA,CAAAA,GAAIswB,CAAAA,CAAWnrB,MAA3B,EAAmCnF,CAAAA,EAAnC,EACEuB,CAAAA,GAAM+uB,CAAAA,CAAWtwB,CAAXswB,CAAN/uB,EAAiBvB,CACjBq4B,CAAAA,GAAOhD,CAAAA,CAAK8B,YAAL9B,CAAkB9zB,CAAlB8zB,CADUr1B,KAGf03B,CAAAA,CAAIpH,UAAJoH,CAAe7xB,IAAf6xB,CAAoB;AAACn2B,QAAAA,GAAAA,EAAKA,CAAN;AAAWN,QAAAA,KAAAA,EAAOo3B;AAAlB,OAApBX,CAHFn2B;;AAMF,aAAOm2B,CAAP;AAGFj4B;;AAAAA,IAAAA,CAAAA,CAAOD,OAAPC,GAAiB;AACfk2B,MAAAA,eAAAA,EAAiBA,CADF;AAEfqC,MAAAA,mBAAAA,EAAqBA,CAFN;AAGfnC,MAAAA,oBAAAA,EA/EF,UAA8BrF,CAA9B,EAA8BA;AAK5B,aAJA,IAEuBsH,CAFvB,EAEgCC,CAFhC,EACuBF,CAAAA,GAAP,MAAmC1yB,MADnD,EAEIuyB,CAAAA,GAAM,EAFV,EAEcruB,CAAAA,GAAM,CAFpB,EAISrJ,CAAAA,GAAIwwB,CAAAA,CAAErrB,MAAFqrB,GAAW,CAAxB,EAA2BxwB,CAAAA,IAAK,CAAhC,EAAmCA,CAAAA,EAAnC,EAAwC;AAGtC,cAFA83B,CAAAA,GAAUE,CAAAA,CAAoBxH,CAAAA,CAAExwB,CAAFwwB,CAApBwH,CAAVF,EACAC,CAAAA,GAAc1uB,CAAAA,GAAOquB,CAAAA,CAAIvyB,MAAJuyB,GAAaG,CAApBxuB,GAAuCyuB,CAAAA,CAAQ3yB,MAD7D2yB,EAEI93B,CAAAA,GAAIwwB,CAAAA,CAAErrB,MAAFqrB,GAAW,CAAfxwB,IAAoB+3B,CAAAA,IAAeE,EAAvC,EAAuD;AACrDP,YAAAA,CAAAA,CAAI9pB,OAAJ8pB,CAAY,KAAZA;AACA;AAEFA;;AAAAA,UAAAA,CAAAA,CAAI9pB,OAAJ8pB,CAAYI,CAAZJ,GACAruB,CAAAA,IAAOyuB,CAAAA,CAAQ3yB,MADfuyB;AAGF;;AAAA,eAAOA,CAAAA,CAAI5xB,IAAJ4xB,CAbS,KAaTA,CAAP;AAbgB,OA0ED;AAIf5B,MAAAA,WAAAA,EA/FF,UAAqBT,CAArB,EAAqBA;AAInB,aAHA,IAEIsC,CAFJ,EACID,CAAAA,GAAM,EADV,EAGSjR,CAAAA,GAAS,CAAlB,EAAqB4O,CAAAA,IAAQ5O,CAAAA,GAHZ,CAGI4O,IAEa,WAAA,CADhCsC,CAAAA,GAAkBhC,CAAAA,CAAgBN,CAAhBM,CACc,EAAZX,OAFtB,EAAkDvO,CAAAA,EAAlD,EAKEiR,CAAAA,CAAI9pB,OAAJ8pB,CAAYC,CAAZD,GACArC,CAAAA,GAAOA,CAAAA,CAAKuC,UADZF;;AAGF,eAAOA,CAAP;AAAOA,OA+EQ;AAKf5C,MAAAA,mBAAAA,EA1GF,UAA6B9R,CAA7B,EAAkCqU,CAAlC,EAAkCA;AAChC,eAAIrU,CAAAA,CAAIsU,MAAJtU,GACKA,CAAAA,CAAIsU,MADTtU,GAGAqU,CAAAA,IAAOA,CAAAA,CAAIE,gBAAXF,GACKA,CAAAA,CAAIE,gBAAJF,CAAqBrU,CAAAA,CAAIwU,OAAzBH,EAAkCrU,CAAAA,CAAIyU,OAAtCJ,CADLA,GAC2CI,KAD/C,CAHA;AAGA,OAiGe;AAMfvC,MAAAA,kBAAAA,EA3HF,UAA4BvG,CAA5B,EAAqCprB,CAArC,EAA2C6zB,CAA3C,EAA2CA;AACzC,YAAIzI,CAAAA,CAAQqG,OAARrG,CAAgB7rB,WAAhB6rB,OAAkCprB,CAAAA,CAAKT,WAALS,EAAtC,EACE,OAAA,CAAO,CAAP;AAEF,YAAA,CAAK6zB,CAAL,EACE,OAAA,CAAO,CAAP;AAEFzI,QAAAA,CAAAA,GAAU+G,CAAAA,CAAe/G,CAAf+G,CAAV/G;;AACA,aAAK,IAAI3uB,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAIo3B,CAAAA,CAASjyB,MAA7B,EAAqCnF,CAAAA,EAArC,EACE,IAAIo3B,CAAAA,CAASp3B,CAATo3B,CAAAA,KAAgBzI,CAApB,EACE,OAAA,CAAO,CAAP;;AAGJ,eAAA,CAAO,CAAP;AAAO,OAwGQ;AAOf+G,MAAAA,cAAAA,EAAgBA;AAPD,KAAjBj2B;AAOkBi2B,G;;;AChIlB,QAAIxzB,CAAAA,GAAe,CAAA,CAAQ,EAAR,CAAnB;AAEAzC,IAAAA,CAAAA,CAAOD,OAAPC,GAAiByC,CAAjBzC;AAAiByC,G;ACsvBjBzC,IAAAA,CAAAA,CAAOD,OAAPC,GAnmBsB,UAAS6C,CAAT,EAASA;AAE7B,UAqCI02B,CArCJ;AAAA,UAsCIC,CAtCJ;AAAA,UAuCIC,CAvCJ;AAAA,UAwCIC,CAxCJ;AAAA,UAwQQS,CAxQR;AAAA,UAqRQvqB,CArRR;AAAA,UAsRQwqB,CAtRR;AAAA,UAuRQt4B,CAvRR;AAAA,UAwRQN,CAxRR;AAAA,UAyRQ64B,CAzRR;AAAA,UAmSQhzB,CAnSR;AAAA,UAyTQuzB,CAzTR;AAAA,UAuUQC,CAvUR;AAAA,UAIIhC,CAAAA,GAAe,iIAJnB;;AAOA,eAASv1B,CAAT,CAAWtB,CAAX,EAAWA;AAET,eAAOA,CAAAA,GAAI,EAAJA,GACH,MAAMA,CADHA,GAEHA,CAFJ;AAKF;;AAAA,eAAS82B,CAAT,GAASA;AACP,eAAO34B,KAAK44B,OAAL54B,EAAP;AA4BF;;AAAA,eAASw5B,CAAT,CAAetyB,CAAf,EAAeA;AAQb,eADAwxB,CAAAA,CAAae,SAAbf,GAAyB,CAAzBA,EACOA,CAAAA,CAAah1B,IAAbg1B,CAAkBxxB,CAAlBwxB,IACH,MAAOxxB,CAAAA,CAAO5D,OAAP4D,CAAewxB,CAAfxxB,EAA6B,UAAU0pB,CAAV,EAAUA;AAC9C,cAAInwB,CAAAA,GAAI64B,CAAAA,CAAK1I,CAAL0I,CAAR;AACA,iBAAoB,YAAA,OAAN74B,CAAM,GAChBA,CADgB,GAEhB,QAAA,CAAS,SAASmwB,CAAAA,CAAEvpB,UAAFupB,CAAa,CAAbA,EAAgB5tB,QAAhB4tB,CAAyB,EAAzBA,CAAlB,EAAgDjlB,KAAhD,CAAgDA,CAAO,CAAvD,CAFJ;AAE2D,SAJpDzE,CAAP,GAKG,GANAwxB,GAOL,MAAOxxB,CAAP,GAAgB,GAPlB;AAjCmC;;AAAA,oBAAA,OAA1BkE,IAAAA,CAAKpJ,SAALoJ,CAAeytB,MAAW,KAEnCztB,IAAAA,CAAKpJ,SAALoJ,CAAeytB,MAAfztB,GAAwB,YAAA;AAEtB,eAAO8e,QAAAA,CAASlqB,KAAK44B,OAAL54B,EAATkqB,CAAAA,GACHlqB,KAAK84B,cAAL94B,KAAwB,GAAxBA,GACFmD,CAAAA,CAAEnD,KAAK+4B,WAAL/4B,KAAqB,CAAvBmD,CADEnD,GAC0B,GAD1BA,GAEFmD,CAAAA,CAAEnD,KAAKg5B,UAALh5B,EAAFmD,CAFEnD,GAEqB,GAFrBA,GAGFmD,CAAAA,CAAEnD,KAAKi5B,WAALj5B,EAAFmD,CAHEnD,GAGsB,GAHtBA,GAIFmD,CAAAA,CAAEnD,KAAKk5B,aAALl5B,EAAFmD,CAJEnD,GAIwB,GAJxBA,GAKFmD,CAAAA,CAAEnD,KAAKm5B,aAALn5B,EAAFmD,CALEnD,GAKwB,GANrBkqB,GAOH,IAPJ;AAOI,OATN9e,EAYAugB,OAAAA,CAAQ3pB,SAAR2pB,CAAkBkN,MAAlBlN,GAA2BgN,CAZ3BvtB,EAaAwgB,MAAAA,CAAO5pB,SAAP4pB,CAAiBiN,MAAjBjN,GAA0B+M,CAb1BvtB,EAcAxH,MAAAA,CAAO5B,SAAP4B,CAAiBi1B,MAAjBj1B,GAA0B+0B,CAhBS,GAwLP,cAAA,OAAnBj2B,CAAAA,CAAKF,SAAc,KAC5B82B,CAAAA,GAAO;AACL,cAAM,KADD;AAEL,cAAM,KAFD;AAGL,cAAM,KAHD;AAIL,cAAM,KAJD;AAKL,cAAM,KALD;AAMLO,aAAM,KAND;AAOL,cAAM;AAPD,OAAPP,EASA52B,CAAAA,CAAKF,SAALE,GAAiB,UAAUrB,CAAV,EAAiBy4B,CAAjB,EAA2BC,CAA3B,EAA2BA;AAQ1C,YAAI35B,CAAJ;AAOA,YANAg5B,CAAAA,GAAM,EAANA,EACAC,CAAAA,GAAS,EADTD,EAMqB,YAAA,OAAVW,CAAX,EACE,KAAK35B,CAAAA,GAAI,CAAT,EAAYA,CAAAA,GAAI25B,CAAhB,EAAuB35B,CAAAA,IAAK,CAA5B,EACEi5B,CAAAA,IAAU,GAAVA,CAFJ,KAO4B,YAAA,OAAVU,CAAU,KAC1BV,CAAAA,GAASU,CADiB;AAQ5B,YADAR,CAAAA,GAAMO,CAANP,EACIO,CAAAA,IAAgC,cAAA,OAAbA,CAAnBA,KACqB,YAAA,OAAbA,CAAa,IACO,YAAA,OAApBA,CAAAA,CAASv0B,MAFjBu0B,CAAJ,EAGE,MAAM,IAAI/2B,KAAJ,CAAU,gBAAV,CAAN;AAMF,eA7LJ,SAASqC,CAAT,CAAazD,CAAb,EAAkB+3B,CAAlB,EAAkBA;AAIhB,cAAIt5B,CAAJ;AAAA,cACI4F,CADJ;AAAA,cAEIgL,CAFJ;AAAA,cAGIzL,CAHJ;AAAA,cAKIq0B,CALJ;AAAA,cAIID,CAAAA,GAAOP,CAJX;AAAA,cAMI/3B,CAAAA,GAAQq4B,CAAAA,CAAO/3B,CAAP+3B,CANZ;;AAwBA,kBAdIr4B,CAAAA,IAA0B,YAAA,OAAVA,CAAhBA,IACwB,cAAA,OAAjBA,CAAAA,CAAMw3B,MADbx3B,KAEFA,CAAAA,GAAQA,CAAAA,CAAMw3B,MAANx3B,CAAaM,CAAbN,CAFNA,GAQe,cAAA,OAARk4B,CAAQ,KACjBl4B,CAAAA,GAAQk4B,CAAAA,CAAIh5B,IAAJg5B,CAASG,CAATH,EAAiB53B,CAAjB43B,EAAsBl4B,CAAtBk4B,CADS,CARfl4B,EAS4BA,OAKjBA,CAAf;AACE,iBAAK,QAAL;AACE,qBAAOm4B,CAAAA,CAAMn4B,CAANm4B,CAAP;;AAEF,iBAAK,QAAL;AAIE,qBAAOtP,QAAAA,CAAS7oB,CAAT6oB,CAAAA,GACHtmB,MAAAA,CAAOvC,CAAPuC,CADGsmB,GAEH,MAFJ;;AAIF,iBAAK,SAAL;AACA,iBAAK,MAAL;AAME,qBAAOtmB,MAAAA,CAAOvC,CAAPuC,CAAP;;AAKF,iBAAK,QAAL;AAKE,kBAAA,CAAKvC,CAAL,EACE,OAAO,MAAP;;AAUF,kBALA+3B,CAAAA,IAAOC,CAAPD,EACAQ,CAAAA,GAAU,EADVR,EAK+C,qBAA3Ct4B,MAAAA,CAAOkB,SAAPlB,CAAiBkC,QAAjBlC,CAA0BqN,KAA1BrN,CAAgCO,CAAhCP,CAAJ,EAAiE;AAM/D,qBADAyE,CAAAA,GAASlE,CAAAA,CAAMkE,MAAfA,EACKnF,CAAAA,GAAI,CAAT,EAAYA,CAAAA,GAAImF,CAAhB,EAAwBnF,CAAAA,IAAK,CAA7B,EACEw5B,CAAAA,CAAQx5B,CAARw5B,CAAAA,GAAax0B,CAAAA,CAAIhF,CAAJgF,EAAO/D,CAAP+D,CAAAA,IAAiB,MAA9Bw0B;;AAYF,uBANA5oB,CAAAA,GAAuB,MAAnB4oB,CAAAA,CAAQr0B,MAAW,GACnB,IADmB,GAEnB6zB,CAAAA,GACA,QAAQA,CAAR,GAAcQ,CAAAA,CAAQ1zB,IAAR0zB,CAAa,QAAQR,CAArBQ,CAAd,GAA0C,IAA1C,GAAiDD,CAAjD,GAAwD,GADxDP,GAEA,MAAMQ,CAAAA,CAAQ1zB,IAAR0zB,CAAa,GAAbA,CAAN,GAA0B,GAJ9B5oB,EAKAooB,CAAAA,GAAMO,CALN3oB,EAMOA,CAAP;AAKF;;AAAA,kBAAIuoB,CAAAA,IAAsB,YAAA,OAARA,CAAlB,EAEE,KADAh0B,CAAAA,GAASg0B,CAAAA,CAAIh0B,MAAbA,EACKnF,CAAAA,GAAI,CAAT,EAAYA,CAAAA,GAAImF,CAAhB,EAAwBnF,CAAAA,IAAK,CAA7B,EACwB,YAAA,OAAXm5B,CAAAA,CAAIn5B,CAAJm5B,CAAW,KAEpBvoB,CAAAA,GAAI5L,CAAAA,CADJY,CAAAA,GAAIuzB,CAAAA,CAAIn5B,CAAJm5B,CACAn0B,EAAO/D,CAAP+D,CAFgB,KAIlBw0B,CAAAA,CAAQ3zB,IAAR2zB,CAAaJ,CAAAA,CAAMxzB,CAANwzB,CAAAA,IACPJ,CAAAA,GACE,IADFA,GAEE,GAHKI,IAIHxoB,CAJV4oB,CAJkB,CAH1B,KAmBE,KAAK5zB,CAAL,IAAU3E,CAAV,EACMP,MAAAA,CAAOkB,SAAPlB,CAAiBmB,cAAjBnB,CAAgCP,IAAhCO,CAAqCO,CAArCP,EAA4CkF,CAA5ClF,MACFkQ,CAAAA,GAAI5L,CAAAA,CAAIY,CAAJZ,EAAO/D,CAAP+D,CADFtE,KAGA84B,CAAAA,CAAQ3zB,IAAR2zB,CAAaJ,CAAAA,CAAMxzB,CAANwzB,CAAAA,IACPJ,CAAAA,GACE,IADFA,GAEE,GAHKI,IAIHxoB,CAJV4oB,CAHA94B;AAsBR,qBANAkQ,CAAAA,GAAuB,MAAnB4oB,CAAAA,CAAQr0B,MAAW,GACnB,IADmB,GAEnB6zB,CAAAA,GACA,QAAQA,CAAR,GAAcQ,CAAAA,CAAQ1zB,IAAR0zB,CAAa,QAAQR,CAArBQ,CAAd,GAA0C,IAA1C,GAAiDD,CAAjD,GAAwD,GADxDP,GAEA,MAAMQ,CAAAA,CAAQ1zB,IAAR0zB,CAAa,GAAbA,CAAN,GAA0B,GAJ9B5oB,EAKAooB,CAAAA,GAAMO,CALN3oB,EAMOA,CAAP;AA1GJ;AAiKS5L,SA7LX,CA6Le,EA7Lf,EA6LmB;AAAC,cAAI/D;AAAL,SA7LnB,CA6LI;AAAoBA,OAjDM,CAxLO,EAgPX,cAAA,OAAfqB,CAAAA,CAAKD,KAAU,KACxBC,CAAAA,CAAKD,KAALC,IAsBMw3B,CAAAA,GAAU;AACZ,cAAM,IADM;AAEZL,aAAM,GAFM;AAGZ,aAAK,GAHO;AAIZ,QAAA,CAAA,EAAK,IAJO;AAKZ,QAAA,CAAA,EAAK,IALO;AAMZ,QAAA,CAAA,EAAK,IANO;AAOZ,QAAA,CAAA,EAAK,IAPO;AAQZ,QAAA,CAAA,EAAK;AARO,OAAVK,EAUAhzB,CAAAA,GAAS;AACXizB,QAAAA,EAAAA,EAAI,YAAA;AACFH,UAAAA,CAAAA,GAAQ,IAARA;AAAQ,SAFC;AAIXI,QAAAA,SAAAA,EAAW,YAAA;AACTz4B,UAAAA,CAAAA,GAAMN,CAANM,EACAq4B,CAAAA,GAAQ,OADRr4B;AACQ,SANC;AAQX04B,QAAAA,IAAAA,EAAM,YAAA;AACJ14B,UAAAA,CAAAA,GAAMN,CAANM,EACAq4B,CAAAA,GAAQ,OADRr4B;AACQ,SAVC;AAYX24B,QAAAA,MAAAA,EAAQ,YAAA;AACNN,UAAAA,CAAAA,GAAQ,QAARA;AAAQ,SAbC;AAeXO,QAAAA,WAAAA,EAAa,YAAA;AACXP,UAAAA,CAAAA,GAAQ,QAARA;AAAQ,SAhBC;AAkBXQ,QAAAA,MAAAA,EAAQ,YAAA;AACNR,UAAAA,CAAAA,GAAQ,QAARA;AAAQ;AAnBC,OAVTE,EAgCAO,CAAAA,GAAS;AACXN,QAAAA,EAAAA,EAAI,YAAA;AACFH,UAAAA,CAAAA,GAAQ,IAARA;AAAQ,SAFC;AAIXM,QAAAA,MAAAA,EAAQ,YAAA;AACNN,UAAAA,CAAAA,GAAQ,QAARA;AAAQ,SALC;AAOXO,QAAAA,WAAAA,EAAa,YAAA;AACXP,UAAAA,CAAAA,GAAQ,QAARA;AAAQ,SARC;AAUXQ,QAAAA,MAAAA,EAAQ,YAAA;AACNR,UAAAA,CAAAA,GAAQ,QAARA;AAAQ;AAXC,OAhCTE,EA8CAQ,CAAAA,GAAS;AAOX,aAAK;AACHP,UAAAA,EAAAA,EAAI,YAAA;AACF1qB,YAAAA,CAAAA,CAAMxJ,IAANwJ,CAAW;AAACuqB,cAAAA,KAAAA,EAAO;AAAR,aAAXvqB,GACAwqB,CAAAA,GAAY,EADZxqB,EAEAuqB,CAAAA,GAAQ,WAFRvqB;AAEQ,WAJP;AAMH6qB,UAAAA,MAAAA,EAAQ,YAAA;AACN7qB,YAAAA,CAAAA,CAAMxJ,IAANwJ,CAAW;AAACwqB,cAAAA,SAAAA,EAAWA,CAAZ;AAAuBD,cAAAA,KAAAA,EAAO,QAA9B;AAAwCr4B,cAAAA,GAAAA,EAAKA;AAA7C,aAAX8N,GACAwqB,CAAAA,GAAY,EADZxqB,EAEAuqB,CAAAA,GAAQ,WAFRvqB;AAEQ,WATP;AAWH8qB,UAAAA,WAAAA,EAAa,YAAA;AACX9qB,YAAAA,CAAAA,CAAMxJ,IAANwJ,CAAW;AAACwqB,cAAAA,SAAAA,EAAWA,CAAZ;AAAuBD,cAAAA,KAAAA,EAAO;AAA9B,aAAXvqB,GACAwqB,CAAAA,GAAY,EADZxqB,EAEAuqB,CAAAA,GAAQ,WAFRvqB;AAEQ,WAdP;AAgBH+qB,UAAAA,MAAAA,EAAQ,YAAA;AACN/qB,YAAAA,CAAAA,CAAMxJ,IAANwJ,CAAW;AAACwqB,cAAAA,SAAAA,EAAWA,CAAZ;AAAuBD,cAAAA,KAAAA,EAAO;AAA9B,aAAXvqB,GACAwqB,CAAAA,GAAY,EADZxqB,EAEAuqB,CAAAA,GAAQ,WAFRvqB;AAEQ;AAnBP,SAPM;AA6BX,aAAK;AACH2qB,UAAAA,SAAAA,EAAW,YAAA;AACT,gBAAI3uB,CAAAA,GAAMgE,CAAAA,CAAMhE,GAANgE,EAAV;AACApO,YAAAA,CAAAA,GAAQ44B,CAAR54B,EACA44B,CAAAA,GAAYxuB,CAAAA,CAAIwuB,SADhB54B,EAEAM,CAAAA,GAAM8J,CAAAA,CAAI9J,GAFVN,EAGA24B,CAAAA,GAAQvuB,CAAAA,CAAIuuB,KAHZ34B;AAGY24B,WANX;AAQHW,UAAAA,MAAAA,EAAQ,YAAA;AACN,gBAAIlvB,CAAAA,GAAMgE,CAAAA,CAAMhE,GAANgE,EAAV;AACAwqB,YAAAA,CAAAA,CAAUt4B,CAAVs4B,CAAAA,GAAiB54B,CAAjB44B,EACA54B,CAAAA,GAAQ44B,CADRA,EAEAA,CAAAA,GAAYxuB,CAAAA,CAAIwuB,SAFhBA,EAGAt4B,CAAAA,GAAM8J,CAAAA,CAAI9J,GAHVs4B,EAIAD,CAAAA,GAAQvuB,CAAAA,CAAIuuB,KAJZC;AAIYD;AAdX,SA7BM;AA8CX,aAAK;AACHG,UAAAA,EAAAA,EAAI,YAAA;AACF1qB,YAAAA,CAAAA,CAAMxJ,IAANwJ,CAAW;AAACuqB,cAAAA,KAAAA,EAAO;AAAR,aAAXvqB,GACAwqB,CAAAA,GAAY,EADZxqB,EAEAuqB,CAAAA,GAAQ,aAFRvqB;AAEQ,WAJP;AAMH6qB,UAAAA,MAAAA,EAAQ,YAAA;AACN7qB,YAAAA,CAAAA,CAAMxJ,IAANwJ,CAAW;AAACwqB,cAAAA,SAAAA,EAAWA,CAAZ;AAAuBD,cAAAA,KAAAA,EAAO,QAA9B;AAAwCr4B,cAAAA,GAAAA,EAAKA;AAA7C,aAAX8N,GACAwqB,CAAAA,GAAY,EADZxqB,EAEAuqB,CAAAA,GAAQ,aAFRvqB;AAEQ,WATP;AAWH8qB,UAAAA,WAAAA,EAAa,YAAA;AACX9qB,YAAAA,CAAAA,CAAMxJ,IAANwJ,CAAW;AAACwqB,cAAAA,SAAAA,EAAWA,CAAZ;AAAuBD,cAAAA,KAAAA,EAAO;AAA9B,aAAXvqB,GACAwqB,CAAAA,GAAY,EADZxqB,EAEAuqB,CAAAA,GAAQ,aAFRvqB;AAEQ,WAdP;AAgBH+qB,UAAAA,MAAAA,EAAQ,YAAA;AACN/qB,YAAAA,CAAAA,CAAMxJ,IAANwJ,CAAW;AAACwqB,cAAAA,SAAAA,EAAWA,CAAZ;AAAuBD,cAAAA,KAAAA,EAAO;AAA9B,aAAXvqB,GACAwqB,CAAAA,GAAY,EADZxqB,EAEAuqB,CAAAA,GAAQ,aAFRvqB;AAEQ;AAnBP,SA9CM;AAoEX,aAAK;AACH8qB,UAAAA,WAAAA,EAAa,YAAA;AACX,gBAAI9uB,CAAAA,GAAMgE,CAAAA,CAAMhE,GAANgE,EAAV;AACApO,YAAAA,CAAAA,GAAQ44B,CAAR54B,EACA44B,CAAAA,GAAYxuB,CAAAA,CAAIwuB,SADhB54B,EAEAM,CAAAA,GAAM8J,CAAAA,CAAI9J,GAFVN,EAGA24B,CAAAA,GAAQvuB,CAAAA,CAAIuuB,KAHZ34B;AAGY24B,WANX;AAQHY,UAAAA,MAAAA,EAAQ,YAAA;AACN,gBAAInvB,CAAAA,GAAMgE,CAAAA,CAAMhE,GAANgE,EAAV;AACAwqB,YAAAA,CAAAA,CAAUh0B,IAAVg0B,CAAe54B,CAAf44B,GACA54B,CAAAA,GAAQ44B,CADRA,EAEAA,CAAAA,GAAYxuB,CAAAA,CAAIwuB,SAFhBA,EAGAt4B,CAAAA,GAAM8J,CAAAA,CAAI9J,GAHVs4B,EAIAD,CAAAA,GAAQvuB,CAAAA,CAAIuuB,KAJZC;AAIYD;AAdX,SApEM;AAqFX,aAAK;AACHa,UAAAA,KAAAA,EAAO,YAAA;AACL,gBAAI/5B,MAAAA,CAAOmB,cAAPnB,CAAsBP,IAAtBO,CAA2Bm5B,CAA3Bn5B,EAAsCa,CAAtCb,CAAJ,EACE,MAAM,IAAIg6B,WAAJ,CAAgB,oBAAoBn5B,CAApB,GAA0B,GAA1C,CAAN;AAEFq4B,YAAAA,CAAAA,GAAQ,QAARA;AAAQ;AALP,SArFM;AA6FX,aAAK;AACHW,UAAAA,MAAAA,EAAQ,YAAA;AACNV,YAAAA,CAAAA,CAAUt4B,CAAVs4B,CAAAA,GAAiB54B,CAAjB44B,EACAD,CAAAA,GAAQ,MADRC;AACQ,WAHP;AAKHW,UAAAA,MAAAA,EAAQ,YAAA;AACNX,YAAAA,CAAAA,CAAUh0B,IAAVg0B,CAAe54B,CAAf44B,GACAD,CAAAA,GAAQ,QADRC;AACQ;AAPP,SA7FM;AAuGX,QAAA,IAAA,EAAQ;AACNE,UAAAA,EAAAA,EAAI,YAAA;AACF94B,YAAAA,CAAAA,GAAAA,CAAQ,CAARA,EACA24B,CAAAA,GAAQ,IADR34B;AACQ,WAHJ;AAKNi5B,UAAAA,MAAAA,EAAQ,YAAA;AACNj5B,YAAAA,CAAAA,GAAAA,CAAQ,CAARA,EACA24B,CAAAA,GAAQ,QADR34B;AACQ,WAPJ;AASNk5B,UAAAA,WAAAA,EAAa,YAAA;AACXl5B,YAAAA,CAAAA,GAAAA,CAAQ,CAARA,EACA24B,CAAAA,GAAQ,QADR34B;AACQ,WAXJ;AAaNm5B,UAAAA,MAAAA,EAAQ,YAAA;AACNn5B,YAAAA,CAAAA,GAAAA,CAAQ,CAARA,EACA24B,CAAAA,GAAQ,QADR34B;AACQ;AAfJ,SAvGG;AAyHX,QAAA,KAAA,EAAS;AACP84B,UAAAA,EAAAA,EAAI,YAAA;AACF94B,YAAAA,CAAAA,GAAAA,CAAQ,CAARA,EACA24B,CAAAA,GAAQ,IADR34B;AACQ,WAHH;AAKPi5B,UAAAA,MAAAA,EAAQ,YAAA;AACNj5B,YAAAA,CAAAA,GAAAA,CAAQ,CAARA,EACA24B,CAAAA,GAAQ,QADR34B;AACQ,WAPH;AASPk5B,UAAAA,WAAAA,EAAa,YAAA;AACXl5B,YAAAA,CAAAA,GAAAA,CAAQ,CAARA,EACA24B,CAAAA,GAAQ,QADR34B;AACQ,WAXH;AAaPm5B,UAAAA,MAAAA,EAAQ,YAAA;AACNn5B,YAAAA,CAAAA,GAAAA,CAAQ,CAARA,EACA24B,CAAAA,GAAQ,QADR34B;AACQ;AAfH,SAzHE;AA2IX,QAAA,IAAA,EAAQ;AACN84B,UAAAA,EAAAA,EAAI,YAAA;AACF94B,YAAAA,CAAAA,GAAQ,IAARA,EACA24B,CAAAA,GAAQ,IADR34B;AACQ,WAHJ;AAKNi5B,UAAAA,MAAAA,EAAQ,YAAA;AACNj5B,YAAAA,CAAAA,GAAQ,IAARA,EACA24B,CAAAA,GAAQ,QADR34B;AACQ,WAPJ;AASNk5B,UAAAA,WAAAA,EAAa,YAAA;AACXl5B,YAAAA,CAAAA,GAAQ,IAARA,EACA24B,CAAAA,GAAQ,QADR34B;AACQ,WAXJ;AAaNm5B,UAAAA,MAAAA,EAAQ,YAAA;AACNn5B,YAAAA,CAAAA,GAAQ,IAARA,EACA24B,CAAAA,GAAQ,QADR34B;AACQ;AAfJ;AA3IG,OA9CT64B,EAwNG,UAAUt1B,CAAV,EAAkBq2B,CAAlB,EAAkBA;AAKvB,YAAIp0B,CAAJ;AAAA,YAhBsBotB,CAgBtB;AAAA,YACIiH,CAAAA,GAAK,gJADT;AAKAlB,QAAAA,CAAAA,GAAQ,IAARA,EAKAvqB,CAAAA,GAAQ,EALRuqB;;AASA,YAAA;AAIE,iBACEnzB,CAAAA,GAASq0B,CAAAA,CAAG71B,IAAH61B,CAAQt2B,CAARs2B,CADX,GAYMr0B,CAAAA,CAAO,CAAPA,CAAAA,GAIF6zB,CAAAA,CAAO7zB,CAAAA,CAAO,CAAPA,CAAP6zB,CAAAA,CAAkBV,CAAlBU,GAJE7zB,GAMOA,CAAAA,CAAO,CAAPA,CAAAA,IAKTxF,CAAAA,GAAAA,CAASwF,CAAAA,CAAO,CAAPA,CAATxF,EACAo5B,CAAAA,CAAOT,CAAPS,CAAAA,EANS5zB,KApDOotB,CAAAA,GAgEOptB,CAAAA,CAAO,CAAPA,CAhEPotB,EAgEhB5yB,CAAAA,GA5DC4yB,CAAAA,CAAK3wB,OAAL2wB,CAAa,uBAAbA,EAAsC,UAAU8G,CAAV,EAAkBtK,CAAlB,EAAqBhwB,CAArB,EAAqBA;AAChE,mBAAOgwB,CAAAA,GACH7sB,MAAAA,CAAOo3B,YAAPp3B,CAAoB8K,QAAAA,CAAS+hB,CAAT/hB,EAAY,EAAZA,CAApB9K,CADG6sB,GAEHyJ,CAAAA,CAAQz5B,CAARy5B,CAFJ;AAEYz5B,WAHPwzB,CAJeA,EAiEhB/sB,CAAAA,CAAO8yB,CAAP9yB,CAAAA,EAbSL,CANPA,EA0BJjC,CAAAA,GAASA,CAAAA,CAAO+G,KAAP/G,CAAaiC,CAAAA,CAAO,CAAPA,CAAAA,CAAUtB,MAAvBX,CA1BLiC;AAgCN,SAhDF,CAgDE,OAAOhD,CAAP,EAAOA;AACPm2B,UAAAA,CAAAA,GAAQn2B,CAARm2B;AAOF;;AAAA,YAAc,SAAVA,CAAU,IAAS,kBAAkBt2B,IAAlB,CAAuBkB,CAAvB,CAAvB,EACE,MAAOo1B,CAAAA,YAAiBc,WAAjBd,GACHA,CADGA,GAEH,IAAIc,WAAJ,CAAgB,MAAhB,CAFJ;AAWF,eAA2B,cAAA,OAAZG,CAAY,GACtB,SAASE,CAAT,CAAczB,CAAd,EAAsB/3B,CAAtB,EAAsBA;AACvB,cAAIqE,CAAJ;AAAA,cACIgL,CADJ;AAAA,cAEInG,CAAAA,GAAM6uB,CAAAA,CAAO/3B,CAAP+3B,CAFV;AAGA,cAAI7uB,CAAAA,IAAsB,YAAA,OAARA,CAAlB,EACE,KAAK7E,CAAL,IAAU3E,CAAV,EACMP,MAAAA,CAAOkB,SAAPlB,CAAiBmB,cAAjBnB,CAAgCP,IAAhCO,CAAqC+J,CAArC/J,EAA0CkF,CAA1ClF,MAA0CkF,KAElC0D,CAFkC1D,MAC5CgL,CAAAA,GAAImqB,CAAAA,CAAKtwB,CAALswB,EAAUn1B,CAAVm1B,CADwCn1B,IAG1C6E,CAAAA,CAAI7E,CAAJ6E,CAAAA,GAASmG,CAHiChL,GAGjCgL,OAEFnG,CAAAA,CAAI7E,CAAJ6E,CALP/J;AAUR,iBAAOm6B,CAAAA,CAAQ16B,IAAR06B,CAAavB,CAAbuB,EAAqBt5B,CAArBs5B,EAA0BpwB,CAA1BowB,CAAP;AAhBA,SAAC,CAiBD;AAAC,cAAI55B;AAAL,SAjBC,EAiBY,EAjBZ,CADsB,GAmBzBA,CAnBF;AAmBEA,OAxVNqB,CADwB,CAhPW;AAykB7BrB,KAMVxB;AANUwB,G;;;ACpuBV,aAAS+5B,CAAT,CAAkC5Y,CAAlC,EAA2CxgB,CAA3C,EAAsDygB,CAAtD,EAAsDA;AACpD,UAAIzgB,CAAAA,CAAUC,cAAVD,IAA4BA,CAAAA,CAAUC,cAAVD,CAAyB,kBAAzBA,CAAhC,EAA8E;AAE5E,aADA,IAAIq5B,CAAAA,GAAsBr5B,CAAAA,CAAUshB,gBACpC,EAAO+X,CAAAA,CAAoBC,cAApBD,IAAsCA,CAAAA,CAAoBpY,aAAjE,GACEoY,CAAAA,GAAsBA,CAAAA,CAAoBC,cAA1CD;;AAEF,YAAIE,CAAAA,GAAQ,UAAS7jB,CAAT,EAAgBzO,CAAhB,EAA0BuyB,CAA1B,EAA0BA;AACpCH,UAAAA,CAAAA,CAAoB96B,IAApB86B,CAAyBr7B,IAAzBq7B,EAA+B3jB,CAA/B2jB,EAAsC7Y,CAAAA,CAAQxL,IAARwL,CAAavZ,CAAbuZ,CAAtC6Y,EAA8DG,CAA9DH;AAA8DG,SADhE;;AAGAD,QAAAA,CAAAA,CAAMD,cAANC,GAAuBF,CAAvBE,EACAA,CAAAA,CAAMtY,aAANsY,GAAsB9Y,CADtB8Y,EAEAv5B,CAAAA,CAAUshB,gBAAVthB,GAA6Bu5B,CAF7BA;;AAKA,aADA,IAAIE,CAAAA,GAAyBz5B,CAAAA,CAAUkhB,mBACvC,EAAOuY,CAAAA,CAAuBC,iBAAvBD,IAA4CA,CAAAA,CAAuBxY,aAA1E,GACEwY,CAAAA,GAAyBA,CAAAA,CAAuBC,iBAAhDD;;AAEF,YAAIE,CAAAA,GAAW,UAASjkB,CAAT,EAAgBzO,CAAhB,EAA0BuyB,CAA1B,EAA0BA;AACvCC,UAAAA,CAAAA,CAAuBl7B,IAAvBk7B,CAA4Bz7B,IAA5By7B,EAAkC/jB,CAAlC+jB,EAAyCxyB,CAAAA,IAAYA,CAAAA,CAASmO,gBAArBnO,IAAyCA,CAAlFwyB,EAA4FD,CAA5FC;AAA4FD,SAD9F;;AAGAG,QAAAA,CAAAA,CAASD,iBAATC,GAA6BF,CAA7BE,EACAA,CAAAA,CAAS1Y,aAAT0Y,GAAyBlZ,CADzBkZ,EAEA35B,CAAAA,CAAUkhB,mBAAVlhB,GAAgC25B,CAFhCA;AAEgCA;AAIpC97B;;AAAAA,IAAAA,CAAAA,CAAOD,OAAPC,GAxCA,UAAqBwI,CAArB,EAA6Bma,CAA7B,EAAsCC,CAAtC,EAAsCA;AACpC,UAAKpa,CAAL,EAAA;AAEA,YACIjI,CADJ;AAAA,YACOwU,CADP;AAAA,YAAI5B,CAAAA,GAAU,4YAA4YhI,KAA5Y,CAAkZ,GAAlZ,CAAd;;AAEA,aAAK5K,CAAAA,GAAI,CAAT,EAAYA,CAAAA,GAAI4S,CAAAA,CAAQzN,MAAxB,EAAwBA,EAAUnF,CAAlC,EAGMiI,CAAAA,CAFJuM,CAAAA,GAAS5B,CAAAA,CAAQ5S,CAAR4S,CAEL3K,CAAAA,IAAkBA,CAAAA,CAAOuM,CAAPvM,CAAAA,CAAerG,SAAjCqG,IACF+yB,CAAAA,CAAyB5Y,CAAzB4Y,EAAkC/yB,CAAAA,CAAOuM,CAAPvM,CAAAA,CAAerG,SAAjDo5B,EAA4D3Y,CAA5D2Y,CADE/yB;AAC0Doa;AAAAA,KA+BlE5iB;AA/BkE4iB,G;;;ACTlE,QAAI5U,CAAAA,GAAI,CAAA,CAAQ,CAAR,CAAR;AAAA,QACIyC,CAAAA,GAAW,CAAA,CAAQ,CAAR,CADf;;AAGA,aAASuX,CAAT,CAAa7b,CAAb,EAAsB6U,CAAtB,EAAsBA;AACpB,aAAO,CAAC7U,CAAD,EAAU6B,CAAAA,CAAErL,SAAFqL,CAAY7B,CAAZ6B,EAAqBgT,CAArBhT,CAAV,CAAP;AAGF;;AAAA,aAAS+tB,CAAT,CAAsB1T,CAAtB,EAA8B2T,CAA9B,EAA8BA;AAC5B,UAAIpyB,CAAAA,GAAMye,CAAAA,CAAO3iB,MAAjB;AACA,aAAIkE,CAAAA,GAAc,IAARoyB,CAANpyB,GACKye,CAAAA,CAAOvc,KAAPuc,CAAa,CAAbA,EAAgB2T,CAAhB3T,EAAuBrc,MAAvBqc,CAA8BA,CAAAA,CAAOvc,KAAPuc,CAAaze,CAAAA,GAAMoyB,CAAnB3T,CAA9BA,CADLze,GAGGye,CAHP;AAMF;;AAAA,aAAS4T,CAAT,CAAwB9vB,CAAxB,EAAiC6U,CAAjC,EAA6Cgb,CAA7C,EAA6CA;AAC3CA,MAAAA,CAAAA,GAAAA,KAA0B,CAA1BA,KAAgBA,CAAhBA,GAAyC,EAAzCA,GAA8CA,CAA9CA;AACA,UACI3T,CADJ;AAAA,UAAIxK,CAAAA,GAAO1R,CAAAA,CAAQ3B,IAAR2B,CAAa0R,IAAxB;AAEA,UAAIA,CAAAA,CAAK+J,WAAT,EAEE,KADA,IAAI3B,CAAAA,GAAQpI,CAAAA,CAAK+J,WAAjB,EACSrnB,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAI0lB,CAAAA,CAAMvgB,MAA1B,EAAkCnF,CAAAA,EAAlC,EAEE8nB,CAAAA,GAAS0T,CAAAA,CADT1T,CAAAA,GAASpC,CAAAA,CAAM1lB,CAAN0lB,CAAAA,CAASoC,MACT0T,EAAqBC,CAArBD,CAAT1T,EACApC,CAAAA,CAAM1lB,CAAN0lB,CAAAA,CAASoC,MAATpC,GAAkBoC,CADlBA,CAJJ,KAOWxK,CAAAA,CAAK6J,KAAL7J,KAETwK,CAAAA,GAAS0T,CAAAA,CADT1T,CAAAA,GAASxK,CAAAA,CAAK6J,KAAL7J,CAAWwK,MACX0T,EAAqBC,CAArBD,CAAT1T,EACAxK,CAAAA,CAAK6J,KAAL7J,CAAWwK,MAAXxK,GAAoBwK,CAHXxK;AAKX,aAAO,CAAC1R,CAAD,EAAU6B,CAAAA,CAAErL,SAAFqL,CAAY7B,CAAZ6B,EAAqBgT,CAArBhT,CAAV,CAAP;AAGF;;AAAA,aAASkuB,CAAT,CAA4BtyB,CAA5B,EAAiCoB,CAAjC,EAAiCA;AAC/B,aAAKA,CAAAA,IAGDA,CAAAA,CAAItF,MAAJsF,GAAapB,CAHZoB,GAIIA,CAAAA,CAAIc,KAAJd,CAAU,CAAVA,EAAapB,CAAAA,GAAM,CAAnBoB,EAAsBgB,MAAtBhB,CAA6B,KAA7BA,CAJJA,GACIA,CADT;AASF;;AAAA,aAASmxB,CAAT,CAAyBvyB,CAAzB,EAA8BuC,CAA9B,EAAuC6U,CAAvC,EAAuCA;AAarC,aAAO,CADP7U,CAAAA,GAAUsE,CAAAA,CAAStE,CAATsE,EAXV,SAAS2rB,CAAT,CAAmBj2B,CAAnB,EAAsBgL,CAAtB,EAAyBE,CAAzB,EAAyBA;AACvB,gBAAQrD,CAAAA,CAAE/K,QAAF+K,CAAWmD,CAAXnD,CAAR;AACE,eAAK,QAAL;AACE,mBAAOkuB,CAAAA,CAAmBtyB,CAAnBsyB,EAAwB/qB,CAAxB+qB,CAAP;;AACF,eAAK,QAAL;AACA,eAAK,OAAL;AACE,mBAAOzrB,CAAAA,CAASU,CAATV,EAAY2rB,CAAZ3rB,EAAuBY,CAAvBZ,CAAP;;AACF;AACE,mBAAOU,CAAP;AAPJ;AAOWA,OAGHV,CACH,EAAUzC,CAAAA,CAAErL,SAAFqL,CAAY7B,CAAZ6B,EAAqBgT,CAArBhT,CAAV,CAAP;AAGF;;AAAA,aAASquB,CAAT,CAA2BC,CAA3B,EAA2BA;AAMzB,aALIA,CAAAA,CAAU7sB,SAAV6sB,KAAU7sB,OACL6sB,CAAAA,CAAU7sB,SAAV6sB,CAAoBtW,WADfvW,EAEZ6sB,CAAAA,CAAU7sB,SAAV6sB,CAAoB70B,OAApB60B,GAA8BJ,CAAAA,CAAmB,GAAnBA,EAAwBI,CAAAA,CAAU7sB,SAAV6sB,CAAoB70B,OAA5Cy0B,CAF5BI,GAIJA,CAAAA,CAAUjU,MAAViU,GAAmBP,CAAAA,CAAaO,CAAAA,CAAUjU,MAAvB0T,EAA+B,CAA/BA,CAJfO,EAKGA,CAAP;AAGF;;AAAA,aAASC,CAAT,CAAiBpwB,CAAjB,EAA0B6U,CAA1B,EAA0BA;AACxB,UAAInD,CAAAA,GAAO1R,CAAAA,CAAQ3B,IAAR2B,CAAa0R,IAAxB;AACA,UAAIA,CAAAA,CAAK+J,WAAT,EAEE,KADA,IAAI3B,CAAAA,GAAQpI,CAAAA,CAAK+J,WAAjB,EACSrnB,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAI0lB,CAAAA,CAAMvgB,MAA1B,EAAkCnF,CAAAA,EAAlC,EACE0lB,CAAAA,CAAM1lB,CAAN0lB,CAAAA,GAAWoW,CAAAA,CAAkBpW,CAAAA,CAAM1lB,CAAN0lB,CAAlBoW,CAAXpW,CAHJ,KAKWpI,CAAAA,CAAK6J,KAAL7J,KACTA,CAAAA,CAAK6J,KAAL7J,GAAawe,CAAAA,CAAkBxe,CAAAA,CAAK6J,KAAvB2U,CADJxe;AAGX,aAAO,CAAC1R,CAAD,EAAU6B,CAAAA,CAAErL,SAAFqL,CAAY7B,CAAZ6B,EAAqBgT,CAArBhT,CAAV,CAAP;AAGF;;AAAA,aAASwuB,CAAT,CAAyBrwB,CAAzB,EAAkCswB,CAAlC,EAAkCA;AAChC,aAAOzuB,CAAAA,CAAEF,WAAFE,CAAc7B,CAAd6B,IAAyByuB,CAAhC;AA0BFz8B;;AAAAA,IAAAA,CAAAA,CAAOD,OAAPC,GAAiB;AACfshB,MAAAA,QAAAA,EAxBF,UAAkBnV,CAAlB,EAA2B6U,CAA3B,EAAuCyb,CAAvC,EAAuCA;AACrCA,QAAAA,CAAAA,GAAAA,KAA8B,CAA9BA,KAAkBA,CAAlBA,GAA6C,MAA7CA,GAA4DA,CAA5DA;;AAWA,aAVA,IAQIE,CARJ,EAQcC,CARd,EAQuB51B,CARvB,EAAI01B,CAAAA,GAAa,CACf1U,CADe,EAEfiU,CAFe,EAGfE,CAAAA,CAAgBp6B,IAAhBo6B,CAAqB,IAArBA,EAA2B,IAA3BA,CAHe,EAIfA,CAAAA,CAAgBp6B,IAAhBo6B,CAAqB,IAArBA,EAA2B,GAA3BA,CAJe,EAKfA,CAAAA,CAAgBp6B,IAAhBo6B,CAAqB,IAArBA,EAA2B,GAA3BA,CALe,EAMfI,CANe,CAUjB,EAAQI,CAAAA,GAAWD,CAAAA,CAAWlc,KAAXkc,EAAnB,GAIE,IAFAvwB,CAAAA,GAAAA,CADAywB,CAAAA,GAAUD,CAAAA,CAASxwB,CAATwwB,EAAkB3b,CAAlB2b,CACVxwB,EAAkB,CAAlBA,CAAAA,EAAkB,CAClBnF,CAAAA,GAAS41B,CAAAA,CAAQ,CAARA,CADS,EAEPn4B,KAFO,IAEPA,CAAU+3B,CAAAA,CAAgBx1B,CAAAA,CAAOxF,KAAvBg7B,EAA8BC,CAA9BD,CAArB,EACE,OAAOx1B,CAAP;;AAGJ,eAAOA,CAAP;AAAOA,OAGQ;AAIfghB,MAAAA,GAAAA,EAAKA,CAJU;AAKfiU,MAAAA,cAAAA,EAAgBA,CALD;AAMfE,MAAAA,eAAAA,EAAiBA,CANF;AAOfD,MAAAA,kBAAAA,EAAoBA;AAPL,KAAjBl8B;AAOsBk8B,G,EpC5GtB;AoC4GsBA,CpCtHtB,C","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"rollbar\"] = factory();\n\telse\n\t\troot[\"rollbar\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n","'use strict';\n\nvar merge = require('./merge');\n\nvar RollbarJSON = {};\nfunction setupJSON(polyfillJSON) {\n  if (isFunction(RollbarJSON.stringify) && isFunction(RollbarJSON.parse)) {\n    return;\n  }\n\n  if (isDefined(JSON)) {\n    // If polyfill is provided, prefer it over existing non-native shims.\n    if(polyfillJSON) {\n      if (isNativeFunction(JSON.stringify)) {\n        RollbarJSON.stringify = JSON.stringify;\n      }\n      if (isNativeFunction(JSON.parse)) {\n        RollbarJSON.parse = JSON.parse;\n      }\n    } else { // else accept any interface that is present.\n      if (isFunction(JSON.stringify)) {\n        RollbarJSON.stringify = JSON.stringify;\n      }\n      if (isFunction(JSON.parse)) {\n        RollbarJSON.parse = JSON.parse;\n      }\n    }\n  }\n  if (!isFunction(RollbarJSON.stringify) || !isFunction(RollbarJSON.parse)) {\n    polyfillJSON && polyfillJSON(RollbarJSON);\n  }\n}\n\n/*\n * isType - Given a Javascript value and a string, returns true if the type of the value matches the\n * given string.\n *\n * @param x - any value\n * @param t - a lowercase string containing one of the following type names:\n *    - undefined\n *    - null\n *    - error\n *    - number\n *    - boolean\n *    - string\n *    - symbol\n *    - function\n *    - object\n *    - array\n * @returns true if x is of type t, otherwise false\n */\nfunction isType(x, t) {\n  return t === typeName(x);\n}\n\n/*\n * typeName - Given a Javascript value, returns the type of the object as a string\n */\nfunction typeName(x) {\n  var name = typeof x;\n  if (name !== 'object') {\n    return name;\n  }\n  if (!x) {\n    return 'null';\n  }\n  if (x instanceof Error) {\n    return 'error';\n  }\n  return ({}).toString.call(x).match(/\\s([a-zA-Z]+)/)[1].toLowerCase();\n}\n\n/* isFunction - a convenience function for checking if a value is a function\n *\n * @param f - any value\n * @returns true if f is a function, otherwise false\n */\nfunction isFunction(f) {\n  return isType(f, 'function');\n}\n\n/* isNativeFunction - a convenience function for checking if a value is a native JS function\n *\n * @param f - any value\n * @returns true if f is a native JS function, otherwise false\n */\nfunction isNativeFunction(f) {\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n  var funcMatchString = Function.prototype.toString.call(Object.prototype.hasOwnProperty)\n    .replace(reRegExpChar, '\\\\$&')\n    .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?');\n  var reIsNative = RegExp('^' + funcMatchString + '$');\n  return isObject(f) && reIsNative.test(f);\n}\n\n/* isObject - Checks if the argument is an object\n *\n * @param value - any value\n * @returns true is value is an object function is an object)\n*/\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/* isString - Checks if the argument is a string\n *\n * @param value - any value\n * @returns true if value is a string\n*/\nfunction isString(value) {\n  return typeof value === 'string' || value instanceof String\n}\n\n/*\n * isDefined - a convenience function for checking if a value is not equal to undefined\n *\n * @param u - any value\n * @returns true if u is anything other than undefined\n */\nfunction isDefined(u) {\n  return !isType(u, 'undefined');\n}\n\n/*\n * isIterable - convenience function for checking if a value can be iterated, essentially\n * whether it is an object or an array.\n *\n * @param i - any value\n * @returns true if i is an object or an array as determined by `typeName`\n */\nfunction isIterable(i) {\n  var type = typeName(i);\n  return (type === 'object' || type === 'array');\n}\n\n/*\n * isError - convenience function for checking if a value is of an error type\n *\n * @param e - any value\n * @returns true if e is an error\n */\nfunction isError(e) {\n  // Detect both Error and Firefox Exception type\n  return isType(e, 'error') || isType(e, 'exception');\n}\n\nfunction redact() {\n  return '********';\n}\n\n// from http://stackoverflow.com/a/8809472/1138191\nfunction uuid4() {\n  var d = now();\n  var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n    var r = (d + Math.random() * 16) % 16 | 0;\n    d = Math.floor(d / 16);\n    return (c === 'x' ? r : (r & 0x7 | 0x8)).toString(16);\n  });\n  return uuid;\n}\n\nvar LEVELS = {\n  debug: 0,\n  info: 1,\n  warning: 2,\n  error: 3,\n  critical: 4\n};\n\nfunction sanitizeUrl(url) {\n  var baseUrlParts = parseUri(url);\n  if (!baseUrlParts) {\n    return '(unknown)';\n  }\n\n  // remove a trailing # if there is no anchor\n  if (baseUrlParts.anchor === '') {\n    baseUrlParts.source = baseUrlParts.source.replace('#', '');\n  }\n\n  url = baseUrlParts.source.replace('?' + baseUrlParts.query, '');\n  return url;\n}\n\nvar parseUriOptions = {\n  strictMode: false,\n  key: [\n    'source',\n    'protocol',\n    'authority',\n    'userInfo',\n    'user',\n    'password',\n    'host',\n    'port',\n    'relative',\n    'path',\n    'directory',\n    'file',\n    'query',\n    'anchor'\n  ],\n  q: {\n    name: 'queryKey',\n    parser: /(?:^|&)([^&=]*)=?([^&]*)/g\n  },\n  parser: {\n    strict: /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,\n    loose: /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/\n  }\n};\n\nfunction parseUri(str) {\n  if (!isType(str, 'string')) {\n    return undefined;\n  }\n\n  var o = parseUriOptions;\n  var m = o.parser[o.strictMode ? 'strict' : 'loose'].exec(str);\n  var uri = {};\n\n  for (var i = 0, l = o.key.length; i < l; ++i) {\n    uri[o.key[i]] = m[i] || '';\n  }\n\n  uri[o.q.name] = {};\n  uri[o.key[12]].replace(o.q.parser, function ($0, $1, $2) {\n    if ($1) {\n      uri[o.q.name][$1] = $2;\n    }\n  });\n\n  return uri;\n}\n\nfunction addParamsAndAccessTokenToPath(accessToken, options, params) {\n  params = params || {};\n  params.access_token = accessToken;\n  var paramsArray = [];\n  var k;\n  for (k in params) {\n    if (Object.prototype.hasOwnProperty.call(params, k)) {\n      paramsArray.push([k, params[k]].join('='));\n    }\n  }\n  var query = '?' + paramsArray.sort().join('&');\n\n  options = options || {};\n  options.path = options.path || '';\n  var qs = options.path.indexOf('?');\n  var h = options.path.indexOf('#');\n  var p;\n  if (qs !== -1 && (h === -1 || h > qs)) {\n    p = options.path;\n    options.path = p.substring(0,qs) + query + '&' + p.substring(qs+1);\n  } else {\n    if (h !== -1) {\n      p = options.path;\n      options.path = p.substring(0,h) + query + p.substring(h);\n    } else {\n      options.path = options.path + query;\n    }\n  }\n}\n\nfunction formatUrl(u, protocol) {\n  protocol = protocol || u.protocol;\n  if (!protocol && u.port) {\n    if (u.port === 80) {\n      protocol = 'http:';\n    } else if (u.port === 443) {\n      protocol = 'https:';\n    }\n  }\n  protocol = protocol || 'https:';\n\n  if (!u.hostname) {\n    return null;\n  }\n  var result = protocol + '//' + u.hostname;\n  if (u.port) {\n    result = result + ':' + u.port;\n  }\n  if (u.path) {\n    result = result + u.path;\n  }\n  return result;\n}\n\nfunction stringify(obj, backup) {\n  var value, error;\n  try {\n    value = RollbarJSON.stringify(obj);\n  } catch (jsonError) {\n    if (backup && isFunction(backup)) {\n      try {\n        value = backup(obj);\n      } catch (backupError) {\n        error = backupError;\n      }\n    } else {\n      error = jsonError;\n    }\n  }\n  return {error: error, value: value};\n}\n\nfunction maxByteSize(string) {\n  // The transport will use utf-8, so assume utf-8 encoding.\n  //\n  // This minimal implementation will accurately count bytes for all UCS-2 and\n  // single code point UTF-16. If presented with multi code point UTF-16,\n  // which should be rare, it will safely overcount, not undercount.\n  //\n  // While robust utf-8 encoders exist, this is far smaller and far more performant.\n  // For quickly counting payload size for truncation, smaller is better.\n\n  var count = 0;\n  var length = string.length;\n\n  for (var i = 0; i < length; i++) {\n    var code = string.charCodeAt(i);\n    if (code < 128) { // up to 7 bits\n      count = count + 1;\n    } else if (code < 2048) { // up to 11 bits\n      count = count + 2;\n    } else if (code < 65536) { // up to 16 bits\n      count = count + 3;\n    }\n  }\n\n  return count;\n}\n\nfunction jsonParse(s) {\n  var value, error;\n  try {\n    value = RollbarJSON.parse(s);\n  } catch (e) {\n    error = e;\n  }\n  return {error: error, value: value};\n}\n\nfunction makeUnhandledStackInfo(\n  message,\n  url,\n  lineno,\n  colno,\n  error,\n  mode,\n  backupMessage,\n  errorParser\n) {\n  var location = {\n    url: url || '',\n    line: lineno,\n    column: colno\n  };\n  location.func = errorParser.guessFunctionName(location.url, location.line);\n  location.context = errorParser.gatherContext(location.url, location.line);\n  var href = document && document.location && document.location.href;\n  var useragent = window && window.navigator && window.navigator.userAgent;\n  return {\n    'mode': mode,\n    'message': error ? String(error) : (message || backupMessage),\n    'url': href,\n    'stack': [location],\n    'useragent': useragent\n  };\n}\n\nfunction wrapCallback(logger, f) {\n  return function(err, resp) {\n    try {\n      f(err, resp);\n    } catch (e) {\n      logger.error(e);\n    }\n  };\n}\n\nfunction createItem(args, logger, notifier, requestKeys, lambdaContext) {\n  var message, err, custom, callback, request;\n  var arg;\n  var extraArgs = [];\n  var diagnostic = {};\n  var argTypes = [];\n\n  for (var i = 0, l = args.length; i < l; ++i) {\n    arg = args[i];\n\n    var typ = typeName(arg);\n    argTypes.push(typ);\n    switch (typ) {\n      case 'undefined':\n        break;\n      case 'string':\n        message ? extraArgs.push(arg) : message = arg;\n        break;\n      case 'function':\n        callback = wrapCallback(logger, arg);\n        break;\n      case 'date':\n        extraArgs.push(arg);\n        break;\n      case 'error':\n      case 'domexception':\n      case 'exception': // Firefox Exception type\n        err ? extraArgs.push(arg) : err = arg;\n        break;\n      case 'object':\n      case 'array':\n        if (arg instanceof Error || (typeof DOMException !== 'undefined' && arg instanceof DOMException)) {\n          err ? extraArgs.push(arg) : err = arg;\n          break;\n        }\n        if (requestKeys && typ === 'object' && !request) {\n          for (var j = 0, len = requestKeys.length; j < len; ++j) {\n            if (arg[requestKeys[j]] !== undefined) {\n              request = arg;\n              break;\n            }\n          }\n          if (request) {\n            break;\n          }\n        }\n        custom ? extraArgs.push(arg) : custom = arg;\n        break;\n      default:\n        if (arg instanceof Error || (typeof DOMException !== 'undefined' && arg instanceof DOMException)) {\n          err ? extraArgs.push(arg) : err = arg;\n          break;\n        }\n        extraArgs.push(arg);\n    }\n  }\n\n  if (extraArgs.length > 0) {\n    // if custom is an array this turns it into an object with integer keys\n    custom = merge(custom);\n    custom.extraArgs = extraArgs;\n  }\n\n  var item = {\n    message: message,\n    err: err,\n    custom: custom,\n    timestamp: now(),\n    callback: callback,\n    notifier: notifier,\n    diagnostic: diagnostic,\n    uuid: uuid4()\n  };\n\n  setCustomItemKeys(item, custom);\n\n  if (requestKeys && request) {\n    item.request = request;\n  }\n  if (lambdaContext) {\n    item.lambdaContext = lambdaContext;\n  }\n  item._originalArgs = args;\n  item.diagnostic.original_arg_types = argTypes;\n  return item;\n}\n\nfunction setCustomItemKeys(item, custom) {\n  if (custom && custom.level !== undefined) {\n    item.level = custom.level;\n    delete custom.level;\n  }\n  if (custom && custom.skipFrames !== undefined) {\n    item.skipFrames = custom.skipFrames;\n    delete custom.skipFrames;\n  }\n}\n\nfunction addErrorContext(item, errors) {\n  var custom = item.data.custom || {};\n  var contextAdded = false;\n\n  try {\n    for (var i = 0; i < errors.length; ++i) {\n      if (errors[i].hasOwnProperty('rollbarContext')) {\n        custom = merge(custom, errors[i].rollbarContext);\n        contextAdded = true;\n      }\n    }\n\n    // Avoid adding an empty object to the data.\n    if (contextAdded) {\n      item.data.custom = custom;\n    }\n  } catch (e) {\n    item.diagnostic.error_context = 'Failed: ' + e.message;\n  }\n}\n\nvar TELEMETRY_TYPES = ['log', 'network', 'dom', 'navigation', 'error', 'manual'];\nvar TELEMETRY_LEVELS = ['critical', 'error', 'warning', 'info', 'debug'];\n\nfunction arrayIncludes(arr, val) {\n  for (var k = 0; k < arr.length; ++k) {\n    if (arr[k] === val) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction createTelemetryEvent(args) {\n  var type, metadata, level;\n  var arg;\n\n  for (var i = 0, l = args.length; i < l; ++i) {\n    arg = args[i];\n\n    var typ = typeName(arg);\n    switch (typ) {\n      case 'string':\n        if (!type && arrayIncludes(TELEMETRY_TYPES, arg)) {\n          type = arg;\n        } else if (!level && arrayIncludes(TELEMETRY_LEVELS, arg)) {\n          level = arg;\n        }\n        break;\n      case 'object':\n        metadata = arg;\n        break;\n      default:\n        break;\n    }\n  }\n  var event = {\n    type: type || 'manual',\n    metadata: metadata || {},\n    level: level\n  };\n\n  return event;\n}\n\n/*\n * get - given an obj/array and a keypath, return the value at that keypath or\n *       undefined if not possible.\n *\n * @param obj - an object or array\n * @param path - a string of keys separated by '.' such as 'plugin.jquery.0.message'\n *    which would correspond to 42 in `{plugin: {jquery: [{message: 42}]}}`\n */\nfunction get(obj, path) {\n  if (!obj) {\n    return undefined;\n  }\n  var keys = path.split('.');\n  var result = obj;\n  try {\n    for (var i = 0, len = keys.length; i < len; ++i) {\n      result = result[keys[i]];\n    }\n  } catch (e) {\n    result = undefined;\n  }\n  return result;\n}\n\nfunction set(obj, path, value) {\n  if (!obj) {\n    return;\n  }\n  var keys = path.split('.');\n  var len = keys.length;\n  if (len < 1) {\n    return;\n  }\n  if (len === 1) {\n    obj[keys[0]] = value;\n    return;\n  }\n  try {\n    var temp = obj[keys[0]] || {};\n    var replacement = temp;\n    for (var i = 1; i < len - 1; ++i) {\n      temp[keys[i]] = temp[keys[i]] || {};\n      temp = temp[keys[i]];\n    }\n    temp[keys[len-1]] = value;\n    obj[keys[0]] = replacement;\n  } catch (e) {\n    return;\n  }\n}\n\nfunction formatArgsAsString(args) {\n  var i, len, arg;\n  var result = [];\n  for (i = 0, len = args.length; i < len; ++i) {\n    arg = args[i];\n    switch (typeName(arg)) {\n      case 'object':\n        arg = stringify(arg);\n        arg = arg.error || arg.value;\n        if (arg.length > 500) {\n          arg = arg.substr(0, 497) + '...';\n        }\n        break;\n      case 'null':\n        arg = 'null';\n        break;\n      case 'undefined':\n        arg = 'undefined';\n        break;\n      case 'symbol':\n        arg = arg.toString();\n        break;\n    }\n    result.push(arg);\n  }\n  return result.join(' ');\n}\n\nfunction now() {\n  if (Date.now) {\n    return +Date.now();\n  }\n  return +new Date();\n}\n\nfunction filterIp(requestData, captureIp) {\n  if (!requestData || !requestData['user_ip'] || captureIp === true) {\n    return;\n  }\n  var newIp = requestData['user_ip'];\n  if (!captureIp) {\n    newIp = null;\n  } else {\n    try {\n      var parts;\n      if (newIp.indexOf('.') !== -1) {\n        parts = newIp.split('.');\n        parts.pop();\n        parts.push('0');\n        newIp = parts.join('.');\n      } else if (newIp.indexOf(':') !== -1) {\n        parts = newIp.split(':');\n        if (parts.length > 2) {\n          var beginning = parts.slice(0, 3);\n          var slashIdx = beginning[2].indexOf('/');\n          if (slashIdx !== -1) {\n            beginning[2] = beginning[2].substring(0, slashIdx);\n          }\n          var terminal = '0000:0000:0000:0000:0000';\n          newIp = beginning.concat(terminal).join(':');\n        }\n      } else {\n        newIp = null;\n      }\n    } catch (e) {\n      newIp = null;\n    }\n  }\n  requestData['user_ip'] = newIp;\n}\n\nfunction handleOptions(current, input, payload, logger) {\n  var result = merge(current, input, payload);\n  result = updateDeprecatedOptions(result, logger);\n  if (!input || input.overwriteScrubFields) {\n    return result;\n  }\n  if (input.scrubFields) {\n    result.scrubFields = (current.scrubFields || []).concat(input.scrubFields);\n  }\n  return result;\n}\n\nfunction updateDeprecatedOptions(options, logger) {\n  if(options.hostWhiteList && !options.hostSafeList) {\n    options.hostSafeList = options.hostWhiteList;\n    options.hostWhiteList = undefined;\n    logger && logger.log('hostWhiteList is deprecated. Use hostSafeList.');\n  }\n  if(options.hostBlackList && !options.hostBlockList) {\n    options.hostBlockList = options.hostBlackList;\n    options.hostBlackList = undefined;\n    logger && logger.log('hostBlackList is deprecated. Use hostBlockList.');\n  }\n  return options;\n}\n\nmodule.exports = {\n  addParamsAndAccessTokenToPath: addParamsAndAccessTokenToPath,\n  createItem: createItem,\n  addErrorContext: addErrorContext,\n  createTelemetryEvent: createTelemetryEvent,\n  filterIp: filterIp,\n  formatArgsAsString: formatArgsAsString,\n  formatUrl: formatUrl,\n  get: get,\n  handleOptions: handleOptions,\n  isError: isError,\n  isFunction: isFunction,\n  isIterable: isIterable,\n  isNativeFunction: isNativeFunction,\n  isType: isType,\n  isObject: isObject,\n  isString: isString,\n  jsonParse: jsonParse,\n  LEVELS: LEVELS,\n  makeUnhandledStackInfo: makeUnhandledStackInfo,\n  merge: merge,\n  now: now,\n  redact: redact,\n  RollbarJSON: RollbarJSON,\n  sanitizeUrl: sanitizeUrl,\n  set: set,\n  setupJSON: setupJSON,\n  stringify: stringify,\n  maxByteSize: maxByteSize,\n  typeName: typeName,\n  uuid4: uuid4\n};\n","'use strict';\n\n/* eslint-disable no-console */\nrequire('console-polyfill');\nvar detection = require('./detection');\nvar _ = require('../utility');\n\nfunction error() {\n  var args = Array.prototype.slice.call(arguments, 0);\n  args.unshift('Rollbar:');\n  if (detection.ieVersion() <= 8) {\n    console.error(_.formatArgsAsString(args));\n  } else {\n    console.error.apply(console, args);\n  }\n}\n\nfunction info() {\n  var args = Array.prototype.slice.call(arguments, 0);\n  args.unshift('Rollbar:');\n  if (detection.ieVersion() <= 8) {\n    console.info(_.formatArgsAsString(args));\n  } else {\n    console.info.apply(console, args);\n  }\n}\n\nfunction log() {\n  var args = Array.prototype.slice.call(arguments, 0);\n  args.unshift('Rollbar:');\n  if (detection.ieVersion() <= 8) {\n    console.log(_.formatArgsAsString(args));\n  } else {\n    console.log.apply(console, args);\n  }\n}\n\n/* eslint-enable no-console */\n\nmodule.exports = {\n  error: error,\n  info: info,\n  log: log\n};\n","'use strict';\n\n// See https://nodejs.org/docs/latest/api/url.html\nfunction parse(url) {\n  var result = {\n    protocol: null, auth: null, host: null, path: null,\n    hash: null, href: url, hostname: null, port: null,\n    pathname: null, search: null, query: null\n  };\n\n  var i, last;\n  i = url.indexOf('//');\n  if (i !== -1) {\n    result.protocol = url.substring(0,i);\n    last = i+2;\n  } else {\n    last = 0;\n  }\n  \n  i = url.indexOf('@', last);\n  if (i !== -1) {\n    result.auth = url.substring(last, i);\n    last = i+1;\n  }\n\n  i = url.indexOf('/', last);\n  if (i === -1) {\n    i = url.indexOf('?', last);\n    if (i === -1) {\n      i = url.indexOf('#', last);\n      if (i === -1) {\n        result.host = url.substring(last);\n      } else {\n        result.host = url.substring(last, i);\n        result.hash = url.substring(i);\n      }\n      result.hostname = result.host.split(':')[0];\n      result.port = result.host.split(':')[1];\n      if (result.port) {\n        result.port = parseInt(result.port, 10);\n      }\n      return result;\n    } else {\n      result.host = url.substring(last, i);\n      result.hostname = result.host.split(':')[0];\n      result.port = result.host.split(':')[1];\n      if (result.port) {\n        result.port = parseInt(result.port, 10);\n      }\n      last = i;\n    }\n  } else {\n    result.host = url.substring(last, i);\n    result.hostname = result.host.split(':')[0];\n    result.port = result.host.split(':')[1];\n    if (result.port) {\n      result.port = parseInt(result.port, 10);\n    }\n    last = i;\n  }\n\n  i = url.indexOf('#', last);\n  if (i === -1) {\n    result.path = url.substring(last);\n  } else {\n    result.path = url.substring(last, i);\n    result.hash = url.substring(i);\n  }\n\n  if (result.path) {\n    var pathParts = result.path.split('?');\n    result.pathname = pathParts[0];\n    result.query = pathParts[1];\n    result.search = result.query ? '?' + result.query : null;\n  }\n  return result;\n}\n\nmodule.exports = {\n  parse: parse\n};\n","'use strict';\n\nvar ErrorStackParser = require('error-stack-parser');\n\nvar UNKNOWN_FUNCTION = '?';\nvar ERR_CLASS_REGEXP = new RegExp('^(([a-zA-Z0-9-_$ ]*): *)?(Uncaught )?([a-zA-Z0-9-_$ ]*): ');\n\nfunction guessFunctionName() {\n  return UNKNOWN_FUNCTION;\n}\n\n\nfunction gatherContext() {\n  return null;\n}\n\n\nfunction Frame(stackFrame) {\n  var data = {};\n\n  data._stackFrame = stackFrame;\n\n  data.url = stackFrame.fileName;\n  data.line = stackFrame.lineNumber;\n  data.func = stackFrame.functionName;\n  data.column = stackFrame.columnNumber;\n  data.args = stackFrame.args;\n\n  data.context = gatherContext();\n\n  return data;\n}\n\n\nfunction Stack(exception, skip) {\n  function getStack() {\n    var parserStack = [];\n\n    skip = skip || 0;\n\n    try {\n      parserStack = ErrorStackParser.parse(exception);\n    } catch(e) {\n      parserStack = [];\n    }\n\n    var stack = [];\n\n    for (var i = skip; i < parserStack.length; i++) {\n      stack.push(new Frame(parserStack[i]));\n    }\n\n    return stack;\n  }\n\n  return {\n    stack: getStack(),\n    message: exception.message,\n    name: _mostSpecificErrorName(exception),\n    rawStack: exception.stack,\n    rawException: exception\n  };\n}\n\n\nfunction parse(e, skip) {\n  var err = e;\n\n  if (err.nested) {\n    var traceChain = [];\n    while (err) {\n      traceChain.push(new Stack(err, skip));\n      err = err.nested;\n\n      skip = 0; // Only apply skip value to primary error\n    }\n\n    // Return primary error with full trace chain attached.\n    traceChain[0].traceChain = traceChain;\n    return traceChain[0];\n  } else {\n    return new Stack(err, skip);\n  }\n}\n\n\nfunction guessErrorClass(errMsg) {\n  if (!errMsg || !errMsg.match) {\n    return ['Unknown error. There was no error message to display.', ''];\n  }\n  var errClassMatch = errMsg.match(ERR_CLASS_REGEXP);\n  var errClass = '(unknown)';\n\n  if (errClassMatch) {\n    errClass = errClassMatch[errClassMatch.length - 1];\n    errMsg = errMsg.replace((errClassMatch[errClassMatch.length - 2] || '') + errClass + ':', '');\n    errMsg = errMsg.replace(/(^[\\s]+|[\\s]+$)/g, '');\n  }\n  return [errClass, errMsg];\n}\n\n// * Prefers any value over an empty string\n// * Prefers any value over 'Error' where possible\n// * Prefers name over constructor.name when both are more specific than 'Error'\nfunction _mostSpecificErrorName(error) {\n  var name = error.name && error.name.length && error.name;\n  var constructorName = error.constructor.name && error.constructor.name.length && error.constructor.name;\n\n  if (!name || !constructorName) {\n    return name || constructorName;\n  }\n\n  if (name === 'Error') {\n    return constructorName;\n  }\n  return name;\n}\n\nmodule.exports = {\n  guessFunctionName: guessFunctionName,\n  guessErrorClass: guessErrorClass,\n  gatherContext: gatherContext,\n  parse: parse,\n  Stack: Stack,\n  Frame: Frame\n};\n","'use strict';\n\nvar _ = require('./utility');\nvar traverse = require('./utility/traverse');\n\nfunction scrub(data, scrubFields, scrubPaths) {\n  scrubFields = scrubFields || [];\n\n  if (scrubPaths) {\n    for (var i = 0; i < scrubPaths.length; ++i) {\n      scrubPath(data, scrubPaths[i]);\n    }\n  }\n\n  var paramRes = _getScrubFieldRegexs(scrubFields);\n  var queryRes = _getScrubQueryParamRegexs(scrubFields);\n\n  function redactQueryParam(dummy0, paramPart) {\n    return paramPart + _.redact();\n  }\n\n  function paramScrubber(v) {\n    var i;\n    if (_.isType(v, 'string')) {\n      for (i = 0; i < queryRes.length; ++i) {\n        v = v.replace(queryRes[i], redactQueryParam);\n      }\n    }\n    return v;\n  }\n\n  function valScrubber(k, v) {\n    var i;\n    for (i = 0; i < paramRes.length; ++i) {\n      if (paramRes[i].test(k)) {\n        v = _.redact();\n        break;\n      }\n    }\n    return v;\n  }\n\n  function scrubber(k, v, seen) {\n    var tmpV = valScrubber(k, v);\n    if (tmpV === v) {\n      if (_.isType(v, 'object') || _.isType(v, 'array')) {\n        return traverse(v, scrubber, seen);\n      }\n      return paramScrubber(tmpV);\n    } else {\n      return tmpV;\n    }\n  }\n\n  return traverse(data, scrubber);\n}\n\nfunction scrubPath(obj, path) {\n  var keys = path.split('.');\n  var last = keys.length - 1;\n  try {\n    for (var i = 0; i <= last; ++i) {\n      if (i < last) {\n        obj = obj[keys[i]];\n      } else {\n        obj[keys[i]] = _.redact();\n      }\n    }\n  } catch (e) {\n    // Missing key is OK;\n  }\n}\n\nfunction _getScrubFieldRegexs(scrubFields) {\n  var ret = [];\n  var pat;\n  for (var i = 0; i < scrubFields.length; ++i) {\n    pat = '^\\\\[?(%5[bB])?' + scrubFields[i] + '\\\\[?(%5[bB])?\\\\]?(%5[dD])?$';\n    ret.push(new RegExp(pat, 'i'));\n  }\n  return ret;\n}\n\n\nfunction _getScrubQueryParamRegexs(scrubFields) {\n  var ret = [];\n  var pat;\n  for (var i = 0; i < scrubFields.length; ++i) {\n    pat = '\\\\[?(%5[bB])?' + scrubFields[i] + '\\\\[?(%5[bB])?\\\\]?(%5[dD])?';\n    ret.push(new RegExp('(' + pat + '=)([^&\\\\n]+)', 'igm'));\n  }\n  return ret;\n}\n\nmodule.exports = scrub;\n","'use strict';\n\nvar _ = require('../utility');\n\nfunction traverse(obj, func, seen) {\n  var k, v, i;\n  var isObj = _.isType(obj, 'object');\n  var isArray = _.isType(obj, 'array');\n  var keys = [];\n  var seenIndex;\n\n  // Best might be to use Map here with `obj` as the keys, but we want to support IE < 11.\n  seen = seen || { obj: [], mapped: []};\n\n  if (isObj) {\n    seenIndex = seen.obj.indexOf(obj);\n\n    if (isObj && seenIndex !== -1) {\n      // Prefer the mapped object if there is one.\n      return seen.mapped[seenIndex] || seen.obj[seenIndex];\n    }\n\n    seen.obj.push(obj);\n    seenIndex = seen.obj.length - 1;\n  }\n\n  if (isObj) {\n    for (k in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, k)) {\n        keys.push(k);\n      }\n    }\n  } else if (isArray) {\n    for (i = 0; i < obj.length; ++i) {\n      keys.push(i);\n    }\n  }\n\n  var result = isObj ? {} : [];\n  var same = true;\n  for (i = 0; i < keys.length; ++i) {\n    k = keys[i];\n    v = obj[k];\n    result[k] = func(k, v, seen);\n    same = same && result[k] === obj[k];\n  }\n\n  if (isObj && !same) {\n    seen.mapped[seenIndex] = result;\n  }\n\n  return !same ? result : obj;\n}\n\nmodule.exports = traverse;\n","'use strict';\n\nvar rollbar = require('../rollbar');\n\nvar options = (typeof window !== 'undefined') && window._rollbarConfig;\nvar alias = options && options.globalAlias || 'Rollbar';\nvar shimRunning = (typeof window !== 'undefined') && window[alias] && typeof window[alias].shimId === 'function' && window[alias].shimId() !== undefined;\n\nif ((typeof window !== 'undefined') && !window._rollbarStartTime) {\n  window._rollbarStartTime = (new Date()).getTime();\n}\n\nif (!shimRunning && options) {\n  var Rollbar = new rollbar(options);\n  window[alias] = Rollbar;\n} else if (typeof window !== 'undefined') {\n  window.rollbar = rollbar;\n  window._rollbarDidLoad = true;\n} else if (typeof self !== 'undefined') {\n  self.rollbar = rollbar;\n  self._rollbarDidLoad = true;\n}\n\nmodule.exports = rollbar;\n","'use strict';\n\nvar Rollbar = require('./core');\nvar telemeter = require('../telemetry');\nvar instrumenter = require('./telemetry');\nvar polyfillJSON = require('../utility/polyfillJSON');\nvar wrapGlobals = require('./wrapGlobals');\nvar scrub = require('../scrub');\nvar truncation = require('../truncation');\n\nRollbar.setComponents({\n  telemeter: telemeter,\n  instrumenter: instrumenter,\n  polyfillJSON: polyfillJSON,\n  wrapGlobals: wrapGlobals,\n  scrub: scrub,\n  truncation: truncation\n});\n\nmodule.exports = Rollbar;\n","'use strict';\n\nvar Client = require('../rollbar');\nvar _ = require('../utility');\nvar API = require('../api');\nvar logger = require('./logger');\nvar globals = require('./globalSetup');\n\nvar Transport = require('./transport');\nvar urllib = require('./url');\n\nvar transforms = require('./transforms');\nvar sharedTransforms = require('../transforms');\nvar predicates = require('./predicates');\nvar sharedPredicates = require('../predicates');\nvar errorParser = require('../errorParser');\n\nfunction Rollbar(options, client) {\n  this.options = _.handleOptions(defaultOptions, options, null, logger);\n  this.options._configuredOptions = options;\n  var Telemeter = this.components.telemeter;\n  var Instrumenter = this.components.instrumenter;\n  var polyfillJSON = this.components.polyfillJSON;\n  this.wrapGlobals = this.components.wrapGlobals;\n  this.scrub = this.components.scrub;\n  var truncation = this.components.truncation;\n\n  var transport = new Transport(truncation);\n  var api = new API(this.options, transport, urllib, truncation);\n  if (Telemeter) {\n    this.telemeter = new Telemeter(this.options);\n  }\n  this.client = client || new Client(this.options, api, logger, this.telemeter, 'browser');\n  var gWindow = _gWindow();\n  var gDocument = (typeof document != 'undefined') && document;\n  this.isChrome = gWindow.chrome && gWindow.chrome.runtime; // check .runtime to avoid Edge browsers\n  this.anonymousErrorsPending = 0;\n  addTransformsToNotifier(this.client.notifier, this, gWindow);\n  addPredicatesToQueue(this.client.queue);\n  this.setupUnhandledCapture();\n  if (Instrumenter) {\n    this.instrumenter = new Instrumenter(this.options, this.client.telemeter, this, gWindow, gDocument);\n    this.instrumenter.instrument();\n  }\n  _.setupJSON(polyfillJSON);\n}\n\nvar _instance = null;\nRollbar.init = function(options, client) {\n  if (_instance) {\n    return _instance.global(options).configure(options);\n  }\n  _instance = new Rollbar(options, client);\n  return _instance;\n};\n\nRollbar.prototype.components = {};\n\nRollbar.setComponents = function(components) {\n  Rollbar.prototype.components = components;\n}\n\nfunction handleUninitialized(maybeCallback) {\n  var message = 'Rollbar is not initialized';\n  logger.error(message);\n  if (maybeCallback) {\n    maybeCallback(new Error(message));\n  }\n}\n\nRollbar.prototype.global = function(options) {\n  this.client.global(options);\n  return this;\n};\nRollbar.global = function(options) {\n  if (_instance) {\n    return _instance.global(options);\n  } else {\n    handleUninitialized();\n  }\n};\n\nRollbar.prototype.configure = function(options, payloadData) {\n  var oldOptions = this.options;\n  var payload = {};\n  if (payloadData) {\n    payload = {payload: payloadData};\n  }\n  this.options = _.handleOptions(oldOptions, options, payload, logger);\n  this.options._configuredOptions = _.handleOptions(oldOptions._configuredOptions, options, payload);\n  this.client.configure(this.options, payloadData);\n  this.instrumenter && this.instrumenter.configure(this.options);\n  this.setupUnhandledCapture();\n  return this;\n};\nRollbar.configure = function(options, payloadData) {\n  if (_instance) {\n    return _instance.configure(options, payloadData);\n  } else {\n    handleUninitialized();\n  }\n};\n\nRollbar.prototype.lastError = function() {\n  return this.client.lastError;\n};\nRollbar.lastError = function() {\n  if (_instance) {\n    return _instance.lastError();\n  } else {\n    handleUninitialized();\n  }\n};\n\nRollbar.prototype.log = function() {\n  var item = this._createItem(arguments);\n  var uuid = item.uuid;\n  this.client.log(item);\n  return {uuid: uuid};\n};\nRollbar.log = function() {\n  if (_instance) {\n    return _instance.log.apply(_instance, arguments);\n  } else {\n    var maybeCallback = _getFirstFunction(arguments);\n    handleUninitialized(maybeCallback);\n  }\n};\n\nRollbar.prototype.debug = function() {\n  var item = this._createItem(arguments);\n  var uuid = item.uuid;\n  this.client.debug(item);\n  return {uuid: uuid};\n};\nRollbar.debug = function() {\n  if (_instance) {\n    return _instance.debug.apply(_instance, arguments);\n  } else {\n    var maybeCallback = _getFirstFunction(arguments);\n    handleUninitialized(maybeCallback);\n  }\n};\n\nRollbar.prototype.info = function() {\n  var item = this._createItem(arguments);\n  var uuid = item.uuid;\n  this.client.info(item);\n  return {uuid: uuid};\n};\nRollbar.info = function() {\n  if (_instance) {\n    return _instance.info.apply(_instance, arguments);\n  } else {\n    var maybeCallback = _getFirstFunction(arguments);\n    handleUninitialized(maybeCallback);\n  }\n};\n\nRollbar.prototype.warn = function() {\n  var item = this._createItem(arguments);\n  var uuid = item.uuid;\n  this.client.warn(item);\n  return {uuid: uuid};\n};\nRollbar.warn = function() {\n  if (_instance) {\n    return _instance.warn.apply(_instance, arguments);\n  } else {\n    var maybeCallback = _getFirstFunction(arguments);\n    handleUninitialized(maybeCallback);\n  }\n};\n\nRollbar.prototype.warning = function() {\n  var item = this._createItem(arguments);\n  var uuid = item.uuid;\n  this.client.warning(item);\n  return {uuid: uuid};\n};\nRollbar.warning = function() {\n  if (_instance) {\n    return _instance.warning.apply(_instance, arguments);\n  } else {\n    var maybeCallback = _getFirstFunction(arguments);\n    handleUninitialized(maybeCallback);\n  }\n};\n\nRollbar.prototype.error = function() {\n  var item = this._createItem(arguments);\n  var uuid = item.uuid;\n  this.client.error(item);\n  return {uuid: uuid};\n};\nRollbar.error = function() {\n  if (_instance) {\n    return _instance.error.apply(_instance, arguments);\n  } else {\n    var maybeCallback = _getFirstFunction(arguments);\n    handleUninitialized(maybeCallback);\n  }\n};\n\nRollbar.prototype.critical = function() {\n  var item = this._createItem(arguments);\n  var uuid = item.uuid;\n  this.client.critical(item);\n  return {uuid: uuid};\n};\nRollbar.critical = function() {\n  if (_instance) {\n    return _instance.critical.apply(_instance, arguments);\n  } else {\n    var maybeCallback = _getFirstFunction(arguments);\n    handleUninitialized(maybeCallback);\n  }\n};\n\nRollbar.prototype.buildJsonPayload = function(item) {\n  return this.client.buildJsonPayload(item);\n};\nRollbar.buildJsonPayload = function() {\n  if (_instance) {\n    return _instance.buildJsonPayload.apply(_instance, arguments);\n  } else {\n    handleUninitialized();\n  }\n};\n\nRollbar.prototype.sendJsonPayload = function(jsonPayload) {\n  return this.client.sendJsonPayload(jsonPayload);\n};\nRollbar.sendJsonPayload = function() {\n  if (_instance) {\n    return _instance.sendJsonPayload.apply(_instance, arguments);\n  } else {\n    handleUninitialized();\n  }\n};\n\nRollbar.prototype.setupUnhandledCapture = function() {\n  var gWindow = _gWindow();\n\n  if (!this.unhandledExceptionsInitialized) {\n    if (this.options.captureUncaught || this.options.handleUncaughtExceptions) {\n      globals.captureUncaughtExceptions(gWindow, this);\n      if (this.wrapGlobals && this.options.wrapGlobalEventHandlers) {\n        this.wrapGlobals(gWindow, this);\n      }\n      this.unhandledExceptionsInitialized = true;\n    }\n  }\n  if (!this.unhandledRejectionsInitialized) {\n    if (this.options.captureUnhandledRejections || this.options.handleUnhandledRejections) {\n      globals.captureUnhandledRejections(gWindow, this);\n      this.unhandledRejectionsInitialized = true;\n    }\n  }\n};\n\nRollbar.prototype.handleUncaughtException = function(message, url, lineno, colno, error, context) {\n  if (!this.options.captureUncaught && !this.options.handleUncaughtExceptions) {\n    return;\n  }\n\n  // Chrome will always send 5+ arguments and error will be valid or null, not undefined.\n  // If error is undefined, we have a different caller.\n  if (this.options.inspectAnonymousErrors && this.isChrome && (error === null)) {\n    return 'anonymous';\n  }\n\n  var item;\n  var stackInfo = _.makeUnhandledStackInfo(\n    message,\n    url,\n    lineno,\n    colno,\n    error,\n    'onerror',\n    'uncaught exception',\n    errorParser\n  );\n  if (_.isError(error)) {\n    item = this._createItem([message, error, context]);\n    item._unhandledStackInfo = stackInfo;\n  } else if (_.isError(url)) {\n    item = this._createItem([message, url, context]);\n    item._unhandledStackInfo = stackInfo;\n  } else {\n    item = this._createItem([message, context]);\n    item.stackInfo = stackInfo;\n  }\n  item.level = this.options.uncaughtErrorLevel;\n  item._isUncaught = true;\n  this.client.log(item);\n};\n\n/**\n * Chrome only. Other browsers will ignore.\n *\n * Use Error.prepareStackTrace to extract information about errors that\n * do not have a valid error object in onerror().\n *\n * In tested version of Chrome, onerror is called first but has no way\n * to communicate with prepareStackTrace. Use a counter to let this\n * handler know which errors to send to Rollbar.\n *\n * In config options, set inspectAnonymousErrors to enable.\n */\nRollbar.prototype.handleAnonymousErrors = function() {\n  if (!this.options.inspectAnonymousErrors || !this.isChrome) {\n    return;\n  }\n\n  var r = this;\n  function prepareStackTrace(error, _stack) { // eslint-disable-line no-unused-vars\n    if (r.options.inspectAnonymousErrors) {\n      if (r.anonymousErrorsPending) {\n        // This is the only known way to detect that onerror saw an anonymous error.\n        // It depends on onerror reliably being called before Error.prepareStackTrace,\n        // which so far holds true on tested versions of Chrome. If versions of Chrome\n        // are tested that behave differently, this logic will need to be updated\n        // accordingly.\n        r.anonymousErrorsPending -= 1;\n\n        if (!error) {\n          // Not likely to get here, but calling handleUncaughtException from here\n          // without an error object would throw off the anonymousErrorsPending counter,\n          // so return now.\n          return;\n        }\n\n        // Allow this to be tracked later.\n        error._isAnonymous = true;\n\n        // url, lineno, colno shouldn't be needed for these errors.\n        // If that changes, update this accordingly, using the unused\n        // _stack param as needed (rather than parse error.toString()).\n        r.handleUncaughtException(error.message, null, null, null, error);\n      }\n    }\n\n    // Workaround to ensure stack is preserved for normal errors.\n    return error.stack;\n  }\n\n  // https://v8.dev/docs/stack-trace-api\n  try {\n    Error.prepareStackTrace = prepareStackTrace;\n  } catch (e) {\n    this.options.inspectAnonymousErrors = false;\n    this.error('anonymous error handler failed', e);\n  }\n}\n\nRollbar.prototype.handleUnhandledRejection = function(reason, promise) {\n  if (!this.options.captureUnhandledRejections && !this.options.handleUnhandledRejections) {\n    return;\n  }\n\n  var message = 'unhandled rejection was null or undefined!';\n  if (reason) {\n    if (reason.message) {\n      message = reason.message;\n    } else {\n      var reasonResult = _.stringify(reason);\n      if (reasonResult.value) {\n        message = reasonResult.value;\n      }\n    }\n  }\n  var context = (reason && reason._rollbarContext) || (promise && promise._rollbarContext);\n\n  var item;\n  if (_.isError(reason)) {\n    item = this._createItem([message, reason, context]);\n  } else {\n    item = this._createItem([message, reason, context]);\n    item.stackInfo = _.makeUnhandledStackInfo(\n      message,\n      '',\n      0,\n      0,\n      null,\n      'unhandledrejection',\n      '',\n      errorParser\n    );\n  }\n  item.level = this.options.uncaughtErrorLevel;\n  item._isUncaught = true;\n  item._originalArgs = item._originalArgs || [];\n  item._originalArgs.push(promise);\n  this.client.log(item);\n};\n\nRollbar.prototype.wrap = function(f, context, _before) {\n  try {\n    var ctxFn;\n    if(_.isFunction(context)) {\n      ctxFn = context;\n    } else {\n      ctxFn = function() { return context || {}; };\n    }\n\n    if (!_.isFunction(f)) {\n      return f;\n    }\n\n    if (f._isWrap) {\n      return f;\n    }\n\n    if (!f._rollbar_wrapped) {\n      f._rollbar_wrapped = function () {\n        if (_before && _.isFunction(_before)) {\n          _before.apply(this, arguments);\n        }\n        try {\n          return f.apply(this, arguments);\n        } catch(exc) {\n          var e = exc;\n          if (e && window._rollbarWrappedError !== e) {\n            if (_.isType(e, 'string')) {\n              e = new String(e);\n            }\n            e._rollbarContext = ctxFn() || {};\n            e._rollbarContext._wrappedSource = f.toString();\n\n            window._rollbarWrappedError = e;\n          }\n          throw e;\n        }\n      };\n\n      f._rollbar_wrapped._isWrap = true;\n\n      if (f.hasOwnProperty) {\n        for (var prop in f) {\n          if (f.hasOwnProperty(prop) && prop !== '_rollbar_wrapped') {\n            f._rollbar_wrapped[prop] = f[prop];\n          }\n        }\n      }\n    }\n\n    return f._rollbar_wrapped;\n  } catch (e) {\n    // Return the original function if the wrap fails.\n    return f;\n  }\n};\nRollbar.wrap = function(f, context) {\n  if (_instance) {\n    return _instance.wrap(f, context);\n  } else {\n    handleUninitialized();\n  }\n};\n\nRollbar.prototype.captureEvent = function() {\n  var event = _.createTelemetryEvent(arguments);\n  return this.client.captureEvent(event.type, event.metadata, event.level);\n};\nRollbar.captureEvent = function() {\n  if (_instance) {\n    return _instance.captureEvent.apply(_instance, arguments);\n  } else {\n    handleUninitialized();\n  }\n};\n\n// The following two methods are used internally and are not meant for public use\nRollbar.prototype.captureDomContentLoaded = function(e, ts) {\n  if (!ts) {\n    ts = new Date();\n  }\n  return this.client.captureDomContentLoaded(ts);\n};\n\nRollbar.prototype.captureLoad = function(e, ts) {\n  if (!ts) {\n    ts = new Date();\n  }\n  return this.client.captureLoad(ts);\n};\n\n/* Internal */\n\nfunction addTransformsToNotifier(notifier, rollbar, gWindow) {\n  notifier\n    .addTransform(transforms.handleDomException)\n    .addTransform(transforms.handleItemWithError)\n    .addTransform(transforms.ensureItemHasSomethingToSay)\n    .addTransform(transforms.addBaseInfo)\n    .addTransform(transforms.addRequestInfo(gWindow))\n    .addTransform(transforms.addClientInfo(gWindow))\n    .addTransform(transforms.addPluginInfo(gWindow))\n    .addTransform(transforms.addBody)\n    .addTransform(sharedTransforms.addMessageWithError)\n    .addTransform(sharedTransforms.addTelemetryData)\n    .addTransform(sharedTransforms.addConfigToPayload)\n    .addTransform(transforms.addScrubber(rollbar.scrub))\n    .addTransform(sharedTransforms.userTransform(logger))\n    .addTransform(sharedTransforms.addConfiguredOptions)\n    .addTransform(sharedTransforms.addDiagnosticKeys)\n    .addTransform(sharedTransforms.itemToPayload);\n}\n\nfunction addPredicatesToQueue(queue) {\n  queue\n    .addPredicate(sharedPredicates.checkLevel)\n    .addPredicate(predicates.checkIgnore)\n    .addPredicate(sharedPredicates.userCheckIgnore(logger))\n    .addPredicate(sharedPredicates.urlIsNotBlockListed(logger))\n    .addPredicate(sharedPredicates.urlIsSafeListed(logger))\n    .addPredicate(sharedPredicates.messageIsIgnored(logger));\n}\n\nRollbar.prototype.loadFull = function() {\n  logger.info('Unexpected Rollbar.loadFull() called on a Notifier instance. This can happen when Rollbar is loaded multiple times.');\n};\n\nRollbar.prototype._createItem = function(args) {\n  return _.createItem(args, logger, this);\n};\n\nfunction _getFirstFunction(args) {\n  for (var i = 0, len = args.length; i < len; ++i) {\n    if (_.isFunction(args[i])) {\n      return args[i];\n    }\n  }\n  return undefined;\n}\n\nfunction _gWindow() {\n  return ((typeof window != 'undefined') && window) || ((typeof self != 'undefined') && self);\n}\n\nvar defaults = require('../defaults');\nvar scrubFields = require('./defaults/scrubFields');\n\nvar defaultOptions = {\n  version: defaults.version,\n  scrubFields: scrubFields.scrubFields,\n  logLevel: defaults.logLevel,\n  reportLevel: defaults.reportLevel,\n  uncaughtErrorLevel: defaults.uncaughtErrorLevel,\n  endpoint: defaults.endpoint,\n  verbose: false,\n  enabled: true,\n  transmit: true,\n  sendConfig: false,\n  includeItemsInTelemetry: true,\n  captureIp: true,\n  inspectAnonymousErrors: true,\n  ignoreDuplicateErrors: true,\n  wrapGlobalEventHandlers: false\n};\n\nmodule.exports = Rollbar;\n","'use strict';\n\nvar RateLimiter = require('./rateLimiter');\nvar Queue = require('./queue');\nvar Notifier = require('./notifier');\nvar _ = require('./utility');\n\n/*\n * Rollbar - the interface to Rollbar\n *\n * @param options\n * @param api\n * @param logger\n */\nfunction Rollbar(options, api, logger, telemeter, platform) {\n  this.options = _.merge(options);\n  this.logger = logger;\n  Rollbar.rateLimiter.configureGlobal(this.options);\n  Rollbar.rateLimiter.setPlatformOptions(platform, this.options);\n  this.api = api;\n  this.queue = new Queue(Rollbar.rateLimiter, api, logger, this.options);\n\n  // This must happen before the Notifier is created\n  var tracer = this.options.tracer || null;\n  if (validateTracer(tracer)) {\n    this.tracer = tracer;\n    // set to a string for api response serialization\n    this.options.tracer = 'opentracing-tracer-enabled';\n    this.options._configuredOptions.tracer = 'opentracing-tracer-enabled';\n  } else {\n    this.tracer = null;\n  }\n\n  this.notifier = new Notifier(this.queue, this.options);\n  this.telemeter = telemeter;\n  setStackTraceLimit(options);\n  this.lastError = null;\n  this.lastErrorHash = 'none';\n}\n\nvar defaultOptions = {\n  maxItems: 0,\n  itemsPerMinute: 60\n};\n\nRollbar.rateLimiter = new RateLimiter(defaultOptions);\n\nRollbar.prototype.global = function (options) {\n  Rollbar.rateLimiter.configureGlobal(options);\n  return this;\n};\n\nRollbar.prototype.configure = function (options, payloadData) {\n  var oldOptions = this.options;\n  var payload = {};\n  if (payloadData) {\n    payload = { payload: payloadData };\n  }\n\n  this.options = _.merge(oldOptions, options, payload);\n\n  // This must happen before the Notifier is configured\n  var tracer = this.options.tracer || null;\n  if (validateTracer(tracer)) {\n    this.tracer = tracer;\n    // set to a string for api response serialization\n    this.options.tracer = 'opentracing-tracer-enabled';\n    this.options._configuredOptions.tracer = 'opentracing-tracer-enabled';\n  } else {\n    this.tracer = null;\n  }\n\n  this.notifier && this.notifier.configure(this.options);\n  this.telemeter && this.telemeter.configure(this.options);\n  setStackTraceLimit(options);\n  this.global(this.options);\n\n  if (validateTracer(options.tracer)) {\n    this.tracer = options.tracer\n  }\n\n  return this;\n};\n\nRollbar.prototype.log = function (item) {\n  var level = this._defaultLogLevel();\n  return this._log(level, item);\n};\n\nRollbar.prototype.debug = function (item) {\n  this._log('debug', item);\n};\n\nRollbar.prototype.info = function (item) {\n  this._log('info', item);\n};\n\nRollbar.prototype.warn = function (item) {\n  this._log('warning', item);\n};\n\nRollbar.prototype.warning = function (item) {\n  this._log('warning', item);\n};\n\nRollbar.prototype.error = function (item) {\n  this._log('error', item);\n};\n\nRollbar.prototype.critical = function (item) {\n  this._log('critical', item);\n};\n\nRollbar.prototype.wait = function (callback) {\n  this.queue.wait(callback);\n};\n\nRollbar.prototype.captureEvent = function (type, metadata, level) {\n  return this.telemeter && this.telemeter.captureEvent(type, metadata, level);\n};\n\nRollbar.prototype.captureDomContentLoaded = function (ts) {\n  return this.telemeter && this.telemeter.captureDomContentLoaded(ts);\n};\n\nRollbar.prototype.captureLoad = function (ts) {\n  return this.telemeter && this.telemeter.captureLoad(ts);\n};\n\nRollbar.prototype.buildJsonPayload = function (item) {\n  return this.api.buildJsonPayload(item);\n};\n\nRollbar.prototype.sendJsonPayload = function (jsonPayload) {\n  this.api.postJsonPayload(jsonPayload);\n};\n\n/* Internal */\n\nRollbar.prototype._log = function (defaultLevel, item) {\n  var callback;\n  if (item.callback) {\n    callback = item.callback;\n    delete item.callback;\n  }\n  if (this.options.ignoreDuplicateErrors && this._sameAsLastError(item)) {\n    if (callback) {\n      var error = new Error('ignored identical item');\n      error.item = item;\n      callback(error);\n    }\n    return;\n  }\n  try {\n    this._addTracingInfo(item);\n    item.level = item.level || defaultLevel;\n    this.telemeter && this.telemeter._captureRollbarItem(item);\n    item.telemetryEvents = (this.telemeter && this.telemeter.copyEvents()) || [];\n    this.notifier.log(item, callback);\n  } catch (e) {\n    if (callback) {\n      callback(e);\n    }\n    this.logger.error(e);\n  }\n};\n\nRollbar.prototype._defaultLogLevel = function () {\n  return this.options.logLevel || 'debug';\n};\n\nRollbar.prototype._sameAsLastError = function (item) {\n  if (!item._isUncaught) {\n    return false;\n  }\n  var itemHash = generateItemHash(item);\n  if (this.lastErrorHash === itemHash) {\n    return true;\n  }\n  this.lastError = item.err;\n  this.lastErrorHash = itemHash;\n  return false;\n};\n\nRollbar.prototype._addTracingInfo = function (item) {\n  // Tracer validation occurs in the constructor\n  // or in the Rollbar.prototype.configure methods\n  if (this.tracer) {\n    // add rollbar occurrence uuid to span\n    var span = this.tracer.scope().active();\n\n    if (validateSpan(span)) {\n      span.setTag('rollbar.error_uuid', item.uuid);\n      span.setTag('rollbar.has_error', true);\n      span.setTag('error', true);\n      span.setTag('rollbar.item_url', `https://rollbar.com/item/uuid/?uuid=${item.uuid}`);\n      span.setTag('rollbar.occurrence_url', `https://rollbar.com/occurrence/uuid/?uuid=${item.uuid}`);\n\n      // add span ID & trace ID to occurrence\n      var opentracingSpanId = span.context().toSpanId();\n      var opentracingTraceId = span.context().toTraceId();\n\n      if (item.custom) {\n        item.custom.opentracing_span_id = opentracingSpanId;\n        item.custom.opentracing_trace_id = opentracingTraceId;\n      } else {\n        item.custom = {\n          opentracing_span_id: opentracingSpanId,\n          opentracing_trace_id: opentracingTraceId\n        };\n      }\n    }\n  }\n}\n\nfunction generateItemHash(item) {\n  var message = item.message || '';\n  var stack = (item.err || {}).stack || String(item.err);\n  return message + '::' + stack;\n}\n\n// Node.js, Chrome, Safari, and some other browsers support this property\n// which globally sets the number of stack frames returned in an Error object.\n// If a browser can't use it, no harm done.\nfunction setStackTraceLimit(options) {\n  if (options.stackTraceLimit) {\n    Error.stackTraceLimit = options.stackTraceLimit;\n  }\n}\n\n/**\n * Validate the Tracer object provided to the Client\n * is valid for our Opentracing use case.\n * @param {opentracer.Tracer} tracer\n */\nfunction validateTracer(tracer) {\n  if (!tracer) {\n    return false;\n  }\n\n  if (!tracer.scope || typeof tracer.scope !== 'function') {\n    return false;\n  }\n\n  var scope = tracer.scope();\n\n  if (!scope || !scope.active || typeof scope.active !== 'function') {\n    return false;\n  }\n\n  return true;\n}\n\n/**\n * Validate the Span object provided\n * @param {opentracer.Span} span\n */\nfunction validateSpan(span) {\n  if (!span || !span.context || typeof span.context !== 'function') {\n    return false;\n  }\n\n  var spanContext = span.context();\n\n  if (!spanContext\n    || !spanContext.toSpanId\n    || !spanContext.toTraceId\n    || typeof spanContext.toSpanId !== 'function'\n    || typeof spanContext.toTraceId !== 'function') {\n    return false\n  }\n\n  return true;\n}\n\nmodule.exports = Rollbar;\n","'use strict';\n\nvar _ = require('./utility');\n\n/*\n * RateLimiter - an object that encapsulates the logic for counting items sent to Rollbar\n *\n * @param options - the same options that are accepted by configureGlobal offered as a convenience\n */\nfunction RateLimiter(options) {\n  this.startTime = _.now();\n  this.counter = 0;\n  this.perMinCounter = 0;\n  this.platform = null;\n  this.platformOptions = {};\n  this.configureGlobal(options);\n}\n\nRateLimiter.globalSettings = {\n  startTime: _.now(),\n  maxItems: undefined,\n  itemsPerMinute: undefined\n};\n\n/*\n * configureGlobal - set the global rate limiter options\n *\n * @param options - Only the following values are recognized:\n *    startTime: a timestamp of the form returned by (new Date()).getTime()\n *    maxItems: the maximum items\n *    itemsPerMinute: the max number of items to send in a given minute\n */\nRateLimiter.prototype.configureGlobal = function(options) {\n  if (options.startTime !== undefined) {\n    RateLimiter.globalSettings.startTime = options.startTime;\n  }\n  if (options.maxItems !== undefined) {\n    RateLimiter.globalSettings.maxItems = options.maxItems;\n  }\n  if (options.itemsPerMinute !== undefined) {\n    RateLimiter.globalSettings.itemsPerMinute = options.itemsPerMinute;\n  }\n};\n\n/*\n * shouldSend - determine if we should send a given item based on rate limit settings\n *\n * @param item - the item we are about to send\n * @returns An object with the following structure:\n *  error: (Error|null)\n *  shouldSend: bool\n *  payload: (Object|null)\n *  If shouldSend is false, the item passed as a parameter should not be sent to Rollbar, and\n *  exactly one of error or payload will be non-null. If error is non-null, the returned Error will\n *  describe the situation, but it means that we were already over a rate limit (either globally or\n *  per minute) when this item was checked. If error is null, and therefore payload is non-null, it\n *  means this item put us over the global rate limit and the payload should be sent to Rollbar in\n *  place of the passed in item.\n */\nRateLimiter.prototype.shouldSend = function(item, now) {\n  now = now || _.now();\n  var elapsedTime = now - this.startTime;\n  if (elapsedTime < 0 || elapsedTime >= 60000) {\n    this.startTime = now;\n    this.perMinCounter = 0;\n  }\n\n  var globalRateLimit = RateLimiter.globalSettings.maxItems;\n  var globalRateLimitPerMin = RateLimiter.globalSettings.itemsPerMinute;\n\n  if (checkRate(item, globalRateLimit, this.counter)) {\n    return shouldSendValue(this.platform, this.platformOptions, globalRateLimit + ' max items reached', false);\n  } else if (checkRate(item, globalRateLimitPerMin, this.perMinCounter)) {\n    return shouldSendValue(this.platform, this.platformOptions, globalRateLimitPerMin + ' items per minute reached', false);\n  }\n  this.counter++;\n  this.perMinCounter++;\n\n  var shouldSend = !checkRate(item, globalRateLimit, this.counter);\n  var perMinute = shouldSend;\n  shouldSend = shouldSend && !checkRate(item, globalRateLimitPerMin, this.perMinCounter);\n  return shouldSendValue(this.platform, this.platformOptions, null, shouldSend, globalRateLimit, globalRateLimitPerMin, perMinute);\n};\n\nRateLimiter.prototype.setPlatformOptions = function(platform, options) {\n  this.platform = platform;\n  this.platformOptions = options;\n};\n\n/* Helpers */\n\nfunction checkRate(item, limit, counter) {\n  return !item.ignoreRateLimit && limit >= 1 && counter > limit;\n}\n\nfunction shouldSendValue(platform, options, error, shouldSend, globalRateLimit, limitPerMin, perMinute) {\n  var payload = null;\n  if (error) {\n    error = new Error(error);\n  }\n  if (!error && !shouldSend) {\n    payload = rateLimitPayload(platform, options, globalRateLimit, limitPerMin, perMinute);\n  }\n  return {error: error, shouldSend: shouldSend, payload: payload};\n}\n\nfunction rateLimitPayload(platform, options, globalRateLimit, limitPerMin, perMinute) {\n  var environment = options.environment || (options.payload && options.payload.environment);\n  var msg;\n  if (perMinute) {\n    msg = 'item per minute limit reached, ignoring errors until timeout';\n  } else {\n    msg = 'maxItems has been hit, ignoring errors until reset.';\n  }\n  var item = {\n    body: {\n      message: {\n        body: msg,\n        extra: {\n          maxItems: globalRateLimit,\n          itemsPerMinute: limitPerMin\n        }\n      }\n    },\n    language: 'javascript',\n    environment: environment,\n    notifier: {\n      version: (options.notifier && options.notifier.version) || options.version\n    }\n  };\n  if (platform === 'browser') {\n    item.platform = 'browser';\n    item.framework = 'browser-js';\n    item.notifier.name = 'rollbar-browser-js';\n  } else if (platform === 'server') {\n    item.framework = options.framework || 'node-js';\n    item.notifier.name = options.notifier.name;\n  } else if (platform === 'react-native') {\n    item.framework = options.framework || 'react-native';\n    item.notifier.name = options.notifier.name;\n  }\n  return item;\n}\n\nmodule.exports = RateLimiter;\n","'use strict';\n\n'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) {/**/}\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\nfunction merge() {\n  var i, src, copy, clone, name,\n      result = {},\n     current = null,\n      length = arguments.length;\n\n  for (i=0; i < length; i++) {\n    current = arguments[i];\n    if (current == null) {\n      continue;\n    }\n\n    for (name in current) {\n      src = result[name];\n      copy = current[name];\n      if (result !== copy) {\n        if (copy && isPlainObject(copy)) {\n          clone = src && isPlainObject(src) ? src : {};\n          result[name] = merge(clone, copy);\n        } else if (typeof copy !== 'undefined') {\n          result[name] = copy;\n        }\n      }\n    }\n  }\n  return result;\n}\n\nmodule.exports = merge;\n","'use strict';\n\nvar _ = require('./utility');\n\n/*\n * Queue - an object which handles which handles a queue of items to be sent to Rollbar.\n *   This object handles rate limiting via a passed in rate limiter, retries based on connection\n *   errors, and filtering of items based on a set of configurable predicates. The communication to\n *   the backend is performed via a given API object.\n *\n * @param rateLimiter - An object which conforms to the interface\n *    rateLimiter.shouldSend(item) -> bool\n * @param api - An object which conforms to the interface\n *    api.postItem(payload, function(err, response))\n * @param logger - An object used to log verbose messages if desired\n * @param options - see Queue.prototype.configure\n */\nfunction Queue(rateLimiter, api, logger, options) {\n  this.rateLimiter = rateLimiter;\n  this.api = api;\n  this.logger = logger;\n  this.options = options;\n  this.predicates = [];\n  this.pendingItems = [];\n  this.pendingRequests = [];\n  this.retryQueue = [];\n  this.retryHandle = null;\n  this.waitCallback = null;\n  this.waitIntervalID = null;\n}\n\n/*\n * configure - updates the options this queue uses\n *\n * @param options\n */\nQueue.prototype.configure = function(options) {\n  this.api && this.api.configure(options);\n  var oldOptions = this.options;\n  this.options = _.merge(oldOptions, options);\n  return this;\n};\n\n/*\n * addPredicate - adds a predicate to the end of the list of predicates for this queue\n *\n * @param predicate - function(item, options) -> (bool|{err: Error})\n *  Returning true means that this predicate passes and the item is okay to go on the queue\n *  Returning false means do not add the item to the queue, but it is not an error\n *  Returning {err: Error} means do not add the item to the queue, and the given error explains why\n *  Returning {err: undefined} is equivalent to returning true but don't do that\n */\nQueue.prototype.addPredicate = function(predicate) {\n  if (_.isFunction(predicate)) {\n    this.predicates.push(predicate);\n  }\n  return this;\n};\n\nQueue.prototype.addPendingItem = function(item) {\n  this.pendingItems.push(item);\n};\n\nQueue.prototype.removePendingItem = function(item) {\n  var idx = this.pendingItems.indexOf(item);\n  if (idx !== -1) {\n    this.pendingItems.splice(idx, 1);\n  }\n};\n\n/*\n * addItem - Send an item to the Rollbar API if all of the predicates are satisfied\n *\n * @param item - The payload to send to the backend\n * @param callback - function(error, repsonse) which will be called with the response from the API\n *  in the case of a success, otherwise response will be null and error will have a value. If both\n *  error and response are null then the item was stopped by a predicate which did not consider this\n *  to be an error condition, but nonetheless did not send the item to the API.\n *  @param originalError - The original error before any transformations that is to be logged if any\n */\nQueue.prototype.addItem = function(item, callback, originalError, originalItem) {\n  if (!callback || !_.isFunction(callback)) {\n    callback = function() { return; };\n  }\n  var predicateResult = this._applyPredicates(item);\n  if (predicateResult.stop) {\n    this.removePendingItem(originalItem);\n    callback(predicateResult.err);\n    return;\n  }\n  this._maybeLog(item, originalError);\n  this.removePendingItem(originalItem);\n  if (!this.options.transmit) {\n    callback(new Error('Transmit disabled'));\n    return;\n  }\n  this.pendingRequests.push(item);\n  try {\n    this._makeApiRequest(item, function(err, resp) {\n      this._dequeuePendingRequest(item);\n      callback(err, resp);\n    }.bind(this));\n  } catch (e) {\n    this._dequeuePendingRequest(item);\n    callback(e);\n  }\n};\n\n/*\n * wait - Stop any further errors from being added to the queue, and get called back when all items\n *   currently processing have finished sending to the backend.\n *\n * @param callback - function() called when all pending items have been sent\n */\nQueue.prototype.wait = function(callback) {\n  if (!_.isFunction(callback)) {\n    return;\n  }\n  this.waitCallback = callback;\n  if (this._maybeCallWait()) {\n    return;\n  }\n  if (this.waitIntervalID) {\n    this.waitIntervalID = clearInterval(this.waitIntervalID);\n  }\n  this.waitIntervalID = setInterval(function() {\n    this._maybeCallWait();\n  }.bind(this), 500);\n};\n\n/* _applyPredicates - Sequentially applies the predicates that have been added to the queue to the\n *   given item with the currently configured options.\n *\n * @param item - An item in the queue\n * @returns {stop: bool, err: (Error|null)} - stop being true means do not add item to the queue,\n *   the error value should be passed up to a callbak if we are stopping.\n */\nQueue.prototype._applyPredicates = function(item) {\n  var p = null;\n  for (var i = 0, len = this.predicates.length; i < len; i++) {\n    p = this.predicates[i](item, this.options);\n    if (!p || p.err !== undefined) {\n      return {stop: true, err: p.err};\n    }\n  }\n  return {stop: false, err: null};\n};\n\n/*\n * _makeApiRequest - Send an item to Rollbar, callback when done, if there is an error make an\n *   effort to retry if we are configured to do so.\n *\n * @param item - an item ready to send to the backend\n * @param callback - function(err, response)\n */\nQueue.prototype._makeApiRequest = function(item, callback) {\n  var rateLimitResponse = this.rateLimiter.shouldSend(item);\n  if (rateLimitResponse.shouldSend) {\n    this.api.postItem(item, function(err, resp) {\n      if (err) {\n        this._maybeRetry(err, item, callback);\n      } else {\n        callback(err, resp);\n      }\n    }.bind(this));\n  } else if (rateLimitResponse.error) {\n    callback(rateLimitResponse.error);\n  } else {\n    this.api.postItem(rateLimitResponse.payload, callback);\n  }\n};\n\n// These are errors basically mean there is no internet connection\nvar RETRIABLE_ERRORS = ['ECONNRESET', 'ENOTFOUND', 'ESOCKETTIMEDOUT', 'ETIMEDOUT', 'ECONNREFUSED', 'EHOSTUNREACH', 'EPIPE', 'EAI_AGAIN'];\n\n/*\n * _maybeRetry - Given the error returned by the API, decide if we should retry or just callback\n *   with the error.\n *\n * @param err - an error returned by the API transport\n * @param item - the item that was trying to be sent when this error occured\n * @param callback - function(err, response)\n */\nQueue.prototype._maybeRetry = function(err, item, callback) {\n  var shouldRetry = false;\n  if (this.options.retryInterval) {\n    for (var i = 0, len = RETRIABLE_ERRORS.length; i < len; i++) {\n      if (err.code === RETRIABLE_ERRORS[i]) {\n        shouldRetry = true;\n        break;\n      }\n    }\n  }\n  if (shouldRetry) {\n    this._retryApiRequest(item, callback);\n  } else {\n    callback(err);\n  }\n};\n\n/*\n * _retryApiRequest - Add an item and a callback to a queue and possibly start a timer to process\n *   that queue based on the retryInterval in the options for this queue.\n *\n * @param item - an item that failed to send due to an error we deem retriable\n * @param callback - function(err, response)\n */\nQueue.prototype._retryApiRequest = function(item, callback) {\n  this.retryQueue.push({item: item, callback: callback});\n\n  if (!this.retryHandle) {\n    this.retryHandle = setInterval(function() {\n      while (this.retryQueue.length) {\n        var retryObject = this.retryQueue.shift();\n        this._makeApiRequest(retryObject.item, retryObject.callback);\n      }\n    }.bind(this), this.options.retryInterval);\n  }\n};\n\n/*\n * _dequeuePendingRequest - Removes the item from the pending request queue, this queue is used to\n *   enable to functionality of providing a callback that clients can pass to `wait` to be notified\n *   when the pending request queue has been emptied. This must be called when the API finishes\n *   processing this item. If a `wait` callback is configured, it is called by this function.\n *\n * @param item - the item previously added to the pending request queue\n */\nQueue.prototype._dequeuePendingRequest = function(item) {\n  var idx = this.pendingRequests.indexOf(item);\n  if (idx !== -1) {\n    this.pendingRequests.splice(idx, 1);\n    this._maybeCallWait();\n  }\n};\n\nQueue.prototype._maybeLog = function(data, originalError) {\n  if (this.logger && this.options.verbose) {\n    var message = originalError;\n    message = message || _.get(data, 'body.trace.exception.message');\n    message = message || _.get(data, 'body.trace_chain.0.exception.message');\n    if (message) {\n      this.logger.error(message);\n      return;\n    }\n    message = _.get(data, 'body.message.body');\n    if (message) {\n      this.logger.log(message);\n    }\n  }\n};\n\nQueue.prototype._maybeCallWait = function() {\n  if (_.isFunction(this.waitCallback) && this.pendingItems.length === 0 && this.pendingRequests.length === 0) {\n    if (this.waitIntervalID) {\n      this.waitIntervalID = clearInterval(this.waitIntervalID);\n    }\n    this.waitCallback();\n    return true;\n  }\n  return false;\n};\n\nmodule.exports = Queue;\n","'use strict';\n\nvar _ = require('./utility');\n\n/*\n * Notifier - the internal object responsible for delegating between the client exposed API, the\n * chain of transforms necessary to turn an item into something that can be sent to Rollbar, and the\n * queue which handles the communcation with the Rollbar API servers.\n *\n * @param queue - an object that conforms to the interface: addItem(item, callback)\n * @param options - an object representing the options to be set for this notifier, this should have\n * any defaults already set by the caller\n */\nfunction Notifier(queue, options) {\n  this.queue = queue;\n  this.options = options;\n  this.transforms = [];\n  this.diagnostic = {};\n}\n\n/*\n * configure - updates the options for this notifier with the passed in object\n *\n * @param options - an object which gets merged with the current options set on this notifier\n * @returns this\n */\nNotifier.prototype.configure = function(options) {\n  this.queue && this.queue.configure(options);\n  var oldOptions = this.options;\n  this.options = _.merge(oldOptions, options);\n  return this;\n};\n\n/*\n * addTransform - adds a transform onto the end of the queue of transforms for this notifier\n *\n * @param transform - a function which takes three arguments:\n *    * item: An Object representing the data to eventually be sent to Rollbar\n *    * options: The current value of the options for this notifier\n *    * callback: function(err: (Null|Error), item: (Null|Object)) the transform must call this\n *    callback with a null value for error if it wants the processing chain to continue, otherwise\n *    with an error to terminate the processing. The item should be the updated item after this\n *    transform is finished modifying it.\n */\nNotifier.prototype.addTransform = function(transform) {\n  if (_.isFunction(transform)) {\n    this.transforms.push(transform);\n  }\n  return this;\n};\n\n/*\n * log - the internal log function which applies the configured transforms and then pushes onto the\n * queue to be sent to the backend.\n *\n * @param item - An object with the following structure:\n *    message [String] - An optional string to be sent to rollbar\n *    error [Error] - An optional error\n *\n * @param callback - A function of type function(err, resp) which will be called with exactly one\n * null argument and one non-null argument. The callback will be called once, either during the\n * transform stage if an error occurs inside a transform, or in response to the communication with\n * the backend. The second argument will be the response from the backend in case of success.\n */\nNotifier.prototype.log = function(item, callback) {\n  if (!callback || !_.isFunction(callback)) {\n    callback = function() {};\n  }\n\n  if (!this.options.enabled) {\n    return callback(new Error('Rollbar is not enabled'));\n  }\n\n  this.queue.addPendingItem(item);\n  var originalError = item.err;\n  this._applyTransforms(item, function(err, i) {\n    if (err) {\n      this.queue.removePendingItem(item);\n      return callback(err, null);\n    }\n    this.queue.addItem(i, callback, originalError, item);\n  }.bind(this));\n};\n\n/* Internal */\n\n/*\n * _applyTransforms - Applies the transforms that have been added to this notifier sequentially. See\n * `addTransform` for more information.\n *\n * @param item - An item to be transformed\n * @param callback - A function of type function(err, item) which will be called with a non-null\n * error and a null item in the case of a transform failure, or a null error and non-null item after\n * all transforms have been applied.\n */\nNotifier.prototype._applyTransforms = function(item, callback) {\n  var transformIndex = -1;\n  var transformsLength = this.transforms.length;\n  var transforms = this.transforms;\n  var options = this.options;\n\n  var cb = function(err, i) {\n    if (err) {\n      callback(err, null);\n      return;\n    }\n\n    transformIndex++;\n\n    if (transformIndex === transformsLength) {\n      callback(null, i);\n      return;\n    }\n\n    transforms[transformIndex](i, options, cb);\n  };\n\n  cb(null, item);\n};\n\nmodule.exports = Notifier;\n","'use strict';\n\nvar _ = require('./utility');\nvar helpers = require('./apiUtility');\n\nvar defaultOptions = {\n  hostname: 'api.rollbar.com',\n  path: '/api/1/item/',\n  search: null,\n  version: '1',\n  protocol: 'https:',\n  port: 443\n};\n\n/**\n * Api is an object that encapsulates methods of communicating with\n * the Rollbar API.  It is a standard interface with some parts implemented\n * differently for server or browser contexts.  It is an object that should\n * be instantiated when used so it can contain non-global options that may\n * be different for another instance of RollbarApi.\n *\n * @param options {\n *    accessToken: the accessToken to use for posting items to rollbar\n *    endpoint: an alternative endpoint to send errors to\n *        must be a valid, fully qualified URL.\n *        The default is: https://api.rollbar.com/api/1/item\n *    proxy: if you wish to proxy requests provide an object\n *        with the following keys:\n *          host or hostname (required): foo.example.com\n *          port (optional): 123\n *          protocol (optional): https\n * }\n */\nfunction Api(options, transport, urllib, truncation, jsonBackup) {\n  this.options = options;\n  this.transport = transport;\n  this.url = urllib;\n  this.truncation = truncation;\n  this.jsonBackup = jsonBackup;\n  this.accessToken = options.accessToken;\n  this.transportOptions = _getTransport(options, urllib);\n}\n\n/**\n *\n * @param data\n * @param callback\n */\nApi.prototype.postItem = function(data, callback) {\n  var transportOptions = helpers.transportOptions(this.transportOptions, 'POST');\n  var payload = helpers.buildPayload(this.accessToken, data, this.jsonBackup);\n  this.transport.post(this.accessToken, transportOptions, payload, callback);\n};\n\n/**\n *\n * @param data\n * @param callback\n */\nApi.prototype.buildJsonPayload = function(data, callback) {\n  var payload = helpers.buildPayload(this.accessToken, data, this.jsonBackup);\n\n  var stringifyResult;\n  if (this.truncation) {\n    stringifyResult = this.truncation.truncate(payload);\n  } else {\n    stringifyResult = _.stringify(payload)\n  }\n\n  if (stringifyResult.error) {\n    if (callback) {\n      callback(stringifyResult.error);\n    }\n    return null;\n  }\n\n  return stringifyResult.value;\n};\n\n/**\n *\n * @param jsonPayload\n * @param callback\n */\nApi.prototype.postJsonPayload = function(jsonPayload, callback) {\n  var transportOptions = helpers.transportOptions(this.transportOptions, 'POST');\n  this.transport.postJsonPayload(this.accessToken, transportOptions, jsonPayload, callback);\n};\n\nApi.prototype.configure = function(options) {\n  var oldOptions = this.oldOptions;\n  this.options = _.merge(oldOptions, options);\n  this.transportOptions = _getTransport(this.options, this.url);\n  if (this.options.accessToken !== undefined) {\n    this.accessToken = this.options.accessToken;\n  }\n  return this;\n};\n\nfunction _getTransport(options, url) {\n  return helpers.getTransportFromOptions(options, defaultOptions, url);\n}\n\nmodule.exports = Api;\n","'use strict';\n\nvar _ = require('./utility');\n\nfunction buildPayload(accessToken, data, jsonBackup) {\n  if (!_.isType(data.context, 'string')) {\n    var contextResult = _.stringify(data.context, jsonBackup);\n    if (contextResult.error) {\n      data.context = 'Error: could not serialize \\'context\\'';\n    } else {\n      data.context = contextResult.value || '';\n    }\n    if (data.context.length > 255) {\n      data.context = data.context.substr(0, 255);\n    }\n  }\n  return {\n    access_token: accessToken,\n    data: data\n  };\n}\n\nfunction getTransportFromOptions(options, defaults, url) {\n  var hostname = defaults.hostname;\n  var protocol = defaults.protocol;\n  var port = defaults.port;\n  var path = defaults.path;\n  var search = defaults.search;\n\n  var proxy = options.proxy;\n  if (options.endpoint) {\n    var opts = url.parse(options.endpoint);\n    hostname = opts.hostname;\n    protocol = opts.protocol;\n    port = opts.port;\n    path = opts.pathname;\n    search = opts.search;\n  }\n  return {\n    hostname: hostname,\n    protocol: protocol,\n    port: port,\n    path: path,\n    search: search,\n    proxy: proxy\n  };\n}\n\nfunction transportOptions(transport, method) {\n  var protocol = transport.protocol || 'https:';\n  var port = transport.port || (protocol === 'http:' ? 80 : protocol === 'https:' ? 443 : undefined);\n  var hostname = transport.hostname;\n  var path = transport.path;\n  if (transport.search) {\n    path = path + transport.search;\n  }\n  if (transport.proxy) {\n    path = protocol + '//' + hostname + path;\n    hostname = transport.proxy.host || transport.proxy.hostname;\n    port = transport.proxy.port;\n    protocol = transport.proxy.protocol || protocol;\n  }\n  return {\n    protocol: protocol,\n    hostname: hostname,\n    path: path,\n    port: port,\n    method: method\n  };\n}\n\nfunction appendPathToPath(base, path) {\n  var baseTrailingSlash = /\\/$/.test(base);\n  var pathBeginningSlash = /^\\//.test(path);\n\n  if (baseTrailingSlash && pathBeginningSlash) {\n    path = path.substring(1);\n  } else if (!baseTrailingSlash && !pathBeginningSlash) {\n    path = '/' + path;\n  }\n\n  return base + path;\n}\n\nmodule.exports = {\n  buildPayload: buildPayload,\n  getTransportFromOptions: getTransportFromOptions,\n  transportOptions: transportOptions,\n  appendPathToPath: appendPathToPath\n};\n","// Console-polyfill. MIT license.\n// https://github.com/paulmillr/console-polyfill\n// Make it safe to do console.log() always.\n(function(global) {\n  'use strict';\n  if (!global.console) {\n    global.console = {};\n  }\n  var con = global.console;\n  var prop, method;\n  var dummy = function() {};\n  var properties = ['memory'];\n  var methods = ('assert,clear,count,debug,dir,dirxml,error,exception,group,' +\n     'groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,' +\n     'show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn').split(',');\n  while (prop = properties.pop()) if (!con[prop]) con[prop] = {};\n  while (method = methods.pop()) if (!con[method]) con[method] = dummy;\n  // Using `this` for web workers & supports Browserify / Webpack.\n})(typeof window === 'undefined' ? this : window);\n","'use strict';\n\n// This detection.js module is used to encapsulate any ugly browser/feature\n// detection we may need to do.\n\n// Figure out which version of IE we're using, if any.\n// This is gleaned from http://stackoverflow.com/questions/5574842/best-way-to-check-for-ie-less-than-9-in-javascript-without-library\n// Will return an integer on IE (i.e. 8)\n// Will return undefined otherwise\nfunction getIEVersion() {\n\tvar undef;\n\tif (typeof document === 'undefined') {\n\t\treturn undef;\n\t}\n\n  var v = 3,\n    div = document.createElement('div'),\n    all = div.getElementsByTagName('i');\n\n  while (\n    div.innerHTML = '<!--[if gt IE ' + (++v) + ']><i></i><![endif]-->',\n      all[0]\n    );\n\n  return v > 4 ? v : undef;\n}\n\nvar Detection = {\n  ieVersion: getIEVersion\n};\n\nmodule.exports = Detection;\n","'use strict';\n\nfunction captureUncaughtExceptions(window, handler, shim) {\n  if (!window) { return; }\n  var oldOnError;\n\n  if (typeof handler._rollbarOldOnError === 'function') {\n    oldOnError = handler._rollbarOldOnError;\n  } else if (window.onerror) {\n    oldOnError = window.onerror;\n    while (oldOnError._rollbarOldOnError) {\n      oldOnError = oldOnError._rollbarOldOnError;\n    }\n    handler._rollbarOldOnError = oldOnError;\n  }\n\n  handler.handleAnonymousErrors();\n\n  var fn = function() {\n    var args = Array.prototype.slice.call(arguments, 0);\n    _rollbarWindowOnError(window, handler, oldOnError, args);\n  };\n  if (shim) {\n    fn._rollbarOldOnError = oldOnError;\n  }\n  window.onerror = fn;\n}\n\nfunction _rollbarWindowOnError(window, r, old, args) {\n  if (window._rollbarWrappedError) {\n    if (!args[4]) {\n      args[4] = window._rollbarWrappedError;\n    }\n    if (!args[5]) {\n      args[5] = window._rollbarWrappedError._rollbarContext;\n    }\n    window._rollbarWrappedError = null;\n  }\n\n  var ret = r.handleUncaughtException.apply(r, args);\n\n  if (old) {\n    old.apply(window, args);\n  }\n\n  // Let other chained onerror handlers above run before setting this.\n  // If an error is thrown and caught within a chained onerror handler,\n  // Error.prepareStackTrace() will see that one before the one we want.\n  if (ret === 'anonymous') {\n    r.anonymousErrorsPending += 1; // See Rollbar.prototype.handleAnonymousErrors()\n  }\n}\n\nfunction captureUnhandledRejections(window, handler, shim) {\n  if (!window) { return; }\n\n  if (typeof window._rollbarURH === 'function' && window._rollbarURH.belongsToShim) {\n    window.removeEventListener('unhandledrejection', window._rollbarURH);\n  }\n\n  var rejectionHandler = function (evt) {\n    var reason, promise, detail;\n    try {\n      reason = evt.reason;\n    } catch (e) {\n      reason = undefined;\n    }\n    try {\n      promise = evt.promise;\n    } catch (e) {\n      promise = '[unhandledrejection] error getting `promise` from event';\n    }\n    try {\n      detail = evt.detail;\n      if (!reason && detail) {\n        reason = detail.reason;\n        promise = detail.promise;\n      }\n    } catch (e) {\n      // Ignore\n    }\n    if (!reason) {\n      reason = '[unhandledrejection] error getting `reason` from event';\n    }\n\n    if (handler && handler.handleUnhandledRejection) {\n      handler.handleUnhandledRejection(reason, promise);\n    }\n  };\n  rejectionHandler.belongsToShim = shim;\n  window._rollbarURH = rejectionHandler;\n  window.addEventListener('unhandledrejection', rejectionHandler);\n}\n\n\nmodule.exports = {\n  captureUncaughtExceptions: captureUncaughtExceptions,\n  captureUnhandledRejections: captureUnhandledRejections\n};\n","'use strict';\n\n/*global XDomainRequest*/\n\nvar _ = require('../utility');\nvar logger = require('./logger');\n\n/*\n * accessToken may be embedded in payload but that should not\n *   be assumed\n *\n * options: {\n *   hostname\n *   protocol\n *   path\n *   port\n *   method\n * }\n *\n *  params is an object containing key/value pairs. These\n *    will be appended to the path as 'key=value&key=value'\n *\n * payload is an unserialized object\n */\nfunction Transport(truncation) {\n  this.truncation = truncation;\n}\n\nTransport.prototype.get = function(accessToken, options, params, callback, requestFactory) {\n  if (!callback || !_.isFunction(callback)) {\n    callback = function() {};\n  }\n  _.addParamsAndAccessTokenToPath(accessToken, options, params);\n\n  var method = 'GET';\n  var url = _.formatUrl(options);\n  _makeZoneRequest(accessToken, url, method, null, callback, requestFactory);\n}\n\nTransport.prototype.post = function(accessToken, options, payload, callback, requestFactory) {\n  if (!callback || !_.isFunction(callback)) {\n    callback = function() {};\n  }\n\n  if (!payload) {\n    return callback(new Error('Cannot send empty request'));\n  }\n\n  var stringifyResult;\n  if (this.truncation) {\n    stringifyResult = this.truncation.truncate(payload);\n  } else {\n    stringifyResult = _.stringify(payload)\n  }\n  if (stringifyResult.error) {\n    return callback(stringifyResult.error);\n  }\n\n  var writeData = stringifyResult.value;\n  var method = 'POST';\n  var url = _.formatUrl(options);\n  _makeZoneRequest(accessToken, url, method, writeData, callback, requestFactory);\n}\n\nTransport.prototype.postJsonPayload = function (accessToken, options, jsonPayload, callback, requestFactory) {\n  if (!callback || !_.isFunction(callback)) {\n    callback = function() {};\n  }\n\n  var method = 'POST';\n  var url = _.formatUrl(options);\n  _makeZoneRequest(accessToken, url, method, jsonPayload, callback, requestFactory);\n}\n\n// Wraps _makeRequest and if Angular 2+ Zone.js is detected, changes scope\n// so Angular change detection isn't triggered on each API call.\n// This is the equivalent of runOutsideAngular().\n//\nfunction _makeZoneRequest(accessToken, url, method, data, callback, requestFactory) {\n  var gWindow = ((typeof window != 'undefined') && window) || ((typeof self != 'undefined') && self);\n  var currentZone = gWindow && gWindow.Zone && gWindow.Zone.current;\n\n  if (currentZone && currentZone._name === 'angular') {\n    var rootZone = currentZone._parent;\n    rootZone.run(function () {\n      _makeRequest(accessToken, url, method, data, callback, requestFactory);\n    });\n  } else {\n    _makeRequest(accessToken, url, method, data, callback, requestFactory);\n  }\n}\n\n/* global RollbarProxy */\nfunction _proxyRequest(json, callback) {\n  var rollbarProxy = new RollbarProxy();\n  rollbarProxy.sendJsonPayload(\n    json,\n    function(_msg) { /* do nothing */ }, // eslint-disable-line no-unused-vars\n    function(err) {\n      callback(new Error(err));\n    }\n  );\n}\n\nfunction _makeRequest(accessToken, url, method, data, callback, requestFactory) {\n  if (typeof RollbarProxy !== 'undefined') {\n    return _proxyRequest(data, callback);\n  }\n\n  var request;\n  if (requestFactory) {\n    request = requestFactory();\n  } else {\n    request = _createXMLHTTPObject();\n  }\n  if (!request) {\n    // Give up, no way to send requests\n    return callback(new Error('No way to send a request'));\n  }\n  try {\n    try {\n      var onreadystatechange = function() {\n        try {\n          if (onreadystatechange && request.readyState === 4) {\n            onreadystatechange = undefined;\n\n            var parseResponse = _.jsonParse(request.responseText);\n            if (_isSuccess(request)) {\n              callback(parseResponse.error, parseResponse.value);\n              return;\n            } else if (_isNormalFailure(request)) {\n              if (request.status === 403) {\n                // likely caused by using a server access token\n                var message = parseResponse.value && parseResponse.value.message;\n                logger.error(message);\n              }\n              // return valid http status codes\n              callback(new Error(String(request.status)));\n            } else {\n              // IE will return a status 12000+ on some sort of connection failure,\n              // so we return a blank error\n              // http://msdn.microsoft.com/en-us/library/aa383770%28VS.85%29.aspx\n              var msg = 'XHR response had no status code (likely connection failure)';\n              callback(_newRetriableError(msg));\n            }\n          }\n        } catch (ex) {\n          //jquery source mentions firefox may error out while accessing the\n          //request members if there is a network error\n          //https://github.com/jquery/jquery/blob/a938d7b1282fc0e5c52502c225ae8f0cef219f0a/src/ajax/xhr.js#L111\n          var exc;\n          if (ex && ex.stack) {\n            exc = ex;\n          } else {\n            exc = new Error(ex);\n          }\n          callback(exc);\n        }\n      };\n\n      request.open(method, url, true);\n      if (request.setRequestHeader) {\n        request.setRequestHeader('Content-Type', 'application/json');\n        request.setRequestHeader('X-Rollbar-Access-Token', accessToken);\n      }\n      request.onreadystatechange = onreadystatechange;\n      request.send(data);\n    } catch (e1) {\n      // Sending using the normal xmlhttprequest object didn't work, try XDomainRequest\n      if (typeof XDomainRequest !== 'undefined') {\n\n        // Assume we are in a really old browser which has a bunch of limitations:\n        // http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\n\n        // Extreme paranoia: if we have XDomainRequest then we have a window, but just in case\n        if (!window || !window.location) {\n          return callback(new Error('No window available during request, unknown environment'));\n        }\n\n        // If the current page is http, try and send over http\n        if (window.location.href.substring(0, 5) === 'http:' && url.substring(0, 5) === 'https') {\n          url = 'http' + url.substring(5);\n        }\n\n        var xdomainrequest = new XDomainRequest();\n        xdomainrequest.onprogress = function() {};\n        xdomainrequest.ontimeout = function() {\n          var msg = 'Request timed out';\n          var code = 'ETIMEDOUT';\n          callback(_newRetriableError(msg, code));\n        };\n        xdomainrequest.onerror = function() {\n          callback(new Error('Error during request'));\n        };\n        xdomainrequest.onload = function() {\n          var parseResponse = _.jsonParse(xdomainrequest.responseText);\n          callback(parseResponse.error, parseResponse.value);\n        };\n        xdomainrequest.open(method, url, true);\n        xdomainrequest.send(data);\n      } else {\n        callback(new Error('Cannot find a method to transport a request'));\n      }\n    }\n  } catch (e2) {\n    callback(e2);\n  }\n}\n\nfunction _createXMLHTTPObject() {\n  /* global ActiveXObject:false */\n\n  var factories = [\n    function () {\n      return new XMLHttpRequest();\n    },\n    function () {\n      return new ActiveXObject('Msxml2.XMLHTTP');\n    },\n    function () {\n      return new ActiveXObject('Msxml3.XMLHTTP');\n    },\n    function () {\n      return new ActiveXObject('Microsoft.XMLHTTP');\n    }\n  ];\n  var xmlhttp;\n  var i;\n  var numFactories = factories.length;\n  for (i = 0; i < numFactories; i++) {\n    /* eslint-disable no-empty */\n    try {\n      xmlhttp = factories[i]();\n      break;\n    } catch (e) {\n      // pass\n    }\n    /* eslint-enable no-empty */\n  }\n  return xmlhttp;\n}\n\nfunction _isSuccess(r) {\n  return r && r.status && r.status === 200;\n}\n\nfunction _isNormalFailure(r) {\n  return r && _.isType(r.status, 'number') && r.status >= 400 && r.status < 600;\n}\n\nfunction _newRetriableError(message, code) {\n  var err = new Error(message);\n  err.code = code || 'ENOTFOUND';\n  return err;\n}\n\nmodule.exports = Transport;\n","'use strict';\n\nvar _ = require('../utility');\nvar errorParser = require('../errorParser');\nvar logger = require('./logger');\n\nfunction handleDomException(item, options, callback) {\n  if(item.err && errorParser.Stack(item.err).name === 'DOMException') {\n    var originalError = new Error();\n    originalError.name = item.err.name;\n    originalError.message = item.err.message;\n    originalError.stack = item.err.stack;\n    originalError.nested = item.err;\n    item.err = originalError;\n  }\n  callback(null, item);\n}\n\nfunction handleItemWithError(item, options, callback) {\n  item.data = item.data || {};\n  if (item.err) {\n    try {\n      item.stackInfo = item.err._savedStackTrace || errorParser.parse(item.err, item.skipFrames);\n\n      if (options.addErrorContext) {\n        addErrorContext(item);\n      }\n    } catch (e) {\n      logger.error('Error while parsing the error object.', e);\n      try {\n        item.message = item.err.message || item.err.description || item.message || String(item.err);\n      } catch (e2) {\n        item.message = String(item.err) || String(e2);\n      }\n      delete item.err;\n    }\n  }\n  callback(null, item);\n}\n\nfunction addErrorContext(item) {\n  var chain = [];\n  var err = item.err;\n\n  chain.push(err);\n\n  while (err.nested) {\n    err = err.nested;\n    chain.push(err);\n  }\n\n  _.addErrorContext(item, chain);\n}\n\nfunction ensureItemHasSomethingToSay(item, options, callback) {\n  if (!item.message && !item.stackInfo && !item.custom) {\n    callback(new Error('No message, stack info, or custom data'), null);\n  }\n  callback(null, item);\n}\n\nfunction addBaseInfo(item, options, callback) {\n  var environment = (options.payload && options.payload.environment) || options.environment;\n  item.data = _.merge(item.data, {\n    environment: environment,\n    level: item.level,\n    endpoint: options.endpoint,\n    platform: 'browser',\n    framework: 'browser-js',\n    language: 'javascript',\n    server: {},\n    uuid: item.uuid,\n    notifier: {\n      name: 'rollbar-browser-js',\n      version: options.version\n    },\n    custom: item.custom\n  });\n  callback(null, item);\n}\n\nfunction addRequestInfo(window) {\n  return function(item, options, callback) {\n    if (!window || !window.location) {\n      return callback(null, item);\n    }\n    var remoteString = '$remote_ip';\n    if (!options.captureIp) {\n      remoteString = null;\n    } else if (options.captureIp !== true) {\n      remoteString += '_anonymize';\n    }\n    _.set(item, 'data.request', {\n      url: window.location.href,\n      query_string: window.location.search,\n      user_ip: remoteString\n    });\n    callback(null, item);\n  };\n}\n\nfunction addClientInfo(window) {\n  return function(item, options, callback) {\n    if (!window) {\n      return callback(null, item);\n    }\n    var nav = window.navigator || {};\n    var scr = window.screen || {};\n    _.set(item, 'data.client', {\n      runtime_ms: item.timestamp - window._rollbarStartTime,\n      timestamp: Math.round(item.timestamp / 1000),\n      javascript: {\n        browser: nav.userAgent,\n        language: nav.language,\n        cookie_enabled: nav.cookieEnabled,\n        screen: {\n          width: scr.width,\n          height: scr.height\n        }\n      }\n    });\n    callback(null, item);\n  };\n}\n\nfunction addPluginInfo(window) {\n  return function(item, options, callback) {\n    if (!window || !window.navigator) {\n      return callback(null, item);\n    }\n    var plugins = [];\n    var navPlugins = window.navigator.plugins || [];\n    var cur;\n    for (var i=0, l=navPlugins.length; i < l; ++i) {\n      cur = navPlugins[i];\n      plugins.push({name: cur.name, description: cur.description});\n    }\n    _.set(item, 'data.client.javascript.plugins', plugins);\n    callback(null, item);\n  };\n}\n\nfunction addBody(item, options, callback) {\n  if (item.stackInfo) {\n    if (item.stackInfo.traceChain) {\n      addBodyTraceChain(item, options, callback);\n    } else {\n      addBodyTrace(item, options, callback);\n    }\n  } else {\n    addBodyMessage(item, options, callback);\n  }\n}\n\nfunction addBodyMessage(item, options, callback) {\n  var message = item.message;\n  var custom = item.custom;\n\n  if (!message) {\n    message = 'Item sent with null or missing arguments.';\n  }\n  var result = {\n    body: message\n  };\n\n  if (custom) {\n    result.extra = _.merge(custom);\n  }\n\n  _.set(item, 'data.body', {message: result});\n  callback(null, item);\n}\n\nfunction stackFromItem(item) {\n  // Transform a TraceKit stackInfo object into a Rollbar trace\n  var stack = item.stackInfo.stack;\n  if (stack && stack.length === 0 && item._unhandledStackInfo && item._unhandledStackInfo.stack) {\n    stack = item._unhandledStackInfo.stack;\n  }\n  return stack;\n}\n\nfunction addBodyTraceChain(item, options, callback) {\n  var traceChain = item.stackInfo.traceChain;\n  var traces = [];\n\n  var traceChainLength = traceChain.length;\n  for (var i = 0; i < traceChainLength; i++) {\n    var trace = buildTrace(item, traceChain[i], options);\n    traces.push(trace);\n  }\n\n  _.set(item, 'data.body', {trace_chain: traces});\n  callback(null, item);\n}\n\nfunction addBodyTrace(item, options, callback) {\n  var stack = stackFromItem(item);\n\n  if (stack) {\n    var trace = buildTrace(item, item.stackInfo, options);\n    _.set(item, 'data.body', {trace: trace});\n    callback(null, item);\n  } else {\n    var stackInfo = item.stackInfo;\n    var guess = errorParser.guessErrorClass(stackInfo.message);\n    var className = errorClass(stackInfo, guess[0], options);\n    var message = guess[1];\n\n    item.message = className + ': ' + message;\n    addBodyMessage(item, options, callback);\n  }\n}\n\nfunction buildTrace(item, stackInfo, options) {\n  var description = item && item.data.description;\n  var custom = item && item.custom;\n  var stack = stackFromItem(item);\n\n  var guess = errorParser.guessErrorClass(stackInfo.message);\n  var className = errorClass(stackInfo, guess[0], options);\n  var message = guess[1];\n  var trace = {\n    exception: {\n      'class': className,\n      message: message\n    }\n  };\n\n  if (description) {\n    trace.exception.description = description;\n  }\n\n  if (stack) {\n    if (stack.length === 0) {\n      trace.exception.stack = stackInfo.rawStack;\n      trace.exception.raw = String(stackInfo.rawException);\n    }\n    var stackFrame;\n    var frame;\n    var code;\n    var pre;\n    var post;\n    var contextLength;\n    var i, mid;\n\n    trace.frames = [];\n    for (i = 0; i < stack.length; ++i) {\n      stackFrame = stack[i];\n      frame = {\n        filename: stackFrame.url ? _.sanitizeUrl(stackFrame.url) : '(unknown)',\n        lineno: stackFrame.line || null,\n        method: (!stackFrame.func || stackFrame.func === '?') ? '[anonymous]' : stackFrame.func,\n        colno: stackFrame.column\n      };\n      if (options.sendFrameUrl) {\n        frame.url = stackFrame.url;\n      }\n      if (frame.method && frame.method.endsWith && frame.method.endsWith('_rollbar_wrapped')) {\n        continue;\n      }\n\n      code = pre = post = null;\n      contextLength = stackFrame.context ? stackFrame.context.length : 0;\n      if (contextLength) {\n        mid = Math.floor(contextLength / 2);\n        pre = stackFrame.context.slice(0, mid);\n        code = stackFrame.context[mid];\n        post = stackFrame.context.slice(mid);\n      }\n\n      if (code) {\n        frame.code = code;\n      }\n\n      if (pre || post) {\n        frame.context = {};\n        if (pre && pre.length) {\n          frame.context.pre = pre;\n        }\n        if (post && post.length) {\n          frame.context.post = post;\n        }\n      }\n\n      if (stackFrame.args) {\n        frame.args = stackFrame.args;\n      }\n\n      trace.frames.push(frame);\n    }\n\n    // NOTE(cory): reverse the frames since rollbar.com expects the most recent call last\n    trace.frames.reverse();\n\n    if (custom) {\n      trace.extra = _.merge(custom);\n    }\n  }\n\n  return trace;\n}\n\nfunction errorClass(stackInfo, guess, options) {\n  if (stackInfo.name) {\n    return stackInfo.name;\n  } else if (options.guessErrorClass) {\n    return guess;\n  } else {\n    return '(unknown)';\n  }\n}\n\nfunction addScrubber(scrubFn) {\n  return function (item, options, callback) {\n    if (scrubFn) {\n      var scrubFields = options.scrubFields || [];\n      var scrubPaths = options.scrubPaths || [];\n      item.data = scrubFn(item.data, scrubFields, scrubPaths);\n    }\n    callback(null, item);\n  }\n}\n\nmodule.exports = {\n  handleDomException: handleDomException,\n  handleItemWithError: handleItemWithError,\n  ensureItemHasSomethingToSay: ensureItemHasSomethingToSay,\n  addBaseInfo: addBaseInfo,\n  addRequestInfo: addRequestInfo,\n  addClientInfo: addClientInfo,\n  addPluginInfo: addPluginInfo,\n  addBody: addBody,\n  addScrubber: addScrubber\n};\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('error-stack-parser', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.ErrorStackParser = factory(root.StackFrame);\n    }\n}(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code])?$/;\n\n    return {\n        /**\n         * Given an Error object, extract the most information from it.\n         *\n         * @param {Error} error object\n         * @return {Array} of StackFrames\n         */\n        parse: function ErrorStackParser$$parse(error) {\n            if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n                return this.parseOpera(error);\n            } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n                return this.parseV8OrIE(error);\n            } else if (error.stack) {\n                return this.parseFFOrSafari(error);\n            } else {\n                throw new Error('Cannot parse given Error object');\n            }\n        },\n\n        // Separate line and column numbers from a string of the form: (URI:Line:Column)\n        extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n            // Fail-fast but return locations like \"(native)\"\n            if (urlLike.indexOf(':') === -1) {\n                return [urlLike];\n            }\n\n            var regExp = /(.+?)(?::(\\d+))?(?::(\\d+))?$/;\n            var parts = regExp.exec(urlLike.replace(/[()]/g, ''));\n            return [parts[1], parts[2] || undefined, parts[3] || undefined];\n        },\n\n        parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(CHROME_IE_STACK_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                if (line.indexOf('(eval ') > -1) {\n                    // Throw away eval information until we implement stacktrace.js/stackframe#8\n                    line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^()]*)|(\\),.*$)/g, '');\n                }\n                var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(');\n\n                // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\n                // case it has spaces in it, as the string is split on \\s+ later on\n                var location = sanitizedLine.match(/ (\\((.+):(\\d+):(\\d+)\\)$)/);\n\n                // remove the parenthesized location from the line, if it was matched\n                sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\n\n                var tokens = sanitizedLine.split(/\\s+/).slice(1);\n                // if a location was matched, pass it to extractLocation() otherwise pop the last token\n                var locationParts = this.extractLocation(location ? location[1] : tokens.pop());\n                var functionName = tokens.join(' ') || undefined;\n                var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n\n                return new StackFrame({\n                    functionName: functionName,\n                    fileName: fileName,\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        },\n\n        parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                // Throw away eval information until we implement stacktrace.js/stackframe#8\n                if (line.indexOf(' > eval') > -1) {\n                    line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g, ':$1');\n                }\n\n                if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n                    // Safari eval frames only have function names and nothing else\n                    return new StackFrame({\n                        functionName: line\n                    });\n                } else {\n                    var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n                    var matches = line.match(functionNameRegex);\n                    var functionName = matches && matches[1] ? matches[1] : undefined;\n                    var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n\n                    return new StackFrame({\n                        functionName: functionName,\n                        fileName: locationParts[0],\n                        lineNumber: locationParts[1],\n                        columnNumber: locationParts[2],\n                        source: line\n                    });\n                }\n            }, this);\n        },\n\n        parseOpera: function ErrorStackParser$$parseOpera(e) {\n            if (!e.stacktrace || (e.message.indexOf('\\n') > -1 &&\n                e.message.split('\\n').length > e.stacktrace.split('\\n').length)) {\n                return this.parseOpera9(e);\n            } else if (!e.stack) {\n                return this.parseOpera10(e);\n            } else {\n                return this.parseOpera11(e);\n            }\n        },\n\n        parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n            var lines = e.message.split('\\n');\n            var result = [];\n\n            for (var i = 2, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(new StackFrame({\n                        fileName: match[2],\n                        lineNumber: match[1],\n                        source: lines[i]\n                    }));\n                }\n            }\n\n            return result;\n        },\n\n        parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n            var lines = e.stacktrace.split('\\n');\n            var result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(\n                        new StackFrame({\n                            functionName: match[3] || undefined,\n                            fileName: match[2],\n                            lineNumber: match[1],\n                            source: lines[i]\n                        })\n                    );\n                }\n            }\n\n            return result;\n        },\n\n        // Opera 10.65+ Error.stack very similar to FF/Safari\n        parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n            }, this);\n\n            return filtered.map(function(line) {\n                var tokens = line.split('@');\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionCall = (tokens.shift() || '');\n                var functionName = functionCall\n                    .replace(/<anonymous function(: (\\w+))?>/, '$2')\n                    .replace(/\\([^)]*\\)/g, '') || undefined;\n                var argsRaw;\n                if (functionCall.match(/\\(([^)]*)\\)/)) {\n                    argsRaw = functionCall.replace(/^[^(]+\\(([^)]*)\\)$/, '$1');\n                }\n                var args = (argsRaw === undefined || argsRaw === '[arguments not available]') ?\n                    undefined : argsRaw.split(',');\n\n                return new StackFrame({\n                    functionName: functionName,\n                    args: args,\n                    fileName: locationParts[0],\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        }\n    };\n}));\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stackframe', [], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.StackFrame = factory();\n    }\n}(this, function() {\n    'use strict';\n    function _isNumber(n) {\n        return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n\n    function _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.substring(1);\n    }\n\n    function _getter(p) {\n        return function() {\n            return this[p];\n        };\n    }\n\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n\n    var props = booleanProps.concat(numericProps, stringProps, arrayProps);\n\n    function StackFrame(obj) {\n        if (!obj) return;\n        for (var i = 0; i < props.length; i++) {\n            if (obj[props[i]] !== undefined) {\n                this['set' + _capitalize(props[i])](obj[props[i]]);\n            }\n        }\n    }\n\n    StackFrame.prototype = {\n        getArgs: function() {\n            return this.args;\n        },\n        setArgs: function(v) {\n            if (Object.prototype.toString.call(v) !== '[object Array]') {\n                throw new TypeError('Args must be an Array');\n            }\n            this.args = v;\n        },\n\n        getEvalOrigin: function() {\n            return this.evalOrigin;\n        },\n        setEvalOrigin: function(v) {\n            if (v instanceof StackFrame) {\n                this.evalOrigin = v;\n            } else if (v instanceof Object) {\n                this.evalOrigin = new StackFrame(v);\n            } else {\n                throw new TypeError('Eval Origin must be an Object or StackFrame');\n            }\n        },\n\n        toString: function() {\n            var fileName = this.getFileName() || '';\n            var lineNumber = this.getLineNumber() || '';\n            var columnNumber = this.getColumnNumber() || '';\n            var functionName = this.getFunctionName() || '';\n            if (this.getIsEval()) {\n                if (fileName) {\n                    return '[eval] (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n                }\n                return '[eval]:' + lineNumber + ':' + columnNumber;\n            }\n            if (functionName) {\n                return functionName + ' (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n            }\n            return fileName + ':' + lineNumber + ':' + columnNumber;\n        }\n    };\n\n    StackFrame.fromString = function StackFrame$$fromString(str) {\n        var argsStartIndex = str.indexOf('(');\n        var argsEndIndex = str.lastIndexOf(')');\n\n        var functionName = str.substring(0, argsStartIndex);\n        var args = str.substring(argsStartIndex + 1, argsEndIndex).split(',');\n        var locationString = str.substring(argsEndIndex + 1);\n\n        if (locationString.indexOf('@') === 0) {\n            var parts = /@(.+?)(?::(\\d+))?(?::(\\d+))?$/.exec(locationString, '');\n            var fileName = parts[1];\n            var lineNumber = parts[2];\n            var columnNumber = parts[3];\n        }\n\n        return new StackFrame({\n            functionName: functionName,\n            args: args || undefined,\n            fileName: fileName,\n            lineNumber: lineNumber || undefined,\n            columnNumber: columnNumber || undefined\n        });\n    };\n\n    for (var i = 0; i < booleanProps.length; i++) {\n        StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n        StackFrame.prototype['set' + _capitalize(booleanProps[i])] = (function(p) {\n            return function(v) {\n                this[p] = Boolean(v);\n            };\n        })(booleanProps[i]);\n    }\n\n    for (var j = 0; j < numericProps.length; j++) {\n        StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n        StackFrame.prototype['set' + _capitalize(numericProps[j])] = (function(p) {\n            return function(v) {\n                if (!_isNumber(v)) {\n                    throw new TypeError(p + ' must be a Number');\n                }\n                this[p] = Number(v);\n            };\n        })(numericProps[j]);\n    }\n\n    for (var k = 0; k < stringProps.length; k++) {\n        StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n        StackFrame.prototype['set' + _capitalize(stringProps[k])] = (function(p) {\n            return function(v) {\n                this[p] = String(v);\n            };\n        })(stringProps[k]);\n    }\n\n    return StackFrame;\n}));\n","'use strict';\n\nvar _ = require('./utility');\n\nfunction itemToPayload(item, options, callback) {\n  var payloadOptions = options.payload || {};\n  if (payloadOptions.body) {\n    delete payloadOptions.body;\n  }\n\n  var data = _.merge(item.data, payloadOptions);\n  if (item._isUncaught) {\n    data._isUncaught = true;\n  }\n  if (item._originalArgs) {\n    data._originalArgs = item._originalArgs;\n  }\n  callback(null, data);\n}\n\nfunction addTelemetryData(item, options, callback) {\n  if (item.telemetryEvents) {\n    _.set(item, 'data.body.telemetry', item.telemetryEvents);\n  }\n  callback(null, item);\n}\n\nfunction addMessageWithError(item, options, callback) {\n  if (!item.message) {\n    callback(null, item);\n    return;\n  }\n  var tracePath = 'data.body.trace_chain.0';\n  var trace = _.get(item, tracePath);\n  if (!trace) {\n    tracePath = 'data.body.trace';\n    trace = _.get(item, tracePath);\n  }\n  if (trace) {\n    if (!(trace.exception && trace.exception.description)) {\n      _.set(item, tracePath+'.exception.description', item.message);\n      callback(null, item);\n      return;\n    }\n    var extra = _.get(item, tracePath+'.extra') || {};\n    var newExtra =  _.merge(extra, {message: item.message});\n    _.set(item, tracePath+'.extra', newExtra);\n  }\n  callback(null, item);\n}\n\nfunction userTransform(logger) {\n  return function(item, options, callback) {\n    var newItem = _.merge(item);\n    try {\n      if (_.isFunction(options.transform)) {\n        options.transform(newItem.data, item);\n      }\n    } catch (e) {\n      options.transform = null;\n      logger.error('Error while calling custom transform() function. Removing custom transform().', e);\n      callback(null, item);\n      return;\n    }\n    callback(null, newItem);\n  }\n}\n\nfunction addConfigToPayload(item, options, callback) {\n  if (!options.sendConfig) {\n    return callback(null, item);\n  }\n  var configKey = '_rollbarConfig';\n  var custom = _.get(item, 'data.custom') || {};\n  custom[configKey] = options;\n  item.data.custom = custom;\n  callback(null, item);\n}\n\nfunction addFunctionOption(options, name) {\n  if(_.isFunction(options[name])) {\n    options[name] = options[name].toString();\n  }\n}\n\nfunction addConfiguredOptions(item, options, callback) {\n  var configuredOptions = options._configuredOptions;\n\n  // These must be stringified or they'll get dropped during serialization.\n  addFunctionOption(configuredOptions, 'transform');\n  addFunctionOption(configuredOptions, 'checkIgnore');\n  addFunctionOption(configuredOptions, 'onSendCallback');\n\n  delete configuredOptions.accessToken;\n  item.data.notifier.configured_options = configuredOptions;\n  callback(null, item);\n}\n\nfunction addDiagnosticKeys(item, options, callback) {\n  var diagnostic = _.merge(item.notifier.client.notifier.diagnostic, item.diagnostic);\n\n  if (_.get(item, 'err._isAnonymous')) {\n    diagnostic.is_anonymous = true;\n  }\n\n  if (item._isUncaught) {\n    diagnostic.is_uncaught = item._isUncaught;\n  }\n\n  if (item.err) {\n    try {\n      diagnostic.raw_error = {\n        message: item.err.message,\n        name: item.err.name,\n        constructor_name: item.err.constructor && item.err.constructor.name,\n        filename: item.err.fileName,\n        line: item.err.lineNumber,\n        column: item.err.columnNumber,\n        stack: item.err.stack\n      };\n    } catch (e) {\n      diagnostic.raw_error = { failed: String(e) };\n    }\n  }\n\n  item.data.notifier.diagnostic = _.merge(item.data.notifier.diagnostic, diagnostic);\n  callback(null, item);\n}\n\nmodule.exports = {\n  itemToPayload: itemToPayload,\n  addTelemetryData: addTelemetryData,\n  addMessageWithError: addMessageWithError,\n  userTransform: userTransform,\n  addConfigToPayload: addConfigToPayload,\n  addConfiguredOptions: addConfiguredOptions,\n  addDiagnosticKeys: addDiagnosticKeys\n};\n","'use strict';\n\nvar _ = require('../utility');\n\nfunction checkIgnore(item, settings) {\n  if (_.get(settings, 'plugins.jquery.ignoreAjaxErrors')) {\n    return !_.get(item, 'body.message.extra.isAjax');\n  }\n  return true;\n}\n\nmodule.exports = {\n  checkIgnore: checkIgnore\n};\n","'use strict';\n\nvar _ = require('./utility');\n\nfunction checkLevel(item, settings) {\n  var level = item.level;\n  var levelVal = _.LEVELS[level] || 0;\n  var reportLevel = settings.reportLevel;\n  var reportLevelVal = _.LEVELS[reportLevel] || 0;\n\n  if (levelVal < reportLevelVal) {\n    return false;\n  }\n  return true;\n}\n\nfunction userCheckIgnore(logger) {\n  return function(item, settings) {\n    var isUncaught = !!item._isUncaught;\n    delete item._isUncaught;\n    var args = item._originalArgs;\n    delete item._originalArgs;\n    try {\n      if (_.isFunction(settings.onSendCallback)) {\n        settings.onSendCallback(isUncaught, args, item);\n      }\n    } catch (e) {\n      settings.onSendCallback = null;\n      logger.error('Error while calling onSendCallback, removing', e);\n    }\n    try {\n      if (_.isFunction(settings.checkIgnore) && settings.checkIgnore(isUncaught, args, item)) {\n        return false;\n      }\n    } catch (e) {\n      settings.checkIgnore = null;\n      logger.error('Error while calling custom checkIgnore(), removing', e);\n    }\n    return true;\n  }\n}\n\nfunction urlIsNotBlockListed(logger) {\n  return function(item, settings) {\n    return !urlIsOnAList(item, settings, 'blocklist', logger);\n  }\n}\n\nfunction urlIsSafeListed(logger) {\n  return function(item, settings) {\n    return urlIsOnAList(item, settings, 'safelist', logger);\n  }\n}\n\nfunction matchFrames(trace, list, block) {\n  if (!trace) { return !block }\n\n  var frames = trace.frames;\n\n  if (!frames || frames.length === 0) { return !block; }\n\n  var frame, filename, url, urlRegex;\n  var listLength = list.length;\n  var frameLength = frames.length;\n  for (var i = 0; i < frameLength; i++) {\n    frame = frames[i];\n    filename = frame.filename;\n\n    if (!_.isType(filename, 'string')) { return !block; }\n\n    for (var j = 0; j < listLength; j++) {\n      url = list[j];\n      urlRegex = new RegExp(url);\n\n      if (urlRegex.test(filename)) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nfunction urlIsOnAList(item, settings, safeOrBlock, logger) {\n  // safelist is the default\n  var block = false;\n  if (safeOrBlock === 'blocklist') {\n    block = true;\n  }\n\n  var list, traces;\n  try {\n    list = block ? settings.hostBlockList : settings.hostSafeList;\n    traces = _.get(item, 'body.trace_chain') || [_.get(item, 'body.trace')];\n\n    // These two checks are important to come first as they are defaults\n    // in case the list is missing or the trace is missing or not well-formed\n    if (!list || list.length === 0) {\n      return !block;\n    }\n    if (traces.length === 0 || !traces[0]) {\n      return !block;\n    }\n\n    var tracesLength = traces.length;\n    for (var i = 0; i < tracesLength; i++) {\n      if(matchFrames(traces[i], list, block)) {\n        return true;\n      }\n    }\n  } catch (e)\n  /* istanbul ignore next */\n  {\n    if (block) {\n      settings.hostBlockList = null;\n    } else {\n      settings.hostSafeList = null;\n    }\n    var listName = block ? 'hostBlockList' : 'hostSafeList';\n    logger.error('Error while reading your configuration\\'s ' + listName + ' option. Removing custom ' + listName + '.', e);\n    return !block;\n  }\n  return false;\n}\n\nfunction messageIsIgnored(logger) {\n  return function(item, settings) {\n    var exceptionMessage, i, ignoredMessages,\n        len, messageIsIgnored, rIgnoredMessage,\n        body, traceMessage, bodyMessage;\n\n    try {\n      messageIsIgnored = false;\n      ignoredMessages = settings.ignoredMessages;\n\n      if (!ignoredMessages || ignoredMessages.length === 0) {\n        return true;\n      }\n\n      body = item.body;\n      traceMessage = _.get(body, 'trace.exception.message');\n      bodyMessage = _.get(body, 'message.body');\n\n      exceptionMessage = traceMessage || bodyMessage;\n\n      if (!exceptionMessage){\n        return true;\n      }\n\n      len = ignoredMessages.length;\n      for (i = 0; i < len; i++) {\n        rIgnoredMessage = new RegExp(ignoredMessages[i], 'gi');\n        messageIsIgnored = rIgnoredMessage.test(exceptionMessage);\n\n        if (messageIsIgnored) {\n          break;\n        }\n      }\n    } catch(e)\n    /* istanbul ignore next */\n    {\n      settings.ignoredMessages = null;\n      logger.error('Error while reading your configuration\\'s ignoredMessages option. Removing custom ignoredMessages.');\n    }\n\n    return !messageIsIgnored;\n  }\n}\n\nmodule.exports = {\n  checkLevel: checkLevel,\n  userCheckIgnore: userCheckIgnore,\n  urlIsNotBlockListed: urlIsNotBlockListed,\n  urlIsSafeListed: urlIsSafeListed,\n  messageIsIgnored: messageIsIgnored\n};\n","'use strict';\n\nmodule.exports = {\n  version: '2.21.0',\n  endpoint: 'api.rollbar.com/api/1/item/',\n  logLevel: 'debug',\n  reportLevel: 'debug',\n  uncaughtErrorLevel: 'error',\n  maxItems: 0,\n  itemsPerMin: 60\n}\n","'use strict';\n\nmodule.exports = {\n  scrubFields: [\n    'pw',\n    'pass',\n    'passwd',\n    'password',\n    'secret',\n    'confirm_password',\n    'confirmPassword',\n    'password_confirmation',\n    'passwordConfirmation',\n    'access_token',\n    'accessToken',\n    'X-Rollbar-Access-Token',\n    'secret_key',\n    'secretKey',\n    'secretToken',\n    'cc-number',\n    'card number',\n    'cardnumber',\n    'cardnum',\n    'ccnum',\n    'ccnumber',\n    'cc num',\n    'creditcardnumber',\n    'credit card number',\n    'newcreditcardnumber',\n    'new credit card',\n    'creditcardno',\n    'credit card no',\n    'card#',\n    'card #',\n    'cc-csc',\n    'cvc',\n    'cvc2',\n    'cvv2',\n    'ccv2',\n    'security code',\n    'card verification',\n    'name on credit card',\n    'name on card',\n    'nameoncard',\n    'cardholder',\n    'card holder',\n    'name des karteninhabers',\n    'ccname',\n    'card type',\n    'cardtype',\n    'cc type',\n    'cctype',\n    'payment type',\n    'expiration date',\n    'expirationdate',\n    'expdate',\n    'cc-exp',\n    'ccmonth',\n    'ccyear'\n  ]\n}\n","'use strict';\n\nvar _ = require('./utility');\n\nvar MAX_EVENTS = 100;\n\nfunction Telemeter(options) {\n  this.queue = [];\n  this.options = _.merge(options);\n  var maxTelemetryEvents = this.options.maxTelemetryEvents || MAX_EVENTS;\n  this.maxQueueSize = Math.max(0, Math.min(maxTelemetryEvents, MAX_EVENTS));\n}\n\nTelemeter.prototype.configure = function(options) {\n  var oldOptions = this.options;\n  this.options = _.merge(oldOptions, options);\n  var maxTelemetryEvents = this.options.maxTelemetryEvents || MAX_EVENTS;\n  var newMaxEvents = Math.max(0, Math.min(maxTelemetryEvents, MAX_EVENTS));\n  var deleteCount = 0;\n  if (this.maxQueueSize > newMaxEvents) {\n    deleteCount = this.maxQueueSize - newMaxEvents;\n  }\n  this.maxQueueSize = newMaxEvents;\n  this.queue.splice(0, deleteCount);\n};\n\nTelemeter.prototype.copyEvents = function() {\n  var events = Array.prototype.slice.call(this.queue, 0);\n  if (_.isFunction(this.options.filterTelemetry)) {\n    try {\n      var i = events.length;\n      while (i--) {\n        if (this.options.filterTelemetry(events[i])) {\n          events.splice(i, 1);\n        }\n      }\n    } catch (e) {\n      this.options.filterTelemetry = null;\n    }\n  }\n  return events;\n};\n\nTelemeter.prototype.capture = function(type, metadata, level, rollbarUUID, timestamp) {\n  var e = {\n    level: getLevel(type, level),\n    type: type,\n    timestamp_ms: timestamp || _.now(),\n    body: metadata,\n    source: 'client'\n  };\n  if (rollbarUUID) {\n    e.uuid = rollbarUUID;\n  }\n\n  try {\n    if (_.isFunction(this.options.filterTelemetry) && this.options.filterTelemetry(e)) {\n      return false;\n    }\n  } catch (exc) {\n    this.options.filterTelemetry = null;\n  }\n\n  this.push(e);\n  return e;\n};\n\nTelemeter.prototype.captureEvent = function(type, metadata, level, rollbarUUID) {\n  return this.capture(type, metadata, level, rollbarUUID);\n};\n\nTelemeter.prototype.captureError = function(err, level, rollbarUUID, timestamp) {\n  var metadata = {\n    message: err.message || String(err)\n  };\n  if (err.stack) {\n    metadata.stack = err.stack;\n  }\n  return this.capture('error', metadata, level, rollbarUUID, timestamp);\n};\n\nTelemeter.prototype.captureLog = function(message, level, rollbarUUID, timestamp) {\n  return this.capture('log', {\n    message: message\n  }, level, rollbarUUID, timestamp);\n};\n\nTelemeter.prototype.captureNetwork = function(metadata, subtype, rollbarUUID, requestData) {\n  subtype = subtype || 'xhr';\n  metadata.subtype = metadata.subtype || subtype;\n  if (requestData) {\n    metadata.request = requestData;\n  }\n  var level = this.levelFromStatus(metadata.status_code);\n  return this.capture('network', metadata, level, rollbarUUID);\n};\n\nTelemeter.prototype.levelFromStatus = function(statusCode) {\n  if (statusCode >= 200 && statusCode < 400) {\n    return 'info';\n  }\n  if (statusCode === 0 || statusCode >= 400) {\n    return 'error';\n  }\n  return 'info';\n};\n\nTelemeter.prototype.captureDom = function(subtype, element, value, checked, rollbarUUID) {\n  var metadata = {\n    subtype: subtype,\n    element: element\n  };\n  if (value !== undefined) {\n    metadata.value = value;\n  }\n  if (checked !== undefined) {\n    metadata.checked = checked;\n  }\n  return this.capture('dom', metadata, 'info', rollbarUUID);\n};\n\nTelemeter.prototype.captureNavigation = function(from, to, rollbarUUID) {\n  return this.capture('navigation', {from: from, to: to}, 'info', rollbarUUID);\n};\n\nTelemeter.prototype.captureDomContentLoaded = function(ts) {\n  return this.capture('navigation', {subtype: 'DOMContentLoaded'}, 'info', undefined, ts && ts.getTime());\n  /**\n   * If we decide to make this a dom event instead, then use the line below:\n  return this.capture('dom', {subtype: 'DOMContentLoaded'}, 'info', undefined, ts && ts.getTime());\n  */\n};\nTelemeter.prototype.captureLoad = function(ts) {\n  return this.capture('navigation', {subtype: 'load'}, 'info', undefined, ts && ts.getTime());\n  /**\n   * If we decide to make this a dom event instead, then use the line below:\n  return this.capture('dom', {subtype: 'load'}, 'info', undefined, ts && ts.getTime());\n  */\n};\n\nTelemeter.prototype.captureConnectivityChange = function(type, rollbarUUID) {\n  return this.captureNetwork({change: type}, 'connectivity', rollbarUUID);\n};\n\n// Only intended to be used internally by the notifier\nTelemeter.prototype._captureRollbarItem = function(item) {\n  if (!this.options.includeItemsInTelemetry) {\n    return;\n  }\n  if (item.err) {\n    return this.captureError(item.err, item.level, item.uuid, item.timestamp);\n  }\n  if (item.message) {\n    return this.captureLog(item.message, item.level, item.uuid, item.timestamp);\n  }\n  if (item.custom) {\n    return this.capture('log', item.custom, item.level, item.uuid, item.timestamp);\n  }\n};\n\nTelemeter.prototype.push = function(e) {\n  this.queue.push(e);\n  if (this.queue.length > this.maxQueueSize) {\n    this.queue.shift();\n  }\n};\n\nfunction getLevel(type, level) {\n  if (level) {\n    return level;\n  }\n  var defaultLevel = {\n    error: 'error',\n    manual: 'info'\n  };\n  return defaultLevel[type] || 'info';\n}\n\nmodule.exports = Telemeter;\n","'use strict';\n\nvar _ = require('../utility');\nvar scrub = require('../scrub');\nvar urlparser = require('./url');\nvar domUtil = require('./domUtility');\n\nvar defaults = {\n  network: true,\n  networkResponseHeaders: false,\n  networkResponseBody: false,\n  networkRequestHeaders: false,\n  networkRequestBody: false,\n  networkErrorOnHttp5xx: false,\n  networkErrorOnHttp4xx: false,\n  networkErrorOnHttp0: false,\n  log: true,\n  dom: true,\n  navigation: true,\n  connectivity: true,\n  contentSecurityPolicy: true,\n  errorOnContentSecurityPolicy: false\n};\n\nfunction replace(obj, name, replacement, replacements, type) {\n  var orig = obj[name];\n  obj[name] = replacement(orig);\n  if (replacements) {\n    replacements[type].push([obj, name, orig]);\n  }\n}\n\nfunction restore(replacements, type) {\n  var b;\n  while (replacements[type].length) {\n    b = replacements[type].shift();\n    b[0][b[1]] = b[2];\n  }\n}\n\nfunction nameFromDescription(description) {\n  if (!description || !description.attributes) { return null; }\n  var attrs = description.attributes;\n  for (var a = 0; a < attrs.length; ++a) {\n    if (attrs[a].key === 'name') {\n      return attrs[a].value;\n    }\n  }\n  return null;\n}\n\nfunction defaultValueScrubber(scrubFields) {\n  var patterns = [];\n  for (var i = 0; i < scrubFields.length; ++i) {\n    patterns.push(new RegExp(scrubFields[i], 'i'));\n  }\n  return function(description) {\n    var name = nameFromDescription(description);\n    if (!name) { return false; }\n    for (var i = 0; i < patterns.length; ++i) {\n      if (patterns[i].test(name)) {\n        return true;\n      }\n    }\n    return false;\n  };\n}\n\nfunction Instrumenter(options, telemeter, rollbar, _window, _document) {\n  this.options = options;\n  var autoInstrument = options.autoInstrument;\n  if (options.enabled === false || autoInstrument === false) {\n    this.autoInstrument = {};\n  } else {\n    if (!_.isType(autoInstrument, 'object')) {\n      autoInstrument = defaults;\n    }\n    this.autoInstrument = _.merge(defaults, autoInstrument);\n  }\n  this.scrubTelemetryInputs = !!options.scrubTelemetryInputs;\n  this.telemetryScrubber = options.telemetryScrubber;\n  this.defaultValueScrubber = defaultValueScrubber(options.scrubFields);\n  this.telemeter = telemeter;\n  this.rollbar = rollbar;\n  this.diagnostic = rollbar.client.notifier.diagnostic;\n  this._window = _window || {};\n  this._document = _document || {};\n  this.replacements = {\n    network: [],\n    log: [],\n    navigation: [],\n    connectivity: []\n  };\n  this.eventRemovers = {\n    dom: [],\n    connectivity: [],\n    contentsecuritypolicy: []\n  };\n\n  this._location = this._window.location;\n  this._lastHref = this._location && this._location.href;\n}\n\nInstrumenter.prototype.configure = function(options) {\n  this.options = _.merge(this.options, options);\n  var autoInstrument = options.autoInstrument;\n  var oldSettings = _.merge(this.autoInstrument);\n  if (options.enabled === false || autoInstrument === false) {\n    this.autoInstrument = {};\n  } else {\n    if (!_.isType(autoInstrument, 'object')) {\n      autoInstrument = defaults;\n    }\n    this.autoInstrument = _.merge(defaults, autoInstrument);\n  }\n  this.instrument(oldSettings);\n  if (options.scrubTelemetryInputs !== undefined) {\n    this.scrubTelemetryInputs = !!options.scrubTelemetryInputs;\n  }\n  if (options.telemetryScrubber !== undefined) {\n    this.telemetryScrubber = options.telemetryScrubber;\n  }\n};\n\n// eslint-disable-next-line complexity\nInstrumenter.prototype.instrument = function(oldSettings) {\n  if (this.autoInstrument.network && !(oldSettings && oldSettings.network)) {\n    this.instrumentNetwork();\n  } else if (!this.autoInstrument.network && oldSettings && oldSettings.network) {\n    this.deinstrumentNetwork();\n  }\n\n  if (this.autoInstrument.log && !(oldSettings && oldSettings.log)) {\n    this.instrumentConsole();\n  } else if (!this.autoInstrument.log && oldSettings && oldSettings.log) {\n    this.deinstrumentConsole();\n  }\n\n  if (this.autoInstrument.dom && !(oldSettings && oldSettings.dom)) {\n    this.instrumentDom();\n  } else if (!this.autoInstrument.dom && oldSettings && oldSettings.dom) {\n    this.deinstrumentDom();\n  }\n\n  if (this.autoInstrument.navigation && !(oldSettings && oldSettings.navigation)) {\n    this.instrumentNavigation();\n  } else if (!this.autoInstrument.navigation && oldSettings && oldSettings.navigation) {\n    this.deinstrumentNavigation();\n  }\n\n  if (this.autoInstrument.connectivity && !(oldSettings && oldSettings.connectivity)) {\n    this.instrumentConnectivity();\n  } else if (!this.autoInstrument.connectivity && oldSettings && oldSettings.connectivity) {\n    this.deinstrumentConnectivity();\n  }\n\n  if (this.autoInstrument.contentSecurityPolicy && !(oldSettings && oldSettings.contentSecurityPolicy)) {\n    this.instrumentContentSecurityPolicy();\n  } else if (!this.autoInstrument.contentSecurityPolicy && oldSettings && oldSettings.contentSecurityPolicy) {\n    this.deinstrumentContentSecurityPolicy();\n  }\n};\n\nInstrumenter.prototype.deinstrumentNetwork = function() {\n  restore(this.replacements, 'network');\n};\n\nInstrumenter.prototype.instrumentNetwork = function() {\n  var self = this;\n\n  function wrapProp(prop, xhr) {\n    if (prop in xhr && _.isFunction(xhr[prop])) {\n      replace(xhr, prop, function(orig) {\n        return self.rollbar.wrap(orig);\n      });\n    }\n  }\n\n  if ('XMLHttpRequest' in this._window) {\n    var xhrp = this._window.XMLHttpRequest.prototype;\n    replace(xhrp, 'open', function(orig) {\n      return function(method, url) {\n        if (_.isType(url, 'string')) {\n          if (this.__rollbar_xhr) {\n            this.__rollbar_xhr.method = method;\n            this.__rollbar_xhr.url = url;\n            this.__rollbar_xhr.status_code = null;\n            this.__rollbar_xhr.start_time_ms = _.now();\n            this.__rollbar_xhr.end_time_ms = null;\n          } else {\n            this.__rollbar_xhr = {\n              method: method,\n              url: url,\n              status_code: null,\n              start_time_ms: _.now(),\n              end_time_ms: null\n            };\n          }\n        }\n        return orig.apply(this, arguments);\n      };\n    }, this.replacements, 'network');\n\n    replace(xhrp, 'setRequestHeader', function(orig) {\n      return function(header, value) {\n        // If xhr.open is async, __rollbar_xhr may not be initialized yet.\n        if (!this.__rollbar_xhr) {\n          this.__rollbar_xhr = {};\n        }\n        if (_.isType(header, 'string') && _.isType(value, 'string')) {\n          if (self.autoInstrument.networkRequestHeaders) {\n            if (!this.__rollbar_xhr.request_headers) {\n              this.__rollbar_xhr.request_headers = {};\n            }\n            this.__rollbar_xhr.request_headers[header] = value;\n          }\n          // We want the content type even if request header telemetry is off.\n          if (header.toLowerCase() === 'content-type') {\n            this.__rollbar_xhr.request_content_type = value;\n          }\n        }\n        return orig.apply(this, arguments);\n      };\n    }, this.replacements, 'network');\n\n    replace(xhrp, 'send', function(orig) {\n      /* eslint-disable no-unused-vars */\n      return function(data) {\n      /* eslint-enable no-unused-vars */\n        var xhr = this;\n\n        function onreadystatechangeHandler() {\n          if (xhr.__rollbar_xhr) {\n            if (xhr.__rollbar_xhr.status_code === null) {\n              xhr.__rollbar_xhr.status_code = 0;\n              if (self.autoInstrument.networkRequestBody) {\n                xhr.__rollbar_xhr.request = data;\n              }\n              xhr.__rollbar_event = self.captureNetwork(xhr.__rollbar_xhr, 'xhr', undefined);\n            }\n            if (xhr.readyState < 2) {\n              xhr.__rollbar_xhr.start_time_ms = _.now();\n            }\n            if (xhr.readyState > 3) {\n              xhr.__rollbar_xhr.end_time_ms = _.now();\n\n              var headers = null;\n              xhr.__rollbar_xhr.response_content_type = xhr.getResponseHeader('Content-Type');\n              if (self.autoInstrument.networkResponseHeaders) {\n                var headersConfig = self.autoInstrument.networkResponseHeaders;\n                headers = {};\n                try {\n                  var header, i;\n                  if (headersConfig === true) {\n                    var allHeaders = xhr.getAllResponseHeaders();\n                    if (allHeaders) {\n                      var arr = allHeaders.trim().split(/[\\r\\n]+/);\n                      var parts, value;\n                      for (i=0; i < arr.length; i++) {\n                        parts = arr[i].split(': ');\n                        header = parts.shift();\n                        value = parts.join(': ');\n                        headers[header] = value;\n                      }\n                    }\n                  } else {\n                    for (i=0; i < headersConfig.length; i++) {\n                      header = headersConfig[i];\n                      headers[header] = xhr.getResponseHeader(header);\n                    }\n                  }\n                } catch (e) {\n                  /* we ignore the errors here that could come from different\n                   * browser issues with the xhr methods */\n                }\n              }\n              var body = null;\n              if (self.autoInstrument.networkResponseBody) {\n                try {\n                  body = xhr.responseText;\n                } catch (e) {\n                  /* ignore errors from reading responseText */\n                }\n              }\n              var response = null;\n              if (body || headers) {\n                response = {};\n                if (body) {\n                  if (self.isJsonContentType(xhr.__rollbar_xhr.response_content_type)) {\n                    response.body = self.scrubJson(body);\n                  } else {\n                    response.body = body;\n                  }\n                }\n                if (headers) {\n                  response.headers = headers;\n                }\n              }\n              if (response) {\n                xhr.__rollbar_xhr.response = response;\n              }\n              try {\n                var code = xhr.status;\n                code = code === 1223 ? 204 : code;\n                xhr.__rollbar_xhr.status_code = code;\n                xhr.__rollbar_event.level = self.telemeter.levelFromStatus(code);\n                self.errorOnHttpStatus(xhr.__rollbar_xhr);\n              } catch (e) {\n                /* ignore possible exception from xhr.status */\n              }\n            }\n          }\n        }\n\n        wrapProp('onload', xhr);\n        wrapProp('onerror', xhr);\n        wrapProp('onprogress', xhr);\n\n        if ('onreadystatechange' in xhr && _.isFunction(xhr.onreadystatechange)) {\n          replace(xhr, 'onreadystatechange', function(orig) {\n            return self.rollbar.wrap(orig, undefined, onreadystatechangeHandler);\n          });\n        } else {\n          xhr.onreadystatechange = onreadystatechangeHandler;\n        }\n        if (xhr.__rollbar_xhr && self.trackHttpErrors()) {\n          xhr.__rollbar_xhr.stack = (new Error()).stack;\n        }\n        return orig.apply(this, arguments);\n      }\n    }, this.replacements, 'network');\n  }\n\n  if ('fetch' in this._window) {\n    replace(this._window, 'fetch', function(orig) {\n      /* eslint-disable no-unused-vars */\n      return function(fn, t) {\n      /* eslint-enable no-unused-vars */\n        var args = new Array(arguments.length);\n        for (var i=0, len=args.length; i < len; i++) {\n          args[i] = arguments[i];\n        }\n        var input = args[0];\n        var method = 'GET';\n        var url;\n        if (_.isType(input, 'string')) {\n          url = input;\n        } else if (input) {\n          url = input.url;\n          if (input.method) {\n            method = input.method;\n          }\n        }\n        if (args[1] && args[1].method) {\n          method = args[1].method;\n        }\n        var metadata = {\n          method: method,\n          url: url,\n          status_code: null,\n          start_time_ms: _.now(),\n          end_time_ms: null\n        };\n        if (args[1] && args[1].headers) {\n          // Argument may be a Headers object, or plain object. Ensure here that\n          // we are working with a Headers object with case-insensitive keys.\n          var reqHeaders = new Headers(args[1].headers);\n\n          metadata.request_content_type = reqHeaders.get('Content-Type');\n\n          if (self.autoInstrument.networkRequestHeaders) {\n            metadata.request_headers = self.fetchHeaders(reqHeaders, self.autoInstrument.networkRequestHeaders)\n          }\n        }\n\n        if (self.autoInstrument.networkRequestBody) {\n          if (args[1] && args[1].body) {\n            metadata.request = args[1].body;\n          } else if (args[0] && !_.isType(args[0], 'string') && args[0].body) {\n            metadata.request = args[0].body;\n          }\n        }\n        self.captureNetwork(metadata, 'fetch', undefined);\n        if (self.trackHttpErrors()) {\n          metadata.stack = (new Error()).stack;\n        }\n        return orig.apply(this, args).then(function (resp) {\n          metadata.end_time_ms = _.now();\n          metadata.status_code = resp.status;\n          metadata.response_content_type = resp.headers.get('Content-Type');\n          var headers = null;\n          if (self.autoInstrument.networkResponseHeaders) {\n            headers = self.fetchHeaders(resp.headers, self.autoInstrument.networkResponseHeaders);\n          }\n          var body = null;\n          if (self.autoInstrument.networkResponseBody) {\n            if (typeof resp.text === 'function') { // Response.text() is not implemented on some platforms\n              // The response must be cloned to prevent reading (and locking) the original stream.\n              body = resp.clone().text(); //returns a Promise\n            }\n          }\n          if (headers || body) {\n            metadata.response = {};\n            if (body) {\n              // Test to ensure body is a Promise, which it should always be.\n              if (typeof body.then === 'function') {\n                body.then(function (text) {\n                  if (self.isJsonContentType(metadata.response_content_type)) {\n                    metadata.response.body = self.scrubJson(text);\n                  }\n                });\n              } else {\n                metadata.response.body = body;\n              }\n            }\n            if (headers) {\n              metadata.response.headers = headers;\n            }\n          }\n          self.errorOnHttpStatus(metadata);\n          return resp;\n        });\n      };\n    }, this.replacements, 'network');\n  }\n};\n\nInstrumenter.prototype.captureNetwork = function(metadata, subtype, rollbarUUID) {\n  if (metadata.request && this.isJsonContentType(metadata.request_content_type)) {\n    metadata.request = this.scrubJson(metadata.request);\n  }\n  return this.telemeter.captureNetwork(metadata, subtype, rollbarUUID);\n};\n\nInstrumenter.prototype.isJsonContentType = function(contentType) {\n  return (contentType && _.isType(contentType, 'string') && contentType.toLowerCase().includes('json')) ? true : false;\n}\n\nInstrumenter.prototype.scrubJson = function(json) {\n  return JSON.stringify(scrub(JSON.parse(json), this.options.scrubFields));\n}\n\nInstrumenter.prototype.fetchHeaders = function(inHeaders, headersConfig) {\n  var outHeaders = {};\n  try {\n    var i;\n    if (headersConfig === true) {\n      if (typeof inHeaders.entries === 'function') { // Headers.entries() is not implemented in IE\n        var allHeaders = inHeaders.entries();\n        var currentHeader = allHeaders.next();\n        while (!currentHeader.done) {\n          outHeaders[currentHeader.value[0]] = currentHeader.value[1];\n          currentHeader = allHeaders.next();\n        }\n      }\n    } else {\n      for (i=0; i < headersConfig.length; i++) {\n        var header = headersConfig[i];\n        outHeaders[header] = inHeaders.get(header);\n      }\n    }\n  } catch (e) {\n    /* ignore probable IE errors */\n  }\n  return outHeaders;\n}\n\nInstrumenter.prototype.trackHttpErrors = function() {\n  return this.autoInstrument.networkErrorOnHttp5xx ||\n    this.autoInstrument.networkErrorOnHttp4xx ||\n    this.autoInstrument.networkErrorOnHttp0;\n}\n\nInstrumenter.prototype.errorOnHttpStatus = function(metadata) {\n  var status = metadata.status_code;\n\n  if ((status >= 500 && this.autoInstrument.networkErrorOnHttp5xx) ||\n    (status >= 400 && this.autoInstrument.networkErrorOnHttp4xx) ||\n    (status === 0 && this.autoInstrument.networkErrorOnHttp0)) {\n    var error = new Error('HTTP request failed with Status ' + status);\n    error.stack = metadata.stack;\n    this.rollbar.error(error, { skipFrames: 1 });\n  }\n}\n\nInstrumenter.prototype.deinstrumentConsole = function() {\n  if (!('console' in this._window && this._window.console.log)) {\n    return;\n  }\n  var b;\n  while (this.replacements['log'].length) {\n    b = this.replacements['log'].shift();\n    this._window.console[b[0]] = b[1];\n  }\n};\n\nInstrumenter.prototype.instrumentConsole = function() {\n  if (!('console' in this._window && this._window.console.log)) {\n    return;\n  }\n\n  var self = this;\n  var c = this._window.console;\n\n  function wrapConsole(method) {\n    'use strict'; // See https://github.com/rollbar/rollbar.js/pull/778\n\n    var orig = c[method];\n    var origConsole = c;\n    var level = method === 'warn' ? 'warning' : method;\n    c[method] = function() {\n      var args = Array.prototype.slice.call(arguments);\n      var message = _.formatArgsAsString(args);\n      self.telemeter.captureLog(message, level);\n      if (orig) {\n        Function.prototype.apply.call(orig, origConsole, args);\n      }\n    };\n    self.replacements['log'].push([method, orig]);\n  }\n  var methods = ['debug','info','warn','error','log'];\n  try {\n    for (var i=0, len=methods.length; i < len; i++) {\n      wrapConsole(methods[i]);\n    }\n  } catch (e) {\n    this.diagnostic.instrumentConsole = { error: e.message };\n  }\n};\n\nInstrumenter.prototype.deinstrumentDom = function() {\n  if (!('addEventListener' in this._window || 'attachEvent' in this._window)) {\n    return;\n  }\n  this.removeListeners('dom');\n};\n\nInstrumenter.prototype.instrumentDom = function() {\n  if (!('addEventListener' in this._window || 'attachEvent' in this._window)) {\n    return;\n  }\n  var clickHandler = this.handleClick.bind(this);\n  var blurHandler = this.handleBlur.bind(this);\n  this.addListener('dom', this._window, 'click', 'onclick', clickHandler, true);\n  this.addListener('dom', this._window, 'blur', 'onfocusout', blurHandler, true);\n};\n\nInstrumenter.prototype.handleClick = function(evt) {\n  try {\n    var e = domUtil.getElementFromEvent(evt, this._document);\n    var hasTag = e && e.tagName;\n    var anchorOrButton = domUtil.isDescribedElement(e, 'a') || domUtil.isDescribedElement(e, 'button');\n    if (hasTag && (anchorOrButton || domUtil.isDescribedElement(e, 'input', ['button', 'submit']))) {\n        this.captureDomEvent('click', e);\n    } else if (domUtil.isDescribedElement(e, 'input', ['checkbox', 'radio'])) {\n      this.captureDomEvent('input', e, e.value, e.checked);\n    }\n  } catch (exc) {\n    // TODO: Not sure what to do here\n  }\n};\n\nInstrumenter.prototype.handleBlur = function(evt) {\n  try {\n    var e = domUtil.getElementFromEvent(evt, this._document);\n    if (e && e.tagName) {\n      if (domUtil.isDescribedElement(e, 'textarea')) {\n        this.captureDomEvent('input', e, e.value);\n      } else if (domUtil.isDescribedElement(e, 'select') && e.options && e.options.length) {\n        this.handleSelectInputChanged(e);\n      } else if (domUtil.isDescribedElement(e, 'input') && !domUtil.isDescribedElement(e, 'input', ['button', 'submit', 'hidden', 'checkbox', 'radio'])) {\n        this.captureDomEvent('input', e, e.value);\n      }\n    }\n  } catch (exc) {\n    // TODO: Not sure what to do here\n  }\n};\n\nInstrumenter.prototype.handleSelectInputChanged = function(elem) {\n  if (elem.multiple) {\n    for (var i = 0; i < elem.options.length; i++) {\n      if (elem.options[i].selected) {\n        this.captureDomEvent('input', elem, elem.options[i].value);\n      }\n    }\n  } else if (elem.selectedIndex >= 0 && elem.options[elem.selectedIndex]) {\n    this.captureDomEvent('input', elem, elem.options[elem.selectedIndex].value);\n  }\n};\n\nInstrumenter.prototype.captureDomEvent = function(subtype, element, value, isChecked) {\n  if (value !== undefined) {\n    if (this.scrubTelemetryInputs || (domUtil.getElementType(element) === 'password')) {\n      value = '[scrubbed]';\n    } else {\n      var description = domUtil.describeElement(element);\n      if (this.telemetryScrubber) {\n        if (this.telemetryScrubber(description)) {\n          value = '[scrubbed]';\n        }\n      } else if (this.defaultValueScrubber(description)) {\n        value = '[scrubbed]';\n      }\n    }\n  }\n  var elementString = domUtil.elementArrayToString(domUtil.treeToArray(element));\n  this.telemeter.captureDom(subtype, elementString, value, isChecked);\n};\n\nInstrumenter.prototype.deinstrumentNavigation = function() {\n  var chrome = this._window.chrome;\n  var chromePackagedApp = chrome && chrome.app && chrome.app.runtime;\n  // See https://github.com/angular/angular.js/pull/13945/files\n  var hasPushState = !chromePackagedApp && this._window.history && this._window.history.pushState;\n  if (!hasPushState) {\n    return;\n  }\n  restore(this.replacements, 'navigation');\n};\n\nInstrumenter.prototype.instrumentNavigation = function() {\n  var chrome = this._window.chrome;\n  var chromePackagedApp = chrome && chrome.app && chrome.app.runtime;\n  // See https://github.com/angular/angular.js/pull/13945/files\n  var hasPushState = !chromePackagedApp && this._window.history && this._window.history.pushState;\n  if (!hasPushState) {\n    return;\n  }\n  var self = this;\n  replace(this._window, 'onpopstate', function(orig) {\n    return function() {\n      var current = self._location.href;\n      self.handleUrlChange(self._lastHref, current);\n      if (orig) {\n        orig.apply(this, arguments);\n      }\n    };\n  }, this.replacements, 'navigation');\n\n  replace(this._window.history, 'pushState', function(orig) {\n    return function() {\n      var url = arguments.length > 2 ? arguments[2] : undefined;\n      if (url) {\n        self.handleUrlChange(self._lastHref, url + '');\n      }\n      return orig.apply(this, arguments);\n    };\n  }, this.replacements, 'navigation');\n};\n\nInstrumenter.prototype.handleUrlChange = function(from, to) {\n  var parsedHref = urlparser.parse(this._location.href);\n  var parsedTo = urlparser.parse(to);\n  var parsedFrom = urlparser.parse(from);\n  this._lastHref = to;\n  if (parsedHref.protocol === parsedTo.protocol && parsedHref.host === parsedTo.host) {\n    to = parsedTo.path + (parsedTo.hash || '');\n  }\n  if (parsedHref.protocol === parsedFrom.protocol && parsedHref.host === parsedFrom.host) {\n    from = parsedFrom.path + (parsedFrom.hash || '');\n  }\n  this.telemeter.captureNavigation(from, to);\n};\n\nInstrumenter.prototype.deinstrumentConnectivity = function() {\n  if (!('addEventListener' in this._window || 'body' in this._document)) {\n    return;\n  }\n  if (this._window.addEventListener) {\n    this.removeListeners('connectivity');\n  } else {\n    restore(this.replacements, 'connectivity');\n  }\n};\n\nInstrumenter.prototype.instrumentConnectivity = function() {\n  if (!('addEventListener' in this._window || 'body' in this._document)) {\n    return;\n  }\n  if (this._window.addEventListener) {\n    this.addListener('connectivity', this._window, 'online', undefined, function() {\n      this.telemeter.captureConnectivityChange('online');\n    }.bind(this), true);\n    this.addListener('connectivity', this._window, 'offline', undefined, function() {\n      this.telemeter.captureConnectivityChange('offline');\n    }.bind(this), true);\n  } else {\n    var self = this;\n    replace(this._document.body, 'ononline', function(orig) {\n      return function() {\n        self.telemeter.captureConnectivityChange('online');\n        if (orig) {\n          orig.apply(this, arguments);\n        }\n      }\n    }, this.replacements, 'connectivity');\n    replace(this._document.body, 'onoffline', function(orig) {\n      return function() {\n        self.telemeter.captureConnectivityChange('offline');\n        if (orig) {\n          orig.apply(this, arguments);\n        }\n      }\n    }, this.replacements, 'connectivity');\n  }\n};\n\nInstrumenter.prototype.handleCspEvent = function(cspEvent) {\n  var message = 'Security Policy Violation: ' +\n    'blockedURI: ' + cspEvent.blockedURI + ', ' +\n    'violatedDirective: ' + cspEvent.violatedDirective + ', ' +\n    'effectiveDirective: ' + cspEvent.effectiveDirective + ', ';\n\n  if (cspEvent.sourceFile) {\n    message += 'location: ' + cspEvent.sourceFile + ', ' +\n      'line: ' + cspEvent.lineNumber + ', ' +\n      'col: ' + cspEvent.columnNumber + ', ';\n  }\n\n  message += 'originalPolicy: ' + cspEvent.originalPolicy;\n\n  this.telemeter.captureLog(message, 'error');\n  this.handleCspError(message);\n}\n\nInstrumenter.prototype.handleCspError = function(message) {\n  if (this.autoInstrument.errorOnContentSecurityPolicy) {\n    this.rollbar.error(message);\n  }\n}\n\nInstrumenter.prototype.deinstrumentContentSecurityPolicy = function() {\n  if (!('addEventListener' in this._window)) { return; }\n\n  this.removeListeners('contentsecuritypolicy');\n};\n\nInstrumenter.prototype.instrumentContentSecurityPolicy = function() {\n  if (!('addEventListener' in this._window)) { return; }\n\n  var cspHandler = this.handleCspEvent.bind(this);\n  this.addListener('contentsecuritypolicy', this._window, 'securitypolicyviolation', null, cspHandler, false);\n};\n\nInstrumenter.prototype.addListener = function(section, obj, type, altType, handler, capture) {\n  if (obj.addEventListener) {\n    obj.addEventListener(type, handler, capture);\n    this.eventRemovers[section].push(function() {\n      obj.removeEventListener(type, handler, capture);\n    });\n  } else if (altType) {\n    obj.attachEvent(altType, handler);\n    this.eventRemovers[section].push(function() {\n      obj.detachEvent(altType, handler);\n    });\n  }\n};\n\nInstrumenter.prototype.removeListeners = function(section) {\n  var r;\n  while (this.eventRemovers[section].length) {\n    r = this.eventRemovers[section].shift();\n    r();\n  }\n};\n\nmodule.exports = Instrumenter;\n","'use strict';\n\nfunction getElementType(e) {\n  return (e.getAttribute('type') || '').toLowerCase();\n}\n\nfunction isDescribedElement(element, type, subtypes) {\n  if (element.tagName.toLowerCase() !== type.toLowerCase()) {\n    return false;\n  }\n  if (!subtypes) {\n    return true;\n  }\n  element = getElementType(element);\n  for (var i = 0; i < subtypes.length; i++) {\n    if (subtypes[i] === element) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction getElementFromEvent(evt, doc) {\n  if (evt.target) {\n    return evt.target;\n  }\n  if (doc && doc.elementFromPoint) {\n    return doc.elementFromPoint(evt.clientX, evt.clientY);\n  }\n  return undefined;\n}\n\nfunction treeToArray(elem) {\n  var MAX_HEIGHT = 5;\n  var out = [];\n  var nextDescription;\n  for (var height = 0; elem && height < MAX_HEIGHT; height++) {\n    nextDescription = describeElement(elem);\n    if (nextDescription.tagName === 'html') {\n      break;\n    }\n    out.unshift(nextDescription);\n    elem = elem.parentNode;\n  }\n  return out;\n}\n\nfunction elementArrayToString(a) {\n  var MAX_LENGTH = 80;\n  var separator = ' > ', separatorLength = separator.length;\n  var out = [], len = 0, nextStr, totalLength;\n\n  for (var i = a.length - 1; i >= 0; i--) {\n    nextStr = descriptionToString(a[i]);\n    totalLength = len + (out.length * separatorLength) + nextStr.length;\n    if (i < a.length - 1 && totalLength >= MAX_LENGTH + 3) {\n      out.unshift('...');\n      break;\n    }\n    out.unshift(nextStr);\n    len += nextStr.length;\n  }\n  return out.join(separator);\n}\n\nfunction descriptionToString(desc) {\n  if (!desc || !desc.tagName) {\n    return '';\n  }\n  var out = [desc.tagName];\n  if (desc.id) {\n    out.push('#' + desc.id);\n  }\n  if (desc.classes) {\n    out.push('.' + desc.classes.join('.'));\n  }\n  for (var i = 0; i < desc.attributes.length; i++) {\n    out.push('[' + desc.attributes[i].key + '=\"' + desc.attributes[i].value + '\"]');\n  }\n\n  return out.join('');\n}\n\n/**\n * Input: a dom element\n * Output: null if tagName is falsey or input is falsey, else\n *  {\n *    tagName: String,\n *    id: String | undefined,\n *    classes: [String] | undefined,\n *    attributes: [\n *      {\n *        key: OneOf(type, name, title, alt),\n *        value: String\n *      }\n *    ]\n *  }\n */\nfunction describeElement(elem) {\n  if (!elem || !elem.tagName) {\n    return null;\n  }\n  var out = {}, className, key, attr, i;\n  out.tagName = elem.tagName.toLowerCase();\n  if (elem.id) {\n    out.id = elem.id;\n  }\n  className = elem.className;\n  if (className && (typeof className === 'string')) {\n    out.classes = className.split(/\\s+/);\n  }\n  var attributes = ['type', 'name', 'title', 'alt'];\n  out.attributes = [];\n  for (i = 0; i < attributes.length; i++) {\n    key = attributes[i];\n    attr = elem.getAttribute(key);\n    if (attr) {\n      out.attributes.push({key: key, value: attr});\n    }\n  }\n  return out;\n}\n\nmodule.exports = {\n  describeElement: describeElement,\n  descriptionToString: descriptionToString,\n  elementArrayToString: elementArrayToString,\n  treeToArray: treeToArray,\n  getElementFromEvent: getElementFromEvent,\n  isDescribedElement: isDescribedElement,\n  getElementType: getElementType\n};\n","'use strict';\n\nvar polyfillJSON = require('../../vendor/JSON-js/json3');\n\nmodule.exports = polyfillJSON;\n","//  json3.js\n//  2017-02-21\n//  Public Domain.\n//  NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.\n//  See http://www.JSON.org/js.html\n//  This code should be minified before deployment.\n//  See http://javascript.crockford.com/jsmin.html\n\n//  USE YOUR OWN COPY. IT IS EXTREMELY UNWISE TO LOAD CODE FROM SERVERS YOU DO\n//  NOT CONTROL.\n\n//  This file creates a global JSON object containing two methods: stringify\n//  and parse. This file provides the ES5 JSON capability to ES3 systems.\n//  If a project might run on IE8 or earlier, then this file should be included.\n//  This file does nothing on ES5 systems.\n\n//      JSON.stringify(value, replacer, space)\n//          value       any JavaScript value, usually an object or array.\n//          replacer    an optional parameter that determines how object\n//                      values are stringified for objects. It can be a\n//                      function or an array of strings.\n//          space       an optional parameter that specifies the indentation\n//                      of nested structures. If it is omitted, the text will\n//                      be packed without extra whitespace. If it is a number,\n//                      it will specify the number of spaces to indent at each\n//                      level. If it is a string (such as \"\\t\" or \"&nbsp;\"),\n//                      it contains the characters used to indent at each level.\n//          This method produces a JSON text from a JavaScript value.\n//          When an object value is found, if the object contains a toJSON\n//          method, its toJSON method will be called and the result will be\n//          stringified. A toJSON method does not serialize: it returns the\n//          value represented by the name/value pair that should be serialized,\n//          or undefined if nothing should be serialized. The toJSON method\n//          will be passed the key associated with the value, and this will be\n//          bound to the value.\n\n//          For example, this would serialize Dates as ISO strings.\n\n//              Date.prototype.toJSON = function (key) {\n//                  function f(n) {\n//                      // Format integers to have at least two digits.\n//                      return (n < 10)\n//                          ? \"0\" + n\n//                          : n;\n//                  }\n//                  return this.getUTCFullYear()   + \"-\" +\n//                       f(this.getUTCMonth() + 1) + \"-\" +\n//                       f(this.getUTCDate())      + \"T\" +\n//                       f(this.getUTCHours())     + \":\" +\n//                       f(this.getUTCMinutes())   + \":\" +\n//                       f(this.getUTCSeconds())   + \"Z\";\n//              };\n\n//          You can provide an optional replacer method. It will be passed the\n//          key and value of each member, with this bound to the containing\n//          object. The value that is returned from your method will be\n//          serialized. If your method returns undefined, then the member will\n//          be excluded from the serialization.\n\n//          If the replacer parameter is an array of strings, then it will be\n//          used to select the members to be serialized. It filters the results\n//          such that only members with keys listed in the replacer array are\n//          stringified.\n\n//          Values that do not have JSON representations, such as undefined or\n//          functions, will not be serialized. Such values in objects will be\n//          dropped; in arrays they will be replaced with null. You can use\n//          a replacer function to replace those with JSON values.\n\n//          JSON.stringify(undefined) returns undefined.\n\n//          The optional space parameter produces a stringification of the\n//          value that is filled with line breaks and indentation to make it\n//          easier to read.\n\n//          If the space parameter is a non-empty string, then that string will\n//          be used for indentation. If the space parameter is a number, then\n//          the indentation will be that many spaces.\n\n//          Example:\n\n//          text = JSON.stringify([\"e\", {pluribus: \"unum\"}]);\n//          // text is '[\"e\",{\"pluribus\":\"unum\"}]'\n\n//          text = JSON.stringify([\"e\", {pluribus: \"unum\"}], null, \"\\t\");\n//          // text is '[\\n\\t\"e\",\\n\\t{\\n\\t\\t\"pluribus\": \"unum\"\\n\\t}\\n]'\n\n//          text = JSON.stringify([new Date()], function (key, value) {\n//              return this[key] instanceof Date\n//                  ? \"Date(\" + this[key] + \")\"\n//                  : value;\n//          });\n//          // text is '[\"Date(---current time---)\"]'\n\n//      JSON.parse(text, reviver)\n//          This method parses a JSON text to produce an object or array.\n//          It can throw a SyntaxError exception.\n//          This has been modified to use JSON-js/json_parse_state.js as the\n//          parser instead of the one built around eval found in JSON-js/json2.js\n\n//          The optional reviver parameter is a function that can filter and\n//          transform the results. It receives each of the keys and values,\n//          and its return value is used instead of the original value.\n//          If it returns what it received, then the structure is not modified.\n//          If it returns undefined then the member is deleted.\n\n//          Example:\n\n//          // Parse the text. Values that look like ISO date strings will\n//          // be converted to Date objects.\n\n//          myData = JSON.parse(text, function (key, value) {\n//              var a;\n//              if (typeof value === \"string\") {\n//                  a =\n//   /^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2}(?:\\.\\d*)?)Z$/.exec(value);\n//                  if (a) {\n//                      return new Date(Date.UTC(+a[1], +a[2] - 1, +a[3], +a[4],\n//                          +a[5], +a[6]));\n//                  }\n//              }\n//              return value;\n//          });\n\n//          myData = JSON.parse('[\"Date(09/09/2001)\"]', function (key, value) {\n//              var d;\n//              if (typeof value === \"string\" &&\n//                      value.slice(0, 5) === \"Date(\" &&\n//                      value.slice(-1) === \")\") {\n//                  d = new Date(value.slice(5, -1));\n//                  if (d) {\n//                      return d;\n//                  }\n//              }\n//              return value;\n//          });\n\n//  This is a reference implementation. You are free to copy, modify, or\n//  redistribute.\n\n/*jslint\n  for, this\n  */\n\n/*property\n  JSON, apply, call, charCodeAt, getUTCDate, getUTCFullYear, getUTCHours,\n  getUTCMinutes, getUTCMonth, getUTCSeconds, hasOwnProperty, join,\n  lastIndex, length, parse, prototype, push, replace, slice, stringify,\n  test, toJSON, toString, valueOf\n  */\n\nvar setupCustomJSON = function(JSON) {\n\n  var rx_one = /^[\\],:{}\\s]*$/;\n  var rx_two = /\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g;\n  var rx_three = /\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\n  var rx_four = /(?:^|:|,)(?:\\s*\\[)+/g;\n  var rx_escapable = /[\\\\\"\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;\n  var rx_dangerous = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;\n\n  function f(n) {\n    // Format integers to have at least two digits.\n    return n < 10\n      ? \"0\" + n\n      : n;\n  }\n\n  function this_value() {\n    return this.valueOf();\n  }\n\n  if (typeof Date.prototype.toJSON !== \"function\") {\n\n    Date.prototype.toJSON = function () {\n\n      return isFinite(this.valueOf())\n        ? this.getUTCFullYear() + \"-\" +\n        f(this.getUTCMonth() + 1) + \"-\" +\n        f(this.getUTCDate()) + \"T\" +\n        f(this.getUTCHours()) + \":\" +\n        f(this.getUTCMinutes()) + \":\" +\n        f(this.getUTCSeconds()) + \"Z\"\n        : null;\n    };\n\n    Boolean.prototype.toJSON = this_value;\n    Number.prototype.toJSON = this_value;\n    String.prototype.toJSON = this_value;\n  }\n\n  var gap;\n  var indent;\n  var meta;\n  var rep;\n\n\n  function quote(string) {\n\n    // If the string contains no control characters, no quote characters, and no\n    // backslash characters, then we can safely slap some quotes around it.\n    // Otherwise we must also replace the offending characters with safe escape\n    // sequences.\n\n    rx_escapable.lastIndex = 0;\n    return rx_escapable.test(string)\n      ? \"\\\"\" + string.replace(rx_escapable, function (a) {\n        var c = meta[a];\n        return typeof c === \"string\"\n          ? c\n          : \"\\\\u\" + (\"0000\" + a.charCodeAt(0).toString(16)).slice(-4);\n      }) + \"\\\"\"\n    : \"\\\"\" + string + \"\\\"\";\n  }\n\n\n  function str(key, holder) {\n\n    // Produce a string from holder[key].\n\n    var i;          // The loop counter.\n    var k;          // The member key.\n    var v;          // The member value.\n    var length;\n    var mind = gap;\n    var partial;\n    var value = holder[key];\n\n    // If the value has a toJSON method, call it to obtain a replacement value.\n\n    if (value && typeof value === \"object\" &&\n        typeof value.toJSON === \"function\") {\n      value = value.toJSON(key);\n    }\n\n    // If we were called with a replacer function, then call the replacer to\n    // obtain a replacement value.\n\n    if (typeof rep === \"function\") {\n      value = rep.call(holder, key, value);\n    }\n\n    // What happens next depends on the value's type.\n\n    switch (typeof value) {\n      case \"string\":\n        return quote(value);\n\n      case \"number\":\n\n        // JSON numbers must be finite. Encode non-finite numbers as null.\n\n        return isFinite(value)\n          ? String(value)\n          : \"null\";\n\n      case \"boolean\":\n      case \"null\":\n\n        // If the value is a boolean or null, convert it to a string. Note:\n        // typeof null does not produce \"null\". The case is included here in\n        // the remote chance that this gets fixed someday.\n\n        return String(value);\n\n        // If the type is \"object\", we might be dealing with an object or an array or\n        // null.\n\n      case \"object\":\n\n        // Due to a specification blunder in ECMAScript, typeof null is \"object\",\n        // so watch out for that case.\n\n        if (!value) {\n          return \"null\";\n        }\n\n        // Make an array to hold the partial results of stringifying this object value.\n\n        gap += indent;\n        partial = [];\n\n        // Is the value an array?\n\n        if (Object.prototype.toString.apply(value) === \"[object Array]\") {\n\n          // The value is an array. Stringify every element. Use null as a placeholder\n          // for non-JSON values.\n\n          length = value.length;\n          for (i = 0; i < length; i += 1) {\n            partial[i] = str(i, value) || \"null\";\n          }\n\n          // Join all of the elements together, separated with commas, and wrap them in\n          // brackets.\n\n          v = partial.length === 0\n            ? \"[]\"\n            : gap\n            ? \"[\\n\" + gap + partial.join(\",\\n\" + gap) + \"\\n\" + mind + \"]\"\n            : \"[\" + partial.join(\",\") + \"]\";\n          gap = mind;\n          return v;\n        }\n\n        // If the replacer is an array, use it to select the members to be stringified.\n\n        if (rep && typeof rep === \"object\") {\n          length = rep.length;\n          for (i = 0; i < length; i += 1) {\n            if (typeof rep[i] === \"string\") {\n              k = rep[i];\n              v = str(k, value);\n              if (v) {\n                partial.push(quote(k) + (\n                      gap\n                      ? \": \"\n                      : \":\"\n                      ) + v);\n              }\n            }\n          }\n        } else {\n\n          // Otherwise, iterate through all of the keys in the object.\n\n          for (k in value) {\n            if (Object.prototype.hasOwnProperty.call(value, k)) {\n              v = str(k, value);\n              if (v) {\n                partial.push(quote(k) + (\n                      gap\n                      ? \": \"\n                      : \":\"\n                      ) + v);\n              }\n            }\n          }\n        }\n\n        // Join all of the member texts together, separated with commas,\n        // and wrap them in braces.\n\n        v = partial.length === 0\n          ? \"{}\"\n          : gap\n          ? \"{\\n\" + gap + partial.join(\",\\n\" + gap) + \"\\n\" + mind + \"}\"\n          : \"{\" + partial.join(\",\") + \"}\";\n        gap = mind;\n        return v;\n    }\n  }\n\n  // If the JSON object does not yet have a stringify method, give it one.\n\n  if (typeof JSON.stringify !== \"function\") {\n    meta = {    // table of character substitutions\n      \"\\b\": \"\\\\b\",\n      \"\\t\": \"\\\\t\",\n      \"\\n\": \"\\\\n\",\n      \"\\f\": \"\\\\f\",\n      \"\\r\": \"\\\\r\",\n      \"\\\"\": \"\\\\\\\"\",\n      \"\\\\\": \"\\\\\\\\\"\n    };\n    JSON.stringify = function (value, replacer, space) {\n\n      // The stringify method takes a value and an optional replacer, and an optional\n      // space parameter, and returns a JSON text. The replacer can be a function\n      // that can replace values, or an array of strings that will select the keys.\n      // A default replacer method can be provided. Use of the space parameter can\n      // produce text that is more easily readable.\n\n      var i;\n      gap = \"\";\n      indent = \"\";\n\n      // If the space parameter is a number, make an indent string containing that\n      // many spaces.\n\n      if (typeof space === \"number\") {\n        for (i = 0; i < space; i += 1) {\n          indent += \" \";\n        }\n\n        // If the space parameter is a string, it will be used as the indent string.\n\n      } else if (typeof space === \"string\") {\n        indent = space;\n      }\n\n      // If there is a replacer, it must be a function or an array.\n      // Otherwise, throw an error.\n\n      rep = replacer;\n      if (replacer && typeof replacer !== \"function\" &&\n          (typeof replacer !== \"object\" ||\n           typeof replacer.length !== \"number\")) {\n        throw new Error(\"JSON.stringify\");\n      }\n\n      // Make a fake root object containing our value under the key of \"\".\n      // Return the result of stringifying the value.\n\n      return str(\"\", {\"\": value});\n    };\n  }\n\n\n  // If the JSON object does not yet have a parse method, give it one.\n\n  if (typeof JSON.parse !== \"function\") {\n    JSON.parse = (function () {\n\n      // This function creates a JSON parse function that uses a state machine rather\n      // than the dangerous eval function to parse a JSON text.\n\n      var state;      // The state of the parser, one of\n      // 'go'         The starting state\n      // 'ok'         The final, accepting state\n      // 'firstokey'  Ready for the first key of the object or\n      //              the closing of an empty object\n      // 'okey'       Ready for the next key of the object\n      // 'colon'      Ready for the colon\n      // 'ovalue'     Ready for the value half of a key/value pair\n      // 'ocomma'     Ready for a comma or closing }\n      // 'firstavalue' Ready for the first value of an array or\n      //              an empty array\n      // 'avalue'     Ready for the next value of an array\n      // 'acomma'     Ready for a comma or closing ]\n      var stack;      // The stack, for controlling nesting.\n      var container;  // The current container object or array\n      var key;        // The current key\n      var value;      // The current value\n      var escapes = { // Escapement translation table\n        \"\\\\\": \"\\\\\",\n        \"\\\"\": \"\\\"\",\n        \"/\": \"/\",\n        \"t\": \"\\t\",\n        \"n\": \"\\n\",\n        \"r\": \"\\r\",\n        \"f\": \"\\f\",\n        \"b\": \"\\b\"\n      };\n      var string = {   // The actions for string tokens\n        go: function () {\n          state = \"ok\";\n        },\n        firstokey: function () {\n          key = value;\n          state = \"colon\";\n        },\n        okey: function () {\n          key = value;\n          state = \"colon\";\n        },\n        ovalue: function () {\n          state = \"ocomma\";\n        },\n        firstavalue: function () {\n          state = \"acomma\";\n        },\n        avalue: function () {\n          state = \"acomma\";\n        }\n      };\n      var number = {   // The actions for number tokens\n        go: function () {\n          state = \"ok\";\n        },\n        ovalue: function () {\n          state = \"ocomma\";\n        },\n        firstavalue: function () {\n          state = \"acomma\";\n        },\n        avalue: function () {\n          state = \"acomma\";\n        }\n      };\n      var action = {\n\n        // The action table describes the behavior of the machine. It contains an\n        // object for each token. Each object contains a method that is called when\n        // a token is matched in a state. An object will lack a method for illegal\n        // states.\n\n        \"{\": {\n          go: function () {\n            stack.push({state: \"ok\"});\n            container = {};\n            state = \"firstokey\";\n          },\n          ovalue: function () {\n            stack.push({container: container, state: \"ocomma\", key: key});\n            container = {};\n            state = \"firstokey\";\n          },\n          firstavalue: function () {\n            stack.push({container: container, state: \"acomma\"});\n            container = {};\n            state = \"firstokey\";\n          },\n          avalue: function () {\n            stack.push({container: container, state: \"acomma\"});\n            container = {};\n            state = \"firstokey\";\n          }\n        },\n        \"}\": {\n          firstokey: function () {\n            var pop = stack.pop();\n            value = container;\n            container = pop.container;\n            key = pop.key;\n            state = pop.state;\n          },\n          ocomma: function () {\n            var pop = stack.pop();\n            container[key] = value;\n            value = container;\n            container = pop.container;\n            key = pop.key;\n            state = pop.state;\n          }\n        },\n        \"[\": {\n          go: function () {\n            stack.push({state: \"ok\"});\n            container = [];\n            state = \"firstavalue\";\n          },\n          ovalue: function () {\n            stack.push({container: container, state: \"ocomma\", key: key});\n            container = [];\n            state = \"firstavalue\";\n          },\n          firstavalue: function () {\n            stack.push({container: container, state: \"acomma\"});\n            container = [];\n            state = \"firstavalue\";\n          },\n          avalue: function () {\n            stack.push({container: container, state: \"acomma\"});\n            container = [];\n            state = \"firstavalue\";\n          }\n        },\n        \"]\": {\n          firstavalue: function () {\n            var pop = stack.pop();\n            value = container;\n            container = pop.container;\n            key = pop.key;\n            state = pop.state;\n          },\n          acomma: function () {\n            var pop = stack.pop();\n            container.push(value);\n            value = container;\n            container = pop.container;\n            key = pop.key;\n            state = pop.state;\n          }\n        },\n        \":\": {\n          colon: function () {\n            if (Object.hasOwnProperty.call(container, key)) {\n              throw new SyntaxError(\"Duplicate key '\" + key + \"\\\"\");\n            }\n            state = \"ovalue\";\n          }\n        },\n        \",\": {\n          ocomma: function () {\n            container[key] = value;\n            state = \"okey\";\n          },\n          acomma: function () {\n            container.push(value);\n            state = \"avalue\";\n          }\n        },\n        \"true\": {\n          go: function () {\n            value = true;\n            state = \"ok\";\n          },\n          ovalue: function () {\n            value = true;\n            state = \"ocomma\";\n          },\n          firstavalue: function () {\n            value = true;\n            state = \"acomma\";\n          },\n          avalue: function () {\n            value = true;\n            state = \"acomma\";\n          }\n        },\n        \"false\": {\n          go: function () {\n            value = false;\n            state = \"ok\";\n          },\n          ovalue: function () {\n            value = false;\n            state = \"ocomma\";\n          },\n          firstavalue: function () {\n            value = false;\n            state = \"acomma\";\n          },\n          avalue: function () {\n            value = false;\n            state = \"acomma\";\n          }\n        },\n        \"null\": {\n          go: function () {\n            value = null;\n            state = \"ok\";\n          },\n          ovalue: function () {\n            value = null;\n            state = \"ocomma\";\n          },\n          firstavalue: function () {\n            value = null;\n            state = \"acomma\";\n          },\n          avalue: function () {\n            value = null;\n            state = \"acomma\";\n          }\n        }\n      };\n\n      function debackslashify(text) {\n\n        // Remove and replace any backslash escapement.\n\n        return text.replace(/\\\\(?:u(.{4})|([^u]))/g, function (ignore, b, c) {\n          return b\n            ? String.fromCharCode(parseInt(b, 16))\n            : escapes[c];\n        });\n      }\n\n      return function (source, reviver) {\n\n        // A regular expression is used to extract tokens from the JSON text.\n        // The extraction process is cautious.\n\n        var result;\n        var tx = /^[\\u0020\\t\\n\\r]*(?:([,:\\[\\]{}]|true|false|null)|(-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)|\"((?:[^\\r\\n\\t\\\\\\\"]|\\\\(?:[\"\\\\\\/trnfb]|u[0-9a-fA-F]{4}))*)\")/;\n\n        // Set the starting state.\n\n        state = \"go\";\n\n        // The stack records the container, key, and state for each object or array\n        // that contains another object or array while processing nested structures.\n\n        stack = [];\n\n        // If any error occurs, we will catch it and ultimately throw a syntax error.\n\n        try {\n\n          // For each token...\n\n          while (true) {\n            result = tx.exec(source);\n            if (!result) {\n              break;\n            }\n\n            // result is the result array from matching the tokenizing regular expression.\n            //  result[0] contains everything that matched, including any initial whitespace.\n            //  result[1] contains any punctuation that was matched, or true, false, or null.\n            //  result[2] contains a matched number, still in string form.\n            //  result[3] contains a matched string, without quotes but with escapement.\n\n            if (result[1]) {\n\n              // Token: Execute the action for this state and token.\n\n              action[result[1]][state]();\n\n            } else if (result[2]) {\n\n              // Number token: Convert the number string into a number value and execute\n              // the action for this state and number.\n\n              value = +result[2];\n              number[state]();\n            } else {\n\n              // String token: Replace the escapement sequences and execute the action for\n              // this state and string.\n\n              value = debackslashify(result[3]);\n              string[state]();\n            }\n\n            // Remove the token from the string. The loop will continue as long as there\n            // are tokens. This is a slow process, but it allows the use of ^ matching,\n            // which assures that no illegal tokens slip through.\n\n            source = source.slice(result[0].length);\n          }\n\n          // If we find a state/token combination that is illegal, then the action will\n          // cause an error. We handle the error by simply changing the state.\n\n        } catch (e) {\n          state = e;\n        }\n\n        // The parsing is finished. If we are not in the final \"ok\" state, or if the\n        // remaining source contains anything except whitespace, then we did not have\n        //a well-formed JSON text.\n\n        if (state !== \"ok\" || (/[^\\u0020\\t\\n\\r]/.test(source))) {\n          throw (state instanceof SyntaxError)\n            ? state\n            : new SyntaxError(\"JSON\");\n        }\n\n        // If there is a reviver function, we recursively walk the new structure,\n        // passing each name/value pair to the reviver function for possible\n        // transformation, starting with a temporary root object that holds the current\n        // value in an empty key. If there is not a reviver function, we simply return\n        // that value.\n\n        return (typeof reviver === \"function\")\n          ? (function walk(holder, key) {\n            var k;\n            var v;\n            var val = holder[key];\n            if (val && typeof val === \"object\") {\n              for (k in value) {\n                if (Object.prototype.hasOwnProperty.call(val, k)) {\n                  v = walk(val, k);\n                  if (v !== undefined) {\n                    val[k] = v;\n                  } else {\n                    delete val[k];\n                  }\n                }\n              }\n            }\n            return reviver.call(holder, key, val);\n          }({\"\": value}, \"\"))\n        : value;\n      };\n    }());\n  }\n}\n\nmodule.exports = setupCustomJSON;\n","'use strict';\n\nfunction wrapGlobals(window, handler, shim) {\n  if (!window) { return; }\n  // Adapted from https://github.com/bugsnag/bugsnag-js\n  var globals = 'EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload'.split(',');\n  var i, global;\n  for (i = 0; i < globals.length; ++i) {\n    global = globals[i];\n\n    if (window[global] && window[global].prototype) {\n      _extendListenerPrototype(handler, window[global].prototype, shim);\n    }\n  }\n}\n\nfunction _extendListenerPrototype(handler, prototype, shim) {\n  if (prototype.hasOwnProperty && prototype.hasOwnProperty('addEventListener')) {\n    var oldAddEventListener = prototype.addEventListener;\n    while (oldAddEventListener._rollbarOldAdd && oldAddEventListener.belongsToShim) {\n      oldAddEventListener = oldAddEventListener._rollbarOldAdd;\n    }\n    var addFn = function(event, callback, bubble) {\n      oldAddEventListener.call(this, event, handler.wrap(callback), bubble);\n    };\n    addFn._rollbarOldAdd = oldAddEventListener;\n    addFn.belongsToShim = shim;\n    prototype.addEventListener = addFn;\n\n    var oldRemoveEventListener = prototype.removeEventListener;\n    while (oldRemoveEventListener._rollbarOldRemove && oldRemoveEventListener.belongsToShim) {\n      oldRemoveEventListener = oldRemoveEventListener._rollbarOldRemove;\n    }\n    var removeFn = function(event, callback, bubble) {\n      oldRemoveEventListener.call(this, event, callback && callback._rollbar_wrapped || callback, bubble);\n    };\n    removeFn._rollbarOldRemove = oldRemoveEventListener;\n    removeFn.belongsToShim = shim;\n    prototype.removeEventListener = removeFn;\n  }\n}\n\nmodule.exports = wrapGlobals;\n","'use strict';\n\nvar _ = require('./utility');\nvar traverse = require('./utility/traverse');\n\nfunction raw(payload, jsonBackup) {\n  return [payload, _.stringify(payload, jsonBackup)];\n}\n\nfunction selectFrames(frames, range) {\n  var len = frames.length;\n  if (len > range * 2) {\n    return frames.slice(0, range).concat(frames.slice(len - range));\n  }\n  return frames;\n}\n\nfunction truncateFrames(payload, jsonBackup, range) {\n  range = (typeof range === 'undefined') ? 30 : range;\n  var body = payload.data.body;\n  var frames;\n  if (body.trace_chain) {\n    var chain = body.trace_chain;\n    for (var i = 0; i < chain.length; i++) {\n      frames = chain[i].frames;\n      frames = selectFrames(frames, range);\n      chain[i].frames = frames;\n    }\n  } else if (body.trace) {\n    frames = body.trace.frames;\n    frames = selectFrames(frames, range);\n    body.trace.frames = frames;\n  }\n  return [payload, _.stringify(payload, jsonBackup)];\n}\n\nfunction maybeTruncateValue(len, val) {\n  if (!val) {\n    return val;\n  }\n  if (val.length > len) {\n    return val.slice(0, len - 3).concat('...');\n  }\n  return val;\n}\n\nfunction truncateStrings(len, payload, jsonBackup) {\n  function truncator(k, v, seen) {\n    switch (_.typeName(v)) {\n      case 'string':\n        return maybeTruncateValue(len, v);\n      case 'object':\n      case 'array':\n        return traverse(v, truncator, seen);\n      default:\n        return v;\n    }\n  }\n  payload = traverse(payload, truncator);\n  return [payload, _.stringify(payload, jsonBackup)];\n}\n\nfunction truncateTraceData(traceData) {\n  if (traceData.exception) {\n    delete traceData.exception.description;\n    traceData.exception.message = maybeTruncateValue(255, traceData.exception.message);\n  }\n  traceData.frames = selectFrames(traceData.frames, 1);\n  return traceData;\n}\n\nfunction minBody(payload, jsonBackup) {\n  var body = payload.data.body;\n  if (body.trace_chain) {\n    var chain = body.trace_chain;\n    for (var i = 0; i < chain.length; i++) {\n      chain[i] = truncateTraceData(chain[i]);\n    }\n  } else if (body.trace) {\n    body.trace = truncateTraceData(body.trace);\n  }\n  return [payload, _.stringify(payload, jsonBackup)];\n}\n\nfunction needsTruncation(payload, maxSize) {\n  return _.maxByteSize(payload) > maxSize;\n}\n\nfunction truncate(payload, jsonBackup, maxSize) {\n  maxSize = (typeof maxSize === 'undefined') ? (512 * 1024) : maxSize;\n  var strategies = [\n    raw,\n    truncateFrames,\n    truncateStrings.bind(null, 1024),\n    truncateStrings.bind(null, 512),\n    truncateStrings.bind(null, 256),\n    minBody\n  ];\n  var strategy, results, result;\n\n  while ((strategy = strategies.shift())) {\n    results = strategy(payload, jsonBackup);\n    payload = results[0];\n    result = results[1];\n    if (result.error || !needsTruncation(result.value, maxSize)) {\n      return result;\n    }\n  }\n  return result;\n}\n\nmodule.exports = {\n  truncate: truncate,\n\n  /* for testing */\n  raw: raw,\n  truncateFrames: truncateFrames,\n  truncateStrings: truncateStrings,\n  maybeTruncateValue: maybeTruncateValue\n};\n"],"sourceRoot":""},"metadata":{},"sourceType":"script"}