{"ast":null,"code":"import { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nexport const useTracking = (trackingId = process.env.GA_MEASUREMENT_ID) => {\n  const {\n    listen\n  } = useHistory();\n  useEffect(() => {\n    const unlisten = listen(location => {\n      if (!window.gtag) return;\n\n      if (!trackingId) {\n        console.log('Tracking not enabled, as `trackingId` was not given and there is no `GA_MEASUREMENT_ID`.');\n        return;\n      }\n\n      window.gtag('config', trackingId, {\n        page_path: location.pathname\n      });\n    });\n    return unlisten;\n  }, [trackingId, listen]);\n};","map":{"version":3,"sources":["C:/xampp/htdocs/LudusApp/src/hooks/useTracking.ts"],"names":["useEffect","useHistory","useTracking","trackingId","process","env","GA_MEASUREMENT_ID","listen","unlisten","location","window","gtag","console","log","page_path","pathname"],"mappings":"AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AAYA,OAAO,MAAMC,WAAW,GAAG,CACzBC,UAA8B,GAAGC,OAAO,CAACC,GAAR,CAAYC,iBADpB,KAEtB;AACH,QAAM;AAAEC,IAAAA;AAAF,MAAaN,UAAU,EAA7B;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMQ,QAAQ,GAAGD,MAAM,CAAEE,QAAD,IAAc;AACpC,UAAI,CAACC,MAAM,CAACC,IAAZ,EAAkB;;AAClB,UAAI,CAACR,UAAL,EAAiB;AACfS,QAAAA,OAAO,CAACC,GAAR,CACE,0FADF;AAGA;AACD;;AAEDH,MAAAA,MAAM,CAACC,IAAP,CAAY,QAAZ,EAAsBR,UAAtB,EAAkC;AAAEW,QAAAA,SAAS,EAAEL,QAAQ,CAACM;AAAtB,OAAlC;AACD,KAVsB,CAAvB;AAYA,WAAOP,QAAP;AACD,GAdQ,EAcN,CAACL,UAAD,EAAaI,MAAb,CAdM,CAAT;AAeD,CApBM","sourcesContent":["import { useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\ndeclare global {\r\n  interface Window {\r\n    gtag?: (\r\n      key: string,\r\n      trackingId: string,\r\n      config: { page_path: string },\r\n    ) => void\r\n  }\r\n}\r\n\r\nexport const useTracking = (\r\n  trackingId: string | undefined = process.env.GA_MEASUREMENT_ID,\r\n) => {\r\n  const { listen } = useHistory()\r\n\r\n  useEffect(() => {\r\n    const unlisten = listen((location) => {\r\n      if (!window.gtag) return\r\n      if (!trackingId) {\r\n        console.log(\r\n          'Tracking not enabled, as `trackingId` was not given and there is no `GA_MEASUREMENT_ID`.',\r\n        )\r\n        return\r\n      }\r\n\r\n      window.gtag('config', trackingId, { page_path: location.pathname })\r\n    })\r\n\r\n    return unlisten\r\n  }, [trackingId, listen])\r\n}\r\n"]},"metadata":{},"sourceType":"module"}